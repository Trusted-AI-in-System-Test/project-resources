{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13717","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13717/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13717/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13717/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13717","id":535491420,"node_id":"MDU6SXNzdWU1MzU0OTE0MjA=","number":13717,"title":"Compass caliberation is required after every reset","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":431515706,"node_id":"MDU6TGFiZWw0MzE1MTU3MDY=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/more_info_needed","name":"more_info_needed","color":"d4c5f9","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-12-10T04:50:24Z","updated_at":"2021-03-03T04:39:33Z","closed_at":"2020-01-08T10:51:52Z","author_association":"NONE","active_lock_reason":null,"body":"After every reboot of PX4 via QGC, compass calibration is show as red though the Quad was not even moved during the process. IS this how calibration is supposed to work or am i missing something here ?\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13717/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13712","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13712/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13712/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13712/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13712","id":535336914,"node_id":"MDExOlB1bGxSZXF1ZXN0MzUxMDcyOTU2","number":13712,"title":"uORB_tests: fix queue simulation and cleanup initializations","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-12-09T21:14:45Z","updated_at":"2019-12-09T21:50:38Z","closed_at":"2019-12-09T21:50:34Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13712","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13712","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13712.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13712.patch","merged_at":"2019-12-09T21:50:34Z"},"body":"This fixes the current failure.\r\n\r\n![image](https://user-images.githubusercontent.com/84712/70473398-f8d3b380-1a9e-11ea-8979-0ded127af33f.png)\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13712/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13706","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13706/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13706/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13706/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13706","id":535040822,"node_id":"MDExOlB1bGxSZXF1ZXN0MzUwODA0OTI4","number":13706,"title":"mavlink and land_detector airspeed timeout fixes","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699916,"node_id":"MDU6TGFiZWw3ODY5OTkxNg==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Fixed%20Wing%20%F0%9F%9B%A9%EF%B8%8F","name":"Fixed Wing üõ©Ô∏è","color":"009800","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-12-09T16:25:39Z","updated_at":"2020-01-22T05:29:31Z","closed_at":"2019-12-09T19:59:58Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13706","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13706","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13706.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13706.patch","merged_at":null},"body":"This PR updates mavlink VFR_HUD and the fixed wing land detector to handle airspeed data timeout, rather than continuing to use old data. These cases should probably be updated to use airspeed_validated, but this is a quick fix for now.\r\n\r\nhttps://github.com/PX4/Firmware/issues/13697","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13706/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13697","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13697/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13697/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13697/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13697","id":534278966,"node_id":"MDU6SXNzdWU1MzQyNzg5NjY=","number":13697,"title":"Bad system behavior when airspeed data disapears","user":{"login":"Antiheavy","id":12117027,"node_id":"MDQ6VXNlcjEyMTE3MDI3","avatar_url":"https://avatars.githubusercontent.com/u/12117027?v=4","gravatar_id":"","url":"https://api.github.com/users/Antiheavy","html_url":"https://github.com/Antiheavy","followers_url":"https://api.github.com/users/Antiheavy/followers","following_url":"https://api.github.com/users/Antiheavy/following{/other_user}","gists_url":"https://api.github.com/users/Antiheavy/gists{/gist_id}","starred_url":"https://api.github.com/users/Antiheavy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Antiheavy/subscriptions","organizations_url":"https://api.github.com/users/Antiheavy/orgs","repos_url":"https://api.github.com/users/Antiheavy/repos","events_url":"https://api.github.com/users/Antiheavy/events{/privacy}","received_events_url":"https://api.github.com/users/Antiheavy/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699916,"node_id":"MDU6TGFiZWw3ODY5OTkxNg==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Fixed%20Wing%20%F0%9F%9B%A9%EF%B8%8F","name":"Fixed Wing üõ©Ô∏è","color":"009800","default":false,"description":""},{"id":249514594,"node_id":"MDU6TGFiZWwyNDk1MTQ1OTQ=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Hybrid%20VTOL%20%F0%9F%9B%A9%EF%B8%8F%F0%9F%9A%81","name":"Hybrid VTOL üõ©Ô∏èüöÅ","color":"bfe5bf","default":false,"description":"Multirotor + Fixedwing!"}],"state":"closed","locked":false,"assignee":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},{"login":"sfuhrer","id":26798987,"node_id":"MDQ6VXNlcjI2Nzk4OTg3","avatar_url":"https://avatars.githubusercontent.com/u/26798987?v=4","gravatar_id":"","url":"https://api.github.com/users/sfuhrer","html_url":"https://github.com/sfuhrer","followers_url":"https://api.github.com/users/sfuhrer/followers","following_url":"https://api.github.com/users/sfuhrer/following{/other_user}","gists_url":"https://api.github.com/users/sfuhrer/gists{/gist_id}","starred_url":"https://api.github.com/users/sfuhrer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfuhrer/subscriptions","organizations_url":"https://api.github.com/users/sfuhrer/orgs","repos_url":"https://api.github.com/users/sfuhrer/repos","events_url":"https://api.github.com/users/sfuhrer/events{/privacy}","received_events_url":"https://api.github.com/users/sfuhrer/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/32","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32/labels","id":4728829,"node_id":"MDk6TWlsZXN0b25lNDcyODgyOQ==","number":32,"title":"Release v1.11.0","description":"","creator":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"open_issues":7,"closed_issues":167,"state":"open","created_at":"2019-10-07T16:06:51Z","updated_at":"2023-04-11T12:29:40Z","due_on":"2020-04-01T07:00:00Z","closed_at":null},"comments":11,"created_at":"2019-12-06T22:04:23Z","updated_at":"2021-02-09T10:14:31Z","closed_at":"2021-02-09T10:14:31Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"There is some bad system behavior we've observed in legacy firmware (between v1.8-v1.9) related to airspeed data disappearing, for example if the I2C bus flakes out or if power is lost to the airspeed sensor.\r\n\r\nI submit this for review against the new airspeed selector work @sfuhrer and others are contributing in hopes the new airspeed features will robustly handle these difference cases.\r\n\r\nIf airspeed data suddenly disappears there are several bad behaviors:\r\n\r\n1. The system seems to keep sending the last known airspeed reading down the MAVlink pipe to the ground station (might need to be verified).  It should instead stop sending airspeed data if no new data is available.\r\n\r\n2. There are no warnings to the user that airspeed data has gone missing. There should be some warning inidcation if airspeed data is expected but disappeared.  There should also be an indication if it returns.  (note: similar data disappeared, data returned indications should be extended to all sensor types).\r\n\r\n3. On a failed takeoff, if the autopilot stops receiving airspeed data, the LandDetector may think the vehicle is still flying because the last reported airspeed still seems to be piping into the system. The motor may still run at full throttle! Ideally airpseed would stop updating and \"zero\" or \"null\" would be reported and the system would understand that it should not be using airspeed as part of the LandDetector.\r\n\r\n4. If airspeed disappears during flight there is no indication that it disappeared. TECS will silently switch to non-airspeed mode and not tell the user and by-passes the airspeed failsafe functionality. There should be warning indications and the airspeed failsafe functionality should be followed.\r\n\r\nHere are some flight logs showing the last example of airspeed data disappearing during the middle of a flight:\r\nhttps://review.px4.io/plot_app?log=d378dac5-1061-444d-ba8d-ee911c6315cf\r\nhttps://review.px4.io/plot_app?log=35be23c2-6bdf-4caa-9075-f9805b6d2035\r\nhttps://review.px4.io/plot_app?log=5ffc7018-9793-4b88-89a3-8066988b1e54\r\n\r\nFYI @sfuhrer ","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13697/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13695","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13695/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13695/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13695/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13695","id":534041214,"node_id":"MDExOlB1bGxSZXF1ZXN0MzUwMDE0NTQ1","number":13695,"title":"commander: remove manual mode before geofence handling","user":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2019-12-06T14:45:20Z","updated_at":"2019-12-23T17:18:32Z","closed_at":"2019-12-23T17:18:28Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13695","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13695","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13695.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13695.patch","merged_at":"2019-12-23T17:18:28Z"},"body":"**Describe problem solved by this pull request**\r\nIf you hit a geofence in position mode and you either let go of the stick or move it just a little bit the geofence reaction is overriden and it switches back to position mode.\r\n\r\nThe original logic was introduced here: https://github.com/PX4/Firmware/commit/a2ba34d1aedfc84b8ece97ebdaa9d17781ad07aa and probably made sense to allow the pilot to come out of the geofence again but things have changed: There's now the rc override by sticks and the pilot can come out by switching mode since https://github.com/PX4/Firmware/pull/12057.\r\n\r\n**Describe your solution**\r\nEven though there are more problems than just this one I prefer to not accidentally switch out of the geofence reaction just by letting go of the stick. E.g. Full forward position mode -> RTL reaction -> let go of the stick -> position mode -> confusion. That why I propse to treat geofence like a critical battery in this regard and don't override the reaction by sticks.\r\n\r\n**Describe possible alternatives**\r\nThe goal geofence implementation I would pursue does not siwtch out of position mode but prevents you from even ever exceeding the virtual fence similar to collision prevention. This implementation can then be reused for maximum altitude and so on.\r\n\r\n**Test data / coverage**\r\nSITL testing.\r\n\r\n**Additional context**\r\nhttps://github.com/PX4/Firmware/pull/13613 should definitely go in first! I'll rebase.\r\n ","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13695/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13693","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13693/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13693/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13693/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13693","id":534030467,"node_id":"MDExOlB1bGxSZXF1ZXN0MzUwMDA1MTU0","number":13693,"title":"navigator: do not use fixed wing acceptance radius if in rotary wing‚Ä¶","user":{"login":"RomanBapst","id":7610489,"node_id":"MDQ6VXNlcjc2MTA0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/7610489?v=4","gravatar_id":"","url":"https://api.github.com/users/RomanBapst","html_url":"https://github.com/RomanBapst","followers_url":"https://api.github.com/users/RomanBapst/followers","following_url":"https://api.github.com/users/RomanBapst/following{/other_user}","gists_url":"https://api.github.com/users/RomanBapst/gists{/gist_id}","starred_url":"https://api.github.com/users/RomanBapst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RomanBapst/subscriptions","organizations_url":"https://api.github.com/users/RomanBapst/orgs","repos_url":"https://api.github.com/users/RomanBapst/repos","events_url":"https://api.github.com/users/RomanBapst/events{/privacy}","received_events_url":"https://api.github.com/users/RomanBapst/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":249514594,"node_id":"MDU6TGFiZWwyNDk1MTQ1OTQ=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Hybrid%20VTOL%20%F0%9F%9B%A9%EF%B8%8F%F0%9F%9A%81","name":"Hybrid VTOL üõ©Ô∏èüöÅ","color":"bfe5bf","default":false,"description":"Multirotor + Fixedwing!"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-12-06T14:31:23Z","updated_at":"2019-12-24T17:52:14Z","closed_at":"2019-12-24T17:52:11Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13693","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13693","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13693.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13693.patch","merged_at":"2019-12-24T17:52:11Z"},"body":"This is an attempt to fix an issue which can seen in this [log file](https://logs.px4.io/plot_app?log=47b2b562-bd40-4137-ae46-ef34d17d5f21)\r\nWhat happens is that the VTOL starts to descend after the back-transition prior to arriving at the actual waypoint. This can be very dangerous e.g. when the vehicle is pushed away from the land waypoint during the transition. It will then start to descend while moving toward the land waypoint.\r\nThe behavior should be that the vehicle keeps altitude until it has reached the landing waypoint.\r\n\r\nI have first reproduced this behavior on 1.9.2 but it only happened once in a while and appeared to be a race condition. I figured out that in some cases the navigator was using the acceptance radius from the fixed wing position controller in order to determine if the landing waypoint has been reached. This is a bug as the fixed wing acceptance radius can be very large and should not be used during hover.\r\nI believe this fix here solves the issue on 1.9.2.\r\n\r\nHowever, when testing the same fix on master I figured that there is a new problem in master.\r\nFor some reason the altitude setpoint of the position_setpoint_triplet.current is set to a very low value (6m) right at the start of the back-transition. This value is then further used as altitude setpoint during the horizonal movement during the landing waypoint. I'm not sure what causes this but the effect is again that the vehicle descends while moving towards the land waypoint. This needs further investigation.\r\n\r\nThis can easily be reproduced in SITL using the standard vtol model.\r\nI'm further uploading the mission file which can be used to reproduce the problem. You might need to change the file extension to .plan\r\n[vtol_mission.LOG](https://github.com/PX4/Firmware/files/3932587/vtol_mission.LOG)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13693/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13690","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13690/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13690/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13690/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13690","id":533928366,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ5OTE0ODUy","number":13690,"title":"Fix check for negative scaled lat lon on VEHICLE_CMD_DO_REPOSITION ","user":{"login":"BazookaJoe1900","id":29940676,"node_id":"MDQ6VXNlcjI5OTQwNjc2","avatar_url":"https://avatars.githubusercontent.com/u/29940676?v=4","gravatar_id":"","url":"https://api.github.com/users/BazookaJoe1900","html_url":"https://github.com/BazookaJoe1900","followers_url":"https://api.github.com/users/BazookaJoe1900/followers","following_url":"https://api.github.com/users/BazookaJoe1900/following{/other_user}","gists_url":"https://api.github.com/users/BazookaJoe1900/gists{/gist_id}","starred_url":"https://api.github.com/users/BazookaJoe1900/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BazookaJoe1900/subscriptions","organizations_url":"https://api.github.com/users/BazookaJoe1900/orgs","repos_url":"https://api.github.com/users/BazookaJoe1900/repos","events_url":"https://api.github.com/users/BazookaJoe1900/events{/privacy}","received_events_url":"https://api.github.com/users/BazookaJoe1900/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-12-06T12:09:45Z","updated_at":"2019-12-18T09:50:39Z","closed_at":"2019-12-18T08:48:32Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13690","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13690","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13690.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13690.patch","merged_at":"2019-12-18T08:48:31Z"},"body":"**Describe problem solved by this pull request**\r\nas described on 'VEHICLE_CMD_DO_REPOSITION scaling check invalid for negative lat/lon #11364:\r\n\r\nVEHICLE_CMD_DO_REPOSITION attempts to do a sanity check to handle both scaled and unscaled lat/lon. If the lat or lon are over 1000, the value is assumed to be scaled and divided down. However, this check is not valid for locations south of the equator or west of the meridian because the values will be negative and therefore below 1000\r\n\r\n**Describe possible alternatives**\r\nadd flag on COMMAND_LONG to tell if the location is scaled.\r\n\r\n**Test data / coverage**\r\nSimulation\r\n\r\n**Additional context**\r\nThe check will still fail in case of scaled location that happen to be on the narrow band in the meridian/equator of +-1000.\r\nthis fix is partial for now, and still solves most of the cases.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13690/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13689","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13689/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13689/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13689/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13689","id":533877159,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ5ODcyMjQy","number":13689,"title":"navigator: fix VTOL RTL corner case","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":249514594,"node_id":"MDU6TGFiZWwyNDk1MTQ1OTQ=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Hybrid%20VTOL%20%F0%9F%9B%A9%EF%B8%8F%F0%9F%9A%81","name":"Hybrid VTOL üõ©Ô∏èüöÅ","color":"bfe5bf","default":false,"description":"Multirotor + Fixedwing!"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-12-06T10:29:52Z","updated_at":"2019-12-10T09:04:35Z","closed_at":"2019-12-09T17:27:48Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13689","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13689","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13689.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13689.patch","merged_at":"2019-12-09T17:27:48Z"},"body":"This fixes a corner case for VTOL RTL with RTL_TYPE 1.\r\nRTL_TYPE 1 means that the VTOL skips all waypoints on RTL and jumps to the land waypoint at the end.\r\n\r\nDuring a mission in fixedwing mode it will continue to fly in fixedwing mode and then do a transition before landing.\r\n\r\nHowever, if RTL is engaged right at the moment of the front transition, the transition waypoint is not inserted and the VTOL will try to land in fixedwing mode at the mission land location.\r\n\r\nThis corner case is fixed in this patch by also considering the \"transition after takeoff\" state.\r\n\r\nThis was discovered by @sfuhrer and I did most debugging together with @sfuhrer.\r\n\r\nTested in SITL with `standard_vtol`.\r\n\r\nThe problem can be reproduced by requesting RTL right during the front transition of a mission (and with `RTL_TYPE` set to `1`.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13689/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13688","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13688/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13688/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13688/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13688","id":533853340,"node_id":"MDU6SXNzdWU1MzM4NTMzNDA=","number":13688,"title":"Drop when switching from MANUAL to OFFBOARD on the flight","user":{"login":"negvet","id":17028475,"node_id":"MDQ6VXNlcjE3MDI4NDc1","avatar_url":"https://avatars.githubusercontent.com/u/17028475?v=4","gravatar_id":"","url":"https://api.github.com/users/negvet","html_url":"https://github.com/negvet","followers_url":"https://api.github.com/users/negvet/followers","following_url":"https://api.github.com/users/negvet/following{/other_user}","gists_url":"https://api.github.com/users/negvet/gists{/gist_id}","starred_url":"https://api.github.com/users/negvet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/negvet/subscriptions","organizations_url":"https://api.github.com/users/negvet/orgs","repos_url":"https://api.github.com/users/negvet/repos","events_url":"https://api.github.com/users/negvet/events{/privacy}","received_events_url":"https://api.github.com/users/negvet/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1442618266,"node_id":"MDU6TGFiZWwxNDQyNjE4MjY2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Offboard","name":"Offboard","color":"d8954e","default":false,"description":"Offboard mode control"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-12-06T09:44:48Z","updated_at":"2020-03-20T10:53:05Z","closed_at":"2020-03-20T10:53:04Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nA drone suddenly drops down 0.5-1 meters when switching to OFFBOARD on the flight.\r\n\r\nThe problem is that for some reason when I switch to OFFBOARD for the very small first period of time the `POSITION_TARGET_LOCAL_NED.vz` is positive (so the drone goes down). It is also observable in `/mavros/setpoint_raw/target_local`. The very first message after switching to offboard:\r\n\r\n> header: \r\n>   seq: 196\r\n>   stamp: \r\n>     secs: 1455209561\r\n>     nsecs: 290099086\r\n>   frame_id: ''\r\n> coordinate_frame: 1\r\n> type_mask: 0\r\n> position: \r\n>   x: -0.06703799963\r\n>   y: 0.402279406786\r\n>   z: 1.61291372776\r\n> velocity: \r\n>   x: 1.2246468174e-17\r\n>   y: -2.46519036555e-33\r\n>   z: -0.50000000149\r\n> acceleration_or_force: \r\n>   x: -0.0379852429032\r\n>   y: 0.0017760390183\r\n>   z: 4.83928060532\r\n> yaw: 1.6123470068\r\n> yaw_rate: 0.0\r\n\r\nI do not know how to fix it.\r\n\r\nWhen I set to OFFBOARD on the ground - everything works just fine, I am able to take off, fly around and land.\r\n\r\nPX4 Firmware: 1.8.2.\r\nCube flight controller\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Initialize EKF2 on the ground (vision is available). Publish vision pose and orient to `/mavros/vision_pose/pose_cov`. \r\n2. Move the drone nearby on the ground, where vision is not available.\r\n3. Takeoff in manual mode with RC.\r\n4. Fly to the area where vision is available (1.5-2 meters height). \r\n5. If vision is available -> grab position and orient from `/mavros/local_position/pose` and publish several setpoints to `/mavros/setpoint_position/local`\r\n6. Switch to offboard.\r\n7. The drone suddenly goes down 0.5-0.7 m but then stops, goes back up and follows the setpoints.\r\n\r\n\r\n**Expected behavior**\r\nI expect the drone to hover at the position where and when the OFFBOARD is enabled.\r\n\r\n**Log Files and Screenshots**\r\n![Screenshot from 2019-12-05 17-13-06](https://user-images.githubusercontent.com/17028475/70312977-c2d7ca80-1825-11ea-9365-fb3938dfaf85.png)\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13688/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13686","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13686/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13686/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13686/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13686","id":533377148,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ5NDYxOTg5","number":13686,"title":"MAVLink: fixes for USB instance","user":{"login":"bkueng","id":281593,"node_id":"MDQ6VXNlcjI4MTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/281593?v=4","gravatar_id":"","url":"https://api.github.com/users/bkueng","html_url":"https://github.com/bkueng","followers_url":"https://api.github.com/users/bkueng/followers","following_url":"https://api.github.com/users/bkueng/following{/other_user}","gists_url":"https://api.github.com/users/bkueng/gists{/gist_id}","starred_url":"https://api.github.com/users/bkueng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkueng/subscriptions","organizations_url":"https://api.github.com/users/bkueng/orgs","repos_url":"https://api.github.com/users/bkueng/repos","events_url":"https://api.github.com/users/bkueng/events{/privacy}","received_events_url":"https://api.github.com/users/bkueng/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-12-05T14:12:49Z","updated_at":"2020-02-06T10:11:19Z","closed_at":"2019-12-06T06:00:08Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13686","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13686","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13686.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13686.patch","merged_at":"2019-12-06T06:00:08Z"},"body":"Open the UART after adding the instance to the linked list, instead of before: mavlink_open_uart() might block, and in that case the parent task waiting for mavlink to be started times out.\r\n\r\nAnd while waiting for the USB UART device to come up:\r\n- check for _task_should_exit\r\n- check for check_requested_subscriptions()\r\n\r\nSide-effects when USB is not plugged in during boot:\r\n- reduces boot duration by 100ms\r\n- fixes duplicate instance name in 'top':\r\n```\r\n 201 mavlink_if0                     1  0.000  1328/ 2572 100 (100)  w:sig  3\r\n 204 mavlink_if0                   572  4.221  1632/ 2540 100 (100)  w:sig  4\r\n```\r\n- 'mavlink stop-all' now stops the usb instance as well","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13686/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13685","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13685/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13685/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13685/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13685","id":533270492,"node_id":"MDU6SXNzdWU1MzMyNzA0OTI=","number":13685,"title":"Logger complains about too many subscriptions","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":289821422,"node_id":"MDU6TGFiZWwyODk4MjE0MjI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/sitl","name":"sitl","color":"bfd4f2","default":false,"description":"software in the loop simulation"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-12-05T10:45:21Z","updated_at":"2023-04-04T12:41:13Z","closed_at":"2020-03-04T13:07:44Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"On SITL startup with `standard_vtol` I see the following logger warnings:\r\n\r\n```\r\nINFO  [logger] logger started (mode=all)\r\nWARN  [logger] Too many subscriptions, failed to add: sensor_selection 0\r\nWARN  [logger] Too many subscriptions, failed to add: vehicle_visual_odometry 0\r\nWARN  [logger] Too many subscriptions, failed to add: vehicle_visual_odometry_aligned 0\r\nWARN  [logger] Too many subscriptions, failed to add: cellular_status 0\r\nWARN  [logger] Too many subscriptions, failed to add: collision_constraints 0\r\nWARN  [logger] Too many subscriptions, failed to add: obstacle_distance_fused 0\r\nWARN  [logger] Too many subscriptions, failed to add: onboard_computer_status 0\r\nWARN  [logger] Too many subscriptions, failed to add: vehicle_mocap_odometry 0\r\nWARN  [logger] Too many subscriptions, failed to add: vehicle_trajectory_waypoint 0\r\nWARN  [logger] Too many subscriptions, failed to add: vehicle_trajectory_waypoint_desired 0\r\nWARN  [logger] Too many subscriptions, failed to add: vehicle_visual_odometry 0\r\n```\r\n\r\nFYI @bkueng ","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13685/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13684","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13684/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13684/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13684/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13684","id":533269020,"node_id":"MDU6SXNzdWU1MzMyNjkwMjA=","number":13684,"title":"SITL takeoff intermittent failures","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":289821422,"node_id":"MDU6TGFiZWwyODk4MjE0MjI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/sitl","name":"sitl","color":"bfd4f2","default":false,"description":"software in the loop simulation"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-12-05T10:42:54Z","updated_at":"2020-03-04T11:09:52Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nSometimes, when starting a mission using QGC, I get the warning \"manual control lost\" right on arming/takeoff. Sometimes afterwards the vehicle won't takeoff.\r\nSometimes, I don't see the \"manual control lost\" warning but it does not take off anyway.\r\nThis happened with `standard_vtol`.\r\n\r\n**To Reproduce**\r\n1. Start SITL\r\n2. Upload mission from QGC\r\n3. Wait for GPS lock and press \"Start Mission\" \r\n\r\n**Expected behavior**\r\nIt should not lose RC if RC is sent from QGC. And it should takeoff when QGC tells it to do so.\r\n\r\n```\r\npxh> INFO  [ecl/EKF] 5900000: EKF commencing GPS fusion\r\npxh> WARN  [commander] Manual control lost\r\nERROR [navigator] mission update failed\r\nERROR [navigator] mission check failed\r\nWARN  [mc_pos_control] Failsafe: stop and wait\r\nINFO  [logger] closed logfile, bytes written: 3506011\r\n```\r\n\r\n**Logs**\r\n\r\nManual control lost, and not taking off:\r\nhttps://logs.px4.io/plot_app?log=cc4c6fd3-38d6-430d-9f11-047c2ea7251a\r\n\r\nNot taking off:\r\nhttps://logs.px4.io/plot_app?log=5adecad5-c0af-4166-8e69-5eaa1a48e98c\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13684/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13682","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13682/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13682/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13682/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13682","id":533204146,"node_id":"MDU6SXNzdWU1MzMyMDQxNDY=","number":13682,"title":"VTOL transitons to MC immediately after RTL","user":{"login":"sfuhrer","id":26798987,"node_id":"MDQ6VXNlcjI2Nzk4OTg3","avatar_url":"https://avatars.githubusercontent.com/u/26798987?v=4","gravatar_id":"","url":"https://api.github.com/users/sfuhrer","html_url":"https://github.com/sfuhrer","followers_url":"https://api.github.com/users/sfuhrer/followers","following_url":"https://api.github.com/users/sfuhrer/following{/other_user}","gists_url":"https://api.github.com/users/sfuhrer/gists{/gist_id}","starred_url":"https://api.github.com/users/sfuhrer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfuhrer/subscriptions","organizations_url":"https://api.github.com/users/sfuhrer/orgs","repos_url":"https://api.github.com/users/sfuhrer/repos","events_url":"https://api.github.com/users/sfuhrer/events{/privacy}","received_events_url":"https://api.github.com/users/sfuhrer/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":249514594,"node_id":"MDU6TGFiZWwyNDk1MTQ1OTQ=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Hybrid%20VTOL%20%F0%9F%9B%A9%EF%B8%8F%F0%9F%9A%81","name":"Hybrid VTOL üõ©Ô∏èüöÅ","color":"bfe5bf","default":false,"description":"Multirotor + Fixedwing!"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-12-05T08:42:31Z","updated_at":"2021-01-18T20:58:45Z","closed_at":"2021-01-18T20:58:45Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nVTOL in mission mode: when RTL is triggered after the vehicle has already reached the 2nd to last waypoint (thus having as next wp the landing waypoint), it immediately transitions to multicopter instead of proceeding flying in fixed-wing until close to landing (as it does when RTL was triggered earlier in the mission, with not landing currently as active wp).\r\n\r\n**To Reproduce**\r\nPlan mission in SITL with landing at end, and long distance between landing and prior wp. Trigger RTL when 2nd to last wp is already reached.\r\n\r\n**Expected behavior**\r\nVTOL should proceed flying in FW until close to home/land.\r\n\r\n**Additional context**\r\nLong flights in MC are bad for battery consumption, which is especially problematic during RTL situations where low battery s could have been the cause.\r\n\r\nNote: this problem shouldn't be present when the mission is planned in the recommended manner for VTOL with a DO_LAND_START marker, a loiter to altitude and then a landing wp. Maybe we should thus now try to enable to set this landing procedure in a simple manner for the pilot (similar to how it is done for FW systems).\r\n\r\nFYI @RomanBapst \r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13682/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13675","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13675/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13675/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13675/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13675","id":532597130,"node_id":"MDU6SXNzdWU1MzI1OTcxMzA=","number":13675,"title":"Yaw during takeoff","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-12-04T10:40:51Z","updated_at":"2020-01-23T14:59:24Z","closed_at":"2020-01-23T14:59:24Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nSometimes I observe a multicopter doing a strange yaw back and forth right during takeoff.\r\n\r\n**To Reproduce**\r\nDo many takeoff in SITL and every now and then it's visible.\r\n\r\n**Expected behavior**\r\nIt should not yaw during takeoff, period.\r\n\r\n**Log Files and Screenshots**\r\n![17_39_47-yaw-on-takeoff](https://user-images.githubusercontent.com/1419688/70135447-64c2b000-168a-11ea-976a-6f576dc582fb.png)\r\n![14_03_52-yaw-on-takeoff](https://user-images.githubusercontent.com/1419688/70135449-64c2b000-168a-11ea-8778-48dca6c56703.png)\r\n\r\nhttps://logs.px4.io/plot_app?log=907be591-f04b-4187-8e5a-153435b0bfe1\r\nhttps://logs.px4.io/plot_app?log=bb0b86a5-a23c-4acd-a88a-fda4a8b6b78c\r\n\r\n**Drone (please complete the following information):**\r\n- The logs are from a VTOL takeoff without weathervane activated, however, I've also seen the behaviour with iris.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13675/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13671","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13671/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13671/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13671/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13671","id":532309618,"node_id":"MDU6SXNzdWU1MzIzMDk2MTg=","number":13671,"title":"Flight Speed control doesn't always work","user":{"login":"mwiatt","id":4399188,"node_id":"MDQ6VXNlcjQzOTkxODg=","avatar_url":"https://avatars.githubusercontent.com/u/4399188?v=4","gravatar_id":"","url":"https://api.github.com/users/mwiatt","html_url":"https://github.com/mwiatt","followers_url":"https://api.github.com/users/mwiatt/followers","following_url":"https://api.github.com/users/mwiatt/following{/other_user}","gists_url":"https://api.github.com/users/mwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/mwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwiatt/subscriptions","organizations_url":"https://api.github.com/users/mwiatt/orgs","repos_url":"https://api.github.com/users/mwiatt/repos","events_url":"https://api.github.com/users/mwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/mwiatt/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-12-03T22:28:23Z","updated_at":"2020-08-16T13:55:26Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nWhen a \"Flight Speed\" is attached to a waypoint in QGC, the speed is not always used. This behavior is intermittent but happens more often than not.\r\n\r\n![image](https://user-images.githubusercontent.com/4399188/70094566-9fb7db80-15d7-11ea-97dc-10a36c110c6e.png)\r\n\r\n**To Reproduce**\r\nThis behavior is intermittent.\r\n\r\nSteps to reproduce the behavior:\r\n- Create mission with a \"Flight speed\" attached to a waypoint\r\n- Upload to flight controller\r\n- Take off and fly in mission mode.\r\n\r\n**Expected behavior**\r\nNew speed is used.\r\n\r\n**Log Files and Screenshots**\r\n- Log: https://logs.px4.io/plot_app?log=36040896-dbc3-48d4-baab-ec18c0ed29bd\r\n- Plan: [no-speed-control.plan.txt](https://github.com/PX4/Firmware/files/3918981/no-speed-control.plan.txt)\r\n\r\n**Drone (please complete the following information):**\r\n- Tarot X6 (with Tarot retracts)\r\n- Pixhawk Cube 2.1\r\n- Here2 GNSS\r\n- PX4 1.10.0 rc2\r\n- QGC daily 12/2/2019 Win10\r\n- Gremsy S1 Gimbal connected to Telem2 (Mavlink)\r\n\r\n**Additional context**\r\nThis feels **very** similar to this bug https://github.com/PX4/Firmware/issues/13474 In fact, I had an ROI waypoint in the plan and speed control and both were sometimes ignored. If one worked, the other seemed to usually work. If the ROI failed, the speed control would typically fail also. It seems like the messages from the piece of the firmware that processes the mission items are often ignored.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13671/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13668","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13668/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13668/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13668/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13668","id":532228155,"node_id":"MDU6SXNzdWU1MzIyMjgxNTU=","number":13668,"title":"Position controller failsafe reported when the mission starts with a command","user":{"login":"dusan19","id":35773661,"node_id":"MDQ6VXNlcjM1NzczNjYx","avatar_url":"https://avatars.githubusercontent.com/u/35773661?v=4","gravatar_id":"","url":"https://api.github.com/users/dusan19","html_url":"https://github.com/dusan19","followers_url":"https://api.github.com/users/dusan19/followers","following_url":"https://api.github.com/users/dusan19/following{/other_user}","gists_url":"https://api.github.com/users/dusan19/gists{/gist_id}","starred_url":"https://api.github.com/users/dusan19/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dusan19/subscriptions","organizations_url":"https://api.github.com/users/dusan19/orgs","repos_url":"https://api.github.com/users/dusan19/repos","events_url":"https://api.github.com/users/dusan19/events{/privacy}","received_events_url":"https://api.github.com/users/dusan19/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-12-03T19:57:13Z","updated_at":"2020-03-05T07:20:09Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"When the mission is uploaded through mavlink mission interface (while the drone is in air), with the first mission item being a command such as  `MAV_CMD_DO_CHANGE_SPEED` or `MAV_CMD_DO_SET_ROI_LOCATION`, the position controller reports:\r\n\r\n```\r\nWARN  [mc_pos_control] Position-Control Setpoint-Update failed\r\nWARN  [mc_pos_control] Failsafe: stop and wait\r\n```\r\n\r\nAfter this I land and start the new mission from ground, with the following mission items:\r\nchange speed -> set roi -> takeoff -> waypoint\r\nI get the following messages:\r\n```\r\nWARN  [mc_pos_control] Auto activation failed with error: Activation Failed\r\nWARN  [mc_pos_control] Position-Ctrl activation failed with error: Activation Failed\r\nWARN  [mc_pos_control] Altitude-Ctrl activation failed with error: Activation Failed\r\n```\r\n\r\nThis doesn't happen when the command is not the first mission item.\r\n\r\nIn both cases, the mission still executes and ends properly, but these messages seem suspicious.\r\nshould the position controller even in any way be affected by the speed change or set roi command?\r\n\r\nAll mentioned is reproducible.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13668/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13667","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13667/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13667/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13667/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13667","id":532135097,"node_id":"MDU6SXNzdWU1MzIxMzUwOTc=","number":13667,"title":"ST16 \"manual control lost\" after decoding initial stick positions","user":{"login":"JoshG20","id":53982513,"node_id":"MDQ6VXNlcjUzOTgyNTEz","avatar_url":"https://avatars.githubusercontent.com/u/53982513?v=4","gravatar_id":"","url":"https://api.github.com/users/JoshG20","html_url":"https://github.com/JoshG20","followers_url":"https://api.github.com/users/JoshG20/followers","following_url":"https://api.github.com/users/JoshG20/following{/other_user}","gists_url":"https://api.github.com/users/JoshG20/gists{/gist_id}","starred_url":"https://api.github.com/users/JoshG20/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoshG20/subscriptions","organizations_url":"https://api.github.com/users/JoshG20/orgs","repos_url":"https://api.github.com/users/JoshG20/repos","events_url":"https://api.github.com/users/JoshG20/events{/privacy}","received_events_url":"https://api.github.com/users/JoshG20/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1442874742,"node_id":"MDU6TGFiZWwxNDQyODc0NzQy","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Drivers%20%F0%9F%94%A7","name":"Drivers üîß","color":"5d3ebc","default":false,"description":"Sensors, Actuators, etc"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":25,"created_at":"2019-12-03T17:10:22Z","updated_at":"2021-01-01T14:26:04Z","closed_at":"2021-01-01T14:26:04Z","author_association":"NONE","active_lock_reason":null,"body":"I'm working on using the ST16 Controller with pixhawk. The receiver is the SR24, also used with the ST24, which is a protocol included with pixhawk. I use QGC and connect the pixhawk via USB, and then connect the SR24 receiver, which is already bound to the ST16 controller). Once the receiver is connected to the spkt/dsm port, all 12 channels appear with the correct stick positions in the channel monitor, but QGC immediately warns \"Manual control lost\" and the channels do not react to changes in stick position. This can be reproduced by unplugging and re-inserting the SR24 receiver again, but does not occur when starting pixhawk with the SR24 connected. I had hoped to figure this out myself but I do not have the coding knowledge to debug the ST24 protocol implementation or debug in QGC. With my limited coding knowledge my best guess is that the RC test is working correctly and it is decoding at least one packet, but there is a bug in the decoder itself. I can do any testing you need as long as you show me how.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13667/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13654","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13654/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13654/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13654/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13654","id":530971341,"node_id":"MDU6SXNzdWU1MzA5NzEzNDE=","number":13654,"title":"camera_feedback build failed on RPi","user":{"login":"SalimTerryLi","id":10492472,"node_id":"MDQ6VXNlcjEwNDkyNDcy","avatar_url":"https://avatars.githubusercontent.com/u/10492472?v=4","gravatar_id":"","url":"https://api.github.com/users/SalimTerryLi","html_url":"https://github.com/SalimTerryLi","followers_url":"https://api.github.com/users/SalimTerryLi/followers","following_url":"https://api.github.com/users/SalimTerryLi/following{/other_user}","gists_url":"https://api.github.com/users/SalimTerryLi/gists{/gist_id}","starred_url":"https://api.github.com/users/SalimTerryLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SalimTerryLi/subscriptions","organizations_url":"https://api.github.com/users/SalimTerryLi/orgs","repos_url":"https://api.github.com/users/SalimTerryLi/repos","events_url":"https://api.github.com/users/SalimTerryLi/events{/privacy}","received_events_url":"https://api.github.com/users/SalimTerryLi/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":326832167,"node_id":"MDU6TGFiZWwzMjY4MzIxNjc=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/hardware:%20raspberry%20pi%20%F0%9F%8D%93","name":"hardware: raspberry pi üçì","color":"867624","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-12-02T08:33:23Z","updated_at":"2019-12-05T12:31:36Z","closed_at":"2019-12-05T12:31:36Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\n`src/modules/camera_feedback` cannot be built by execute `make px4_raspberrypi_cross`.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\nSimply build for RPi can reproduce.\r\n\r\n**Expected behavior**\r\nIt should pass the build.\r\n\r\n**Log Files and Screenshots**\r\n[Here](https://paste.ubuntu.com/p/RmRVZpDvWX/)\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13654/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13652","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13652/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13652/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13652/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13652","id":530806743,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ3Mzc4MjA2","number":13652,"title":"mRo ctrl zero updates","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":10884840,"node_id":"MDU6TGFiZWwxMDg4NDg0MA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/enhancement%20(improvement)%20%F0%9F%92%A1","name":"enhancement (improvement) üí°","color":"84b6eb","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-12-01T22:24:56Z","updated_at":"2019-12-01T22:43:21Z","closed_at":"2019-12-01T22:43:16Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13652","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13652","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13652.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13652.patch","merged_at":"2019-12-01T22:43:16Z"},"body":" - add ICM20602 and ICM20648 data ready interrupts\r\n - enable Bosch BMI088 IMU\r\n - move HRT_TIMER to TIM3 (same timer as PPM channel)\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13652/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13647","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13647/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13647/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13647/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13647","id":530653177,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ3Mjc2MTk4","number":13647,"title":"Revert \"linux_pwm_out update orb usage\"","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2019-12-01T01:20:16Z","updated_at":"2019-12-01T02:16:54Z","closed_at":"2019-12-01T02:16:51Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13647","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13647","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13647.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13647.patch","merged_at":"2019-12-01T02:16:51Z"},"body":"This reverts commit 25acd40ef00fdb5e615b921596829165b06a6f5d.\r\n\r\nWe can't use uORB::Subscription here because the uorb device_master isn't yet available when the constructor is called.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13647/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13645","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13645/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13645/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13645/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13645","id":530650153,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ3Mjc0MTQ5","number":13645,"title":"simulator: fix distance_sensor ORB_ID()","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-12-01T00:46:28Z","updated_at":"2019-12-01T01:17:21Z","closed_at":"2019-12-01T01:17:18Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13645","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13645","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13645.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13645.patch","merged_at":"2019-12-01T01:17:18Z"},"body":"","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13645/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13635","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13635/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13635/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13635/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13635","id":530381215,"node_id":"MDU6SXNzdWU1MzAzODEyMTU=","number":13635,"title":"Navio2 ESC calibration and PWM Outputs parameters missing","user":{"login":"ClaudioCimarelli","id":7337279,"node_id":"MDQ6VXNlcjczMzcyNzk=","avatar_url":"https://avatars.githubusercontent.com/u/7337279?v=4","gravatar_id":"","url":"https://api.github.com/users/ClaudioCimarelli","html_url":"https://github.com/ClaudioCimarelli","followers_url":"https://api.github.com/users/ClaudioCimarelli/followers","following_url":"https://api.github.com/users/ClaudioCimarelli/following{/other_user}","gists_url":"https://api.github.com/users/ClaudioCimarelli/gists{/gist_id}","starred_url":"https://api.github.com/users/ClaudioCimarelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ClaudioCimarelli/subscriptions","organizations_url":"https://api.github.com/users/ClaudioCimarelli/orgs","repos_url":"https://api.github.com/users/ClaudioCimarelli/repos","events_url":"https://api.github.com/users/ClaudioCimarelli/events{/privacy}","received_events_url":"https://api.github.com/users/ClaudioCimarelli/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":326832167,"node_id":"MDU6TGFiZWwzMjY4MzIxNjc=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/hardware:%20raspberry%20pi%20%F0%9F%8D%93","name":"hardware: raspberry pi üçì","color":"867624","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2019-11-29T14:45:44Z","updated_at":"2020-12-25T16:08:36Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\n I am experiencing an incompatibility between Navio2 and PX4 v1.9.2 in controlling the PWM output to the esc. \r\n- In particular, is not possible to make a successful ESC calibration since the device file ``/dev/pwm_output0`` does not exist ( there is a drive here `` /sys/class/pwm/pwmchip0 ``) and the result is that the motors do a strange sound when arming. \r\n- Moreover, 90% of the parameters in the PWM Output category do not exist for the Navio.\r\n\r\nThis issue is related to the closed #11743, that was solved by switching to APM...(I can confirm that it works without problem, but it is not a solution for me).\r\n\r\nI am wondering how could I turn the driver under `` /sys/class/pwm/pwmchip0 `` into the expected device file and if anyone ever was able to fly using PX4 with a NAVIO2 board.\r\n\r\n**Drone:**\r\n- PX4 V1.9.2\r\n- S500 frame with a Navio2 autopilot.\r\n- 4 Blheli_s 32bits 30A ESC\r\n- 4 T-motor MN3110 780KV\r\n\r\nThank you for your help in avance, hoping this issue will have better luck than #11743 :crossed_fingers: :smile: ","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13635/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13634","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13634/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13634/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13634/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13634","id":530297586,"node_id":"MDU6SXNzdWU1MzAyOTc1ODY=","number":13634,"title":"[Build errors] GNU Arm Embedded Toolchain Version update to version 9","user":{"login":"TSC21","id":5048656,"node_id":"MDQ6VXNlcjUwNDg2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5048656?v=4","gravatar_id":"","url":"https://api.github.com/users/TSC21","html_url":"https://github.com/TSC21","followers_url":"https://api.github.com/users/TSC21/followers","following_url":"https://api.github.com/users/TSC21/following{/other_user}","gists_url":"https://api.github.com/users/TSC21/gists{/gist_id}","starred_url":"https://api.github.com/users/TSC21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TSC21/subscriptions","organizations_url":"https://api.github.com/users/TSC21/orgs","repos_url":"https://api.github.com/users/TSC21/repos","events_url":"https://api.github.com/users/TSC21/events{/privacy}","received_events_url":"https://api.github.com/users/TSC21/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-11-29T11:28:17Z","updated_at":"2020-03-02T09:05:45Z","closed_at":"2020-03-02T09:05:45Z","author_association":"MEMBER","active_lock_reason":null,"body":"https://github.com/PX4/containers/commit/25844a3e33d073764608ffcdeafe35960800fe57 brought an update to the `px4-dev-nuttx` container. In order to have a steady update of the container tags to the latest generated one, it's required to update the source code to build with the new toolchain version.\r\n\r\nThe current attempt to bring the latest generate container tags is in https://github.com/PX4/Firmware/pull/13572. Although the purpose was not to bring the updated GNU Arm Embedded toolchain but rather to update the Python version of the required dependencies to 3, since the above commit was already brought in, by consequence, also brought the updated toolchain. This is resulting on multiple build errors, that need to be fixed.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13634/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13623","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13623/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13623/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13623/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13623","id":529816776,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ2NjIxNDE2","number":13623,"title":"Mag calibration improvements and fixes","user":{"login":"bkueng","id":281593,"node_id":"MDQ6VXNlcjI4MTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/281593?v=4","gravatar_id":"","url":"https://api.github.com/users/bkueng","html_url":"https://github.com/bkueng","followers_url":"https://api.github.com/users/bkueng/followers","following_url":"https://api.github.com/users/bkueng/following{/other_user}","gists_url":"https://api.github.com/users/bkueng/gists{/gist_id}","starred_url":"https://api.github.com/users/bkueng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkueng/subscriptions","organizations_url":"https://api.github.com/users/bkueng/orgs","repos_url":"https://api.github.com/users/bkueng/repos","events_url":"https://api.github.com/users/bkueng/events{/privacy}","received_events_url":"https://api.github.com/users/bkueng/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-11-28T10:13:47Z","updated_at":"2019-11-29T19:14:04Z","closed_at":"2019-11-29T19:14:01Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13623","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13623","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13623.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13623.patch","merged_at":"2019-11-29T19:14:01Z"},"body":"### Bug fix\r\nFixes a serious calibration bug in combination with the HMC5883 driver (also used for HMC5983): this driver estimates a scale in MAGIOCCALIBRATE and applies it.\r\nThe calibration routine calls MAGIOCCALIBRATE (after resetting the existing calibration), then does the calibration with that scale applied, and then overwrites it, without considering it in any way.\r\n\r\nMost other mag drivers only do some measurements and perform some checks in MAGIOCCALIBRATE (but the result is just ignored). So it could be removed completely.\r\n\r\n### Improve 4 and 2 side calibration\r\nThe idea is that an initial 6 sided (factory-) calibration is done, and then a two-sided calibration is sufficient later on.\r\nSo this PR changes:\r\n- if less than 6 sides are calibrated, keep the existing calibration and update the offsets and scales\r\n- if 2 sides are calibrated, estimate the offsets only (as this is enough if a full calibration was done already, and the problem is not constrained enough to estimate scales and offsets - I got consistently wrong results even if the required calibration is very close to identity).\r\n\r\nTested on different boards, with different number of sides. The results were consistent when repeating the calibration.\r\n\r\nSee also individual commits.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13623/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13609","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13609/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13609/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13609/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13609","id":529377824,"node_id":"MDU6SXNzdWU1MjkzNzc4MjQ=","number":13609,"title":"Here2 GPS/mag over UAVCAN not working","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":581916348,"node_id":"MDU6TGFiZWw1ODE5MTYzNDg=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/uavcan","name":"uavcan","color":"2201AE","default":false,"description":""},{"id":1442874742,"node_id":"MDU6TGFiZWwxNDQyODc0NzQy","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Drivers%20%F0%9F%94%A7","name":"Drivers üîß","color":"5d3ebc","default":false,"description":"Sensors, Actuators, etc"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-11-27T14:22:49Z","updated_at":"2022-11-30T14:03:35Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nIt seems like the GPS and mag of the Here2 GPS via UAVCAN are not working.\r\n\r\n**To Reproduce**\r\n1. Update Here2 GPS using MissionPlanner to latest and greatest.\r\n2. Connect Here2 with Pixhawk 4 to Can1 port.\r\n3. Set `UAVCAN_ENABLE` to 2 (Sensors automatic config).\r\n4. Check `listener sensor_mag`, check `gps status`. \r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\n**Log Files and Screenshots**\r\n\r\n```\r\nINFO  [uavcan] Node ID 1, bitrate 1000000\r\nINFO  [uavcan] sensor bridge 'baro' init ok\r\nINFO  [uavcan] sensor bridge 'mag' init ok\r\nINFO  [uavcan] sensor bridge 'gnss' init ok\r\nINFO  [uavcan] sensor bridge 'flow' init ok\r\nINFO  [uavcan] sensor bridge 'battery' init ok\r\nERROR [uavcan] CentralizedServer init: -1\r\nERROR [uavcan] Node init failed: -1\r\nERROR [uavcan] Firmware Server Failed to Start -1\r\n```\r\n\r\n```\r\nnsh> uavcan status\r\nPool allocator status:\r\n        Capacity hard/soft: 500/250 blocks\r\n        Reserved:  2 blocks\r\n        Allocated: 2 blocks\r\n\r\nUAVCAN node status:\r\n        Internal failures: 0\r\n        Transfer errors:   0\r\n        RX transfers:      0\r\n        TX transfers:      85\r\n\r\nCAN1 status:\r\n        HW errors: 182\r\n        IO errors: 182\r\n        RX frames: 35\r\n        TX frames: 57\r\nCAN2 status:\r\n        HW errors: 8939\r\n        IO errors: 8939\r\n        RX frames: 0\r\n        TX frames: 57\r\n\r\ncontrol latency: 0 events, 0us elapsed, 0.00us avg, min 0us max 0us 0.000us rms\r\nINFO  [mixer_module] Switched to rate_ctrl work queue: 0\r\nINFO  [mixer_module] Mixer loaded: no\r\nINFO  [mixer_module] Driver instance: 0\r\nINFO  [mixer_module] Channel Configuration:\r\nINFO  [mixer_module] Channel 0: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 1: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 2: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 3: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 4: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 5: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 6: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 7: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 8: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 9: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 10: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 11: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 12: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 13: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 14: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\nINFO  [mixer_module] Channel 15: value: 0, failsafe: 0, disarmed: 65535, min: 1, max: 8191\r\n\r\n\r\nSensor 'baro':\r\ndevname: /dev/baro\r\nchannel 0: empty\r\nchannel 1: empty\r\nchannel 2: empty\r\nchannel 3: empty\r\nchannel 4: empty\r\n\r\nSensor 'mag':\r\ndevname: /dev/mag\r\nchannel 0: empty\r\nchannel 1: empty\r\nchannel 2: empty\r\nchannel 3: empty\r\nchannel 4: empty\r\n\r\nSensor 'gnss':\r\nRX errors: 0, using old Fix: 1, receiver node id: N/A\r\n\r\nSensor 'flow':\r\ndevname: /dev/flow\r\nchannel 0: empty\r\nchannel 1: empty\r\nchannel 2: empty\r\nchannel 3: empty\r\nchannel 4: empty\r\n\r\nSensor 'battery':\r\ndevname: /dev/battery\r\nchannel 0: empty\r\nchannel 1: empty\r\nchannel 2: empty\r\nchannel 3: empty\r\nchannel 4: empty\r\n\r\nOnline nodes (Node ID, Health, Mode):\r\n\r\nuavcan: cycle time: 9619 events, 225719us elapsed, 23.47us avg, min 11us max 971us 24.913us rms\r\nuavcan: cycle interval: 9619 events, 2955.38us avg, min 25us max 4276us 381.113us rms\r\n\r\n```\r\n\r\n```\r\nnsh> listener sensor_mag\r\n\r\nTOPIC: sensor_mag\r\n sensor_mag_s\r\n        timestamp: 96218552  (0.013206 seconds ago)\r\n        error_count: 0\r\n        device_id: 396825 (Type: 0x06, I2C:3 (0x0E)) \r\n        x: 0.0630\r\n        y: -0.2040\r\n        z: 0.3090\r\n        temperature: 0.0000\r\n        scaling: 0.0030\r\n        x_raw: 21\r\n        y_raw: -68\r\n        z_raw: 103\r\n        is_external: False\r\nnsh> listener vehicle_gps_position\r\nnever published\r\nnsh> \r\n```\r\n\r\n**Additional context**\r\nVersion: 09c8c8f706c5f6df3d42ee968f9c9d52cbf2e25a\r\n\r\n@pavel-kirienko what am I doing wrong? And where do I find more docs about this?","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13609/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13595","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13595/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13595/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13595/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13595","id":528619740,"node_id":"MDU6SXNzdWU1Mjg2MTk3NDA=","number":13595,"title":"HITL fixedwing and VTOL in fixedwing mode not working","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":552258139,"node_id":"MDU6TGFiZWw1NTIyNTgxMzk=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/hitl","name":"hitl","color":"d4c5f9","default":false,"description":"hardware in the loop simulation"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-11-26T10:11:00Z","updated_at":"2023-03-07T03:50:49Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nIt seems like HITL with fixedwing or VTOL in fixedwing is not working. Presumably, the actuator setpoints are not set/connected correctly.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior with fixedwing:\r\n1. Connect Pixhawk over USB.\r\n2. Set `SYS_AUTOSTART` to 2100 for fixedwing, reboot Pixhawk.\r\n3. Edit `Tools/sitl_gazebo/models/plane/plane.sdf` and set `serialEnabled` and `hil_mode` to `true`.\r\n4. Start Gazebo:\r\n   ```\r\n   source Tools/setup_gazebo.bash $(pwd) $(pwd)/build/px4_sitl_default\r\n   gazebo --verbose Tools/sitl_gazebo/worlds/plane.world\r\n   ```\r\n5. Try flying using joysticks in QGC.\r\n\r\n**Expected behavior**\r\nI expect that I can fly the plane in Stabilized, and not crash.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13595/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13592","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13592/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13592/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13592/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13592","id":528206446,"node_id":"MDU6SXNzdWU1MjgyMDY0NDY=","number":13592,"title":"Error message \"unable to read from microSD\" when flying a mission with \"jump to item\"","user":{"login":"sfuhrer","id":26798987,"node_id":"MDQ6VXNlcjI2Nzk4OTg3","avatar_url":"https://avatars.githubusercontent.com/u/26798987?v=4","gravatar_id":"","url":"https://api.github.com/users/sfuhrer","html_url":"https://github.com/sfuhrer","followers_url":"https://api.github.com/users/sfuhrer/followers","following_url":"https://api.github.com/users/sfuhrer/following{/other_user}","gists_url":"https://api.github.com/users/sfuhrer/gists{/gist_id}","starred_url":"https://api.github.com/users/sfuhrer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfuhrer/subscriptions","organizations_url":"https://api.github.com/users/sfuhrer/orgs","repos_url":"https://api.github.com/users/sfuhrer/repos","events_url":"https://api.github.com/users/sfuhrer/events{/privacy}","received_events_url":"https://api.github.com/users/sfuhrer/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"assignees":[{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-11-25T16:43:53Z","updated_at":"2019-11-27T15:10:08Z","closed_at":"2019-11-27T15:10:08Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nWhen flying a mission on a VTOL with a \"jump to item\" in it, it does what it is supposed to do (go back to selected item and then continue the mission from there on again), but it gives the following error message every time it reaches the \"jump to item\" waypoint:\r\n![image](https://user-images.githubusercontent.com/26798987/69558813-2d2c7780-0fa9-11ea-8d0d-f8b3859a2831.png)\r\n\r\nhttps://review.px4.io/plot_app?log=e3b60ca9-d232-46d3-99f4-65220f2360b2\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13592/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13560","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13560/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13560/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13560/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13560","id":527091761,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ0NDMxNTU0","number":13560,"title":"uORB: fix several race conditions during topic initialization","user":{"login":"bkueng","id":281593,"node_id":"MDQ6VXNlcjI4MTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/281593?v=4","gravatar_id":"","url":"https://api.github.com/users/bkueng","html_url":"https://github.com/bkueng","followers_url":"https://api.github.com/users/bkueng/followers","following_url":"https://api.github.com/users/bkueng/following{/other_user}","gists_url":"https://api.github.com/users/bkueng/gists{/gist_id}","starred_url":"https://api.github.com/users/bkueng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkueng/subscriptions","organizations_url":"https://api.github.com/users/bkueng/orgs","repos_url":"https://api.github.com/users/bkueng/repos","events_url":"https://api.github.com/users/bkueng/events{/privacy}","received_events_url":"https://api.github.com/users/bkueng/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1502478333,"node_id":"MDU6TGFiZWwxNTAyNDc4MzMz","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/safety","name":"safety","color":"d93f0b","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-11-22T09:43:57Z","updated_at":"2019-11-24T04:33:56Z","closed_at":"2019-11-23T15:10:06Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13560","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13560","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13560.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13560.patch","merged_at":"2019-11-23T15:10:06Z"},"body":"Possible race conditions (they all happen between the check of existence of a topic and trying to create the node):\r\n- single instance, with multiple advertisers during the first advertise:\r\n  both advertisers see the topic as non-existent and try to advertise it.\r\n  One of them will fail, leading to an error message.\r\n  This is the cause for `telemetry_status` advert failure seen in SITL in\r\n  rare cases.\r\n- multi-instance: subscription to non-existing instance -> px4_open fails,\r\n  and the subscriber tries to create the node. If during that time a\r\n  publisher publishes that instance, the subscriber will get (instance+1)\r\n  (or fails if the max number of instances is exceeded).\r\n  This is a race that goes pretty much unnoticed.\r\n- multi-instance: 2 publishers can get the same instance (if is_published()\r\n  is false in case both have not published data yet).\r\n  This can also go unnoticed.\r\n- 2 single-instance advertisers, and they both open a node exclusively during advertisement, and one of them will fail to open the node with -EBUSY.\r\n\r\nThis PR fixes all of them, and there should be no noticeable changes for the rest of the system.\r\n\r\nThere's a semantic change for the flag `_published` to `_advertised`. This does not change anything for the system, since a topic was required to do a publication when advertised.\r\nThe change is however required to avoid race conditions.\r\nIt also allows to do an advertisement w/o data publication, avoiding the need for garbage/zeroed data publication on startup at many places.\r\n\r\nSee individual commits as well.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13560/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13557","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13557/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13557/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13557/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13557","id":526790812,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQ0MTkxNTk1","number":13557,"title":"mc_pos_control: fix position setpoints being logged as zero when NAN","user":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""},{"id":1464915523,"node_id":"MDU6TGFiZWwxNDY0OTE1NTIz","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Logger","name":"Logger","color":"12b76f","default":false,"description":"ULog Logger"}],"state":"closed","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-11-21T19:17:43Z","updated_at":"2019-11-27T16:34:20Z","closed_at":"2019-11-21T21:03:14Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13557","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13557","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13557.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13557.patch","merged_at":"2019-11-21T21:03:14Z"},"body":"This issue was found by @mhkabir and reported over slack.\r\nIt resulted from the split up of the big pr #12072 into #13262.\r\nI took over the interface while the internal states still stayed the\r\nhard to understand internal ones. One of the follow up refactors will\r\nfix this completely and the entire legacy setpoint restore block can\r\nbe removed.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13557/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13554","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13554/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13554/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13554/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13554","id":526749534,"node_id":"MDU6SXNzdWU1MjY3NDk1MzQ=","number":13554,"title":"Nuttx Version Not correct Rebased on master","user":{"login":"davids5","id":1945821,"node_id":"MDQ6VXNlcjE5NDU4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1945821?v=4","gravatar_id":"","url":"https://api.github.com/users/davids5","html_url":"https://github.com/davids5","followers_url":"https://api.github.com/users/davids5/followers","following_url":"https://api.github.com/users/davids5/following{/other_user}","gists_url":"https://api.github.com/users/davids5/gists{/gist_id}","starred_url":"https://api.github.com/users/davids5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davids5/subscriptions","organizations_url":"https://api.github.com/users/davids5/orgs","repos_url":"https://api.github.com/users/davids5/repos","events_url":"https://api.github.com/users/davids5/events{/privacy}","received_events_url":"https://api.github.com/users/davids5/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":581805812,"node_id":"MDU6TGFiZWw1ODE4MDU4MTI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/NuttX%20(OS)","name":"NuttX (OS)","color":"3C33E3","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-11-21T17:51:40Z","updated_at":"2020-02-20T19:13:09Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"![image](https://user-images.githubusercontent.com/1945821/69362997-76e12f00-0c44-11ea-9714-ffbf6a666176.png)\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13554/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13546","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13546/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13546/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13546/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13546","id":526315234,"node_id":"MDU6SXNzdWU1MjYzMTUyMzQ=","number":13546,"title":"Run SITL-PX4 on WSL with Gazebo and ROS","user":{"login":"tensarflow","id":42948152,"node_id":"MDQ6VXNlcjQyOTQ4MTUy","avatar_url":"https://avatars.githubusercontent.com/u/42948152?v=4","gravatar_id":"","url":"https://api.github.com/users/tensarflow","html_url":"https://github.com/tensarflow","followers_url":"https://api.github.com/users/tensarflow/followers","following_url":"https://api.github.com/users/tensarflow/following{/other_user}","gists_url":"https://api.github.com/users/tensarflow/gists{/gist_id}","starred_url":"https://api.github.com/users/tensarflow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tensarflow/subscriptions","organizations_url":"https://api.github.com/users/tensarflow/orgs","repos_url":"https://api.github.com/users/tensarflow/repos","events_url":"https://api.github.com/users/tensarflow/events{/privacy}","received_events_url":"https://api.github.com/users/tensarflow/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1159258350,"node_id":"MDU6TGFiZWwxMTU5MjU4MzUw","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/windows","name":"windows","color":"4792D7","default":false,"description":"Microsoft Windows OS environment"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-11-21T01:48:34Z","updated_at":"2019-12-19T08:21:52Z","closed_at":"2019-12-19T07:08:53Z","author_association":"NONE","active_lock_reason":null,"body":"Hello there!\r\n\r\nUnfortunately I couldn't find any resources on how to use the SITL Gazebo Simulation on WSL and get the GUI from an xserver.\r\nI have win10 with ubuntu 18.04 WSL.\r\nThe environment toolchain is all built without problems.\r\nGazebo on its own runs fine. I can use the GUI through the xserver. When I try to start PX4-SITL-Gazebo with `sudo make px4_sitl gazebo`  from `src/Firmware/` I get this output:\r\n(Gazebo opens but black screen)\r\n\r\n```\r\n[0/4] Performing build step for 'sitl_gazebo'\r\nninja: no work to do.\r\n[3/4] cd /home/ensar/src/Firmware/build/px4_sitl_default/tmp && /home/ensar/src/Firmware/Tools/sitl_run.sh /home/ensa...ld/px4_sitl_default/bin/px4 none gazebo none /home/ensar/src/Firmware /home/ensar/src/Firmware/build/px4_sitl_defaul\r\nSITL ARGS\r\nsitl_bin: /home/ensar/src/Firmware/build/px4_sitl_default/bin/px4\r\ndebugger: none\r\nprogram: gazebo\r\nmodel: none\r\nsrc_path: /home/ensar/src/Firmware\r\nbuild_path: /home/ensar/src/Firmware/build/px4_sitl_default\r\nempty model, setting iris as default\r\nGAZEBO_PLUGIN_PATH :/home/ensar/src/Firmware/build/px4_sitl_default/build_gazebo\r\nGAZEBO_MODEL_PATH :/home/ensar/src/Firmware/Tools/sitl_gazebo/models\r\nLD_LIBRARY_PATH :/home/ensar/src/Firmware/build/px4_sitl_default/build_gazebo\r\nGazebo multi-robot simulator, version 9.0.0\r\nCopyright (C) 2012 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\n[Msg] Waiting for master.\r\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n[Msg] Publicized address: 169.254.40.50\r\nCouldn't find a preferred IP via the getifaddrs() call; I'm assuming that your IP address is 127.0.0.1.  This should work for local processes, but will almost certainly not work if you have remote processes.Report to the disc-zmq development team to seek a fix.\r\nCouldn't find a preferred IP via the getifaddrs() call; I'm assuming that your IP address is 127.0.0.1.  This should work for local processes, but will almost certainly not work if you have remote processes.Report to the disc-zmq development team to seek a fix.\r\nCouldn't find a preferred IP via the getifaddrs() call; I'm assuming that your IP address is 127.0.0.1.  This should work for local processes, but will almost certainly not work if you have remote processes.Report to the disc-zmq development team to seek a fix.\r\nCouldn't find a preferred IP via the getifaddrs() call; I'm assuming that your IP address is 127.0.0.1.  This should work for local processes, but will almost certainly not work if you have remote processes.Report to the disc-zmq development team to seek a fix.\r\nshared memfd open() failed: Function not implemented\r\nHome directory not accessible: Permission denied\r\nALSA lib confmisc.c:767:(parse_card) cannot find card '0'\r\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_card_driver returned error: No such file or directory\r\nALSA lib confmisc.c:392:(snd_func_concat) error evaluating strings\r\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_concat returned error: No such file or directory\r\nALSA lib confmisc.c:1246:(snd_func_refer) error evaluating name\r\nALSA lib conf.c:4528:(_snd_config_evaluate) function snd_func_refer returned error: No such file or directory\r\nALSA lib conf.c:5007:(snd_config_expand) Evaluate error: No such file or directory\r\nALSA lib pcm.c:2495:(snd_pcm_open_noupdate) Unknown PCM default\r\nAL lib: (EE) ALCplaybackAlsa_open: Could not open playback device 'default': No such file or directory\r\n[Err] [OpenAL.cc:84] Unable to open audio device[default]\r\n Audio will be disabled.\r\n[Wrn] [gazebo_barometer_plugin.cpp:66] [gazebo_barometer_plugin] Using default home altitude of 488 m\r\n[Dbg] [gazebo_mavlink_interface.cpp:135] <joint_name> not found for channel[0] no joint control will be performed for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:135] <joint_name> not found for channel[1] no joint control will be performed for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:135] <joint_name> not found for channel[2] no joint control will be performed for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:135] <joint_name> not found for channel[3] no joint control will be performed for this channel.\r\n[Wrn] [gazebo_mavlink_interface.cpp:124] joint [zephyr_delta_wing::propeller_joint] not found for channel[4] no joint control for this channel.\r\n[Wrn] [gazebo_mavlink_interface.cpp:124] joint [zephyr_delta_wing::flap_left_joint] not found for channel[5] no joint control for this channel.\r\n[Wrn] [gazebo_mavlink_interface.cpp:124] joint [zephyr_delta_wing::flap_right_joint] not found for channel[6] no joint control for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:135] <joint_name> not found for channel[7] no joint control will be performed for this channel.\r\n[Msg] Connecting to PX4 SITL using TCP\r\n[Msg] Lockstep is enabled\r\n[Msg] Speed factor set to: 1\r\nSITL COMMAND: \"/home/ensar/src/Firmware/build/px4_sitl_default/bin/px4\" \"/home/ensar/src/Firmware\"/ROMFS/px4fmu_common -s etc/init.d-posix/rcS -t \"/home/ensar/src/Firmware\"/test_data\r\nINFO  [px4] Creating symlink /home/ensar/src/Firmware/ROMFS/px4fmu_common -> /home/ensar/src/Firmware/build/px4_sitl_default/tmp/rootfs/etc\r\n\r\n______  __   __    ___\r\n| ___ \\ \\ \\ / /   /   |\r\n| |_/ /  \\ V /   / /| |\r\n|  __/   /   \\  / /_| |\r\n| |     / /^\\ \\ \\___  |\r\n\\_|     \\/   \\/     |_/\r\n\r\npx4 starting.\r\n\r\nINFO  [px4] Calling startup script: /bin/sh etc/init.d-posix/rcS 0\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nGazebo multi-robot simulator, version 9.0.0\r\nCopyright (C) 2012 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\nERROR [px4] PX4 daemon not running yet\r\n[Msg] Waiting for master.\r\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n[Msg] Publicized address: 169.254.40.50\r\nERROR [px4] PX4 daemon not running yet\r\nCouldn't find a preferred IP via the getifaddrs() call; I'm assuming that your IP address is 127.0.0.1.  This should work for local processes, but will almost certainly not work if you have remote processes.Report to the disc-zmq development team to seek a fix.\r\nCouldn't find a preferred IP via the getifaddrs() call; I'm assuming that your IP address is 127.0.0.1.  This should work for local processes, but will almost certainly not work if you have remote processes.Report to the disc-zmq development team to seek a fix.\r\nCouldn't find a preferred IP via the getifaddrs() call; I'm assuming that your IP address is 127.0.0.1.  This should work for local processes, but will almost certainly not work if you have remote processes.Report to the disc-zmq development team to seek a fix.\r\nCouldn't find a preferred IP via the getifaddrs() call; I'm assuming that your IP address is 127.0.0.1.  This should work for local processes, but will almost certainly not work if you have remote processes.Report to the disc-zmq development team to seek a fix.\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\n[Wrn] [GuiIface.cc:120] QStandardPaths: XDG_RUNTIME_DIR not set, defaulting to '/tmp/runtime-root'\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nERROR [px4] PX4 daemon not running yet\r\nError: no autostart file found (etc/init.d-posix/ERROR [px4] PX4 daemon not running yet_*)\r\nERROR [px4] Startup script returned with return value: 256\r\npxh> [Err] [REST.cc:205] Error in REST request\r\n```\r\n\r\nEssentially I am trying to avoid to install ubuntu on my machine, since I have not much space left. Is it worth trying? Or should I rather jump to full ubuntu?","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13546/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13545","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13545/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13545/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13545/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13545","id":526273511,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQzNzcxMTcy","number":13545,"title":"PositionControl: remove unwanted debug printfs","user":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":174161208,"node_id":"MDU6TGFiZWwxNzQxNjEyMDg=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/priority-critical","name":"priority-critical","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2019-11-20T23:26:13Z","updated_at":"2019-11-20T23:52:14Z","closed_at":"2019-11-20T23:52:10Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13545","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13545","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13545.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13545.patch","merged_at":"2019-11-20T23:52:10Z"},"body":"**Describe problem solved by this pull request**\r\nI made a mistake not removing debug printfs after going thhrough the unit tests in detail in #13347 ","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13545/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13542","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13542/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13542/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13542/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13542","id":525951839,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQzNDc5Mjgw","number":13542,"title":"bmp388: cleanup main and add to px4_fmu-v5x board_config.h","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":803319897,"node_id":"MDU6TGFiZWw4MDMzMTk4OTc=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/cleanup%20(housekeeping)%20%F0%9F%A7%B9","name":"cleanup (housekeeping) üßπ","color":"aefcbd","default":false,"description":""},{"id":1424478923,"node_id":"MDU6TGFiZWwxNDI0NDc4OTIz","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/pixhawk:%20fmu-v5x","name":"pixhawk: fmu-v5x","color":"b60205","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-11-20T17:20:53Z","updated_at":"2019-11-20T18:12:07Z","closed_at":"2019-11-20T18:12:04Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13542","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13542","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13542.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13542.patch","merged_at":"2019-11-20T18:12:04Z"},"body":"","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13542/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13536","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13536/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13536/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13536/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13536","id":525731546,"node_id":"MDU6SXNzdWU1MjU3MzE1NDY=","number":13536,"title":"Navigator running erratic or very slow","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":24,"created_at":"2019-11-20T11:03:03Z","updated_at":"2021-05-12T16:57:43Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nWe had a flight where the `vehicle_status.nav_state` was set to `NAVIGATION_STATE_AUTO_RTL` for about 0.6 seconds and no message or triplet from navigator was published, as if it was not running.\r\n\r\nIn the logfile below there are times where RTL should have been engaged by navigator because the nav state was set:\r\n- 279 s / 7.02 --> **No reaction from navigator**\r\n- 280.5 s --> RTL actions were taken again\r\n- 284.5 s --> RTL actions were taken again\r\n\r\n**To Reproduce**\r\nNot sure.\r\n\r\n**Expected behavior**\r\nRTL should have been initiated.\r\n\r\n**Log Files and Screenshots**\r\nhttps://logs.px4.io/plot_app?log=7c4e2956-6ab5-409f-a2ac-0b908652a1de\r\n\r\n![rtl times](https://user-images.githubusercontent.com/1419688/69232983-58b7f800-0b8c-11ea-8354-fec0e9814cfb.png)\r\n\r\n**Additional context**\r\nNavigator is polling on local_position and there are regular updates of this topic.\r\n\r\nWe need to investigate the effects of accessing the SD card in some of the navigator modes when not inactive. E.g. Mission and Rtl modes check mission items respective rally points even if not active! Also, we check for geofences set in every iteration.\r\n\r\nFYI @MaEtUgR ","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13536/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13536/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13534","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13534/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13534/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13534/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13534","id":525709199,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQzMjc3NzEz","number":13534,"title":"navigator: fix triplet resetting/publication logic","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2019-11-20T10:22:25Z","updated_at":"2019-11-28T09:14:01Z","closed_at":"2019-11-23T15:29:42Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13534","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13534","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13534.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13534.patch","merged_at":"2019-11-23T15:29:42Z"},"body":"The navigator has a notion of resetting the triplets which means the triplet setpoints are set to invalid and therefore not to be used by downstream modules such as flight tasks.\r\n\r\nHowever, before this patch, the triplets were not published if invalid meaning that a valid triplet would stay the truth until a new valid triplet would get published.\r\n\r\nE.g. this lead to the corner case case where we publish a valid triplet with an IDLE setpoint on ground in HOLD and then don't update the triplet while flying in POSCTL mode. Later, when RTL is engaged, the flight task will use IDLE until navigator (which runs slower) has published the next triplet.\r\n\r\nThe fix involves two main changes:\r\n- Publish invalid triplets to avoid stale triplets.\r\n- Avoid publishing the triplet on every iteration in manual modes by not setting `_pos_sp_triplet_published_invalid_once = false`.\r\n\r\nWhen testing this I realized that a mission upload during RTL would stop RTL. This is because the mission is updated while the mission navigation mode is not active and reset_triplets() is called from there. This is now only done for the case where we are actually in mission navigation\r\nmode. The fact that a mission is updated when not active also seems wrong and is something to fix another time.\r\n\r\nFixes #13533.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13534/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13534/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13533","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13533/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13533/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13533/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13533","id":525677098,"node_id":"MDU6SXNzdWU1MjU2NzcwOTg=","number":13533,"title":"Throttle quickly goes to 0 on RTL init after idle HOLD/RTL on ground","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""},{"id":1443093719,"node_id":"MDU6TGFiZWwxNDQzMDkzNzE5","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Failsafe","name":"Failsafe","color":"1f7c00","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-11-20T09:24:49Z","updated_at":"2019-11-23T15:29:42Z","closed_at":"2019-11-23T15:29:42Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nWe found the corner case where throttle intermittently went to 0 when RTL is engaged.\r\nThe reason seems to be a faulty logic of triplet resetting and publishing in navigator.\r\n\r\nMore specifically, navigator publishes an idle setpoint while in HOLD on ground:\r\nhttps://github.com/PX4/Firmware/blob/84fe64b1c20a4ae8067f04b1e21a961263bac4db/src/modules/navigator/navigator_main.cpp#L662-L666\r\n\r\nthen in POSCTL the triplet is set to invalid\r\nhttps://github.com/PX4/Firmware/blob/84fe64b1c20a4ae8067f04b1e21a961263bac4db/src/modules/navigator/navigator_main.cpp#L675-L679\r\n\r\nbut not published because it's invalid.\r\nhttps://github.com/PX4/Firmware/blob/84fe64b1c20a4ae8067f04b1e21a961263bac4db/src/modules/navigator/navigator_main.cpp#L730-L736\r\n\r\nSo later when switching to RTL, flight task still has the idle setpoint until navigator has run and published the new RTL setpoint.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior in SITL with QGC and a joystick set-up:\r\n1. Start SITL, wait for GPS\r\n2. Switch mode to HOLD, arm, then disarm without taking off\r\n3. Arm and takeoff in POSCTL\r\n4. Switch to RTL. This is when the spike to 0 usually happens. It might not based on timing and it might only be visible in a log.\r\n\r\n**Expected behavior**\r\nThe thrust should not go to 0 even if navigator takes a while to figure out what to do. In the meantime flight task should do a failsafe and stay where it is.\r\n\r\n**Log Files and Screenshots**\r\nhttps://logs.px4.io/plot_app?log=f1b66ae0-3751-481a-89cb-c7b9adc12037\r\n\r\n![bokeh_plot(1)](https://user-images.githubusercontent.com/1419688/69226852-2c4aae80-0b81-11ea-9f9e-3036154486dd.png)\r\n\r\n\r\n**Drone (please complete the following information):**\r\nInitially this happened on a S500 with Pixhawk 4. The log is in SITL.\r\n\r\n**Additional context**\r\nThe log features a lot more that goes wrong but this was one of the findings.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13533/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13533/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13529","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13529/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13529/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13529/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13529","id":525177895,"node_id":"MDU6SXNzdWU1MjUxNzc4OTU=","number":13529,"title":"px4io issues on the test rack","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-11-19T18:14:43Z","updated_at":"2020-02-27T05:20:45Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"On the test rack (flashing via SWD) across all boards it appears to be quite common for the px4io to fail to respond.\r\n\r\n![image](https://user-images.githubusercontent.com/84712/69173362-9ace3480-0acd-11ea-8f15-cb7662041956.png)\r\n\r\n\r\nShould we be force updating? ","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13529/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13528","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13528/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13528/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13528/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13528","id":525165089,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQyODA4MTIy","number":13528,"title":"mpu9250: fully remove dead interval perf counter","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-11-19T17:48:35Z","updated_at":"2019-11-19T18:43:48Z","closed_at":"2019-11-19T18:43:38Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13528","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13528","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13528.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13528.patch","merged_at":"2019-11-19T18:43:38Z"},"body":"This is the cause of the intermittent hard fault we saw on the test rack recently. The partially leftover perf counter came in with this mpu9250 update to run on linux and qurt (https://github.com/PX4/Firmware/commit/c5520cbaca3f3fd94e23e4a5cdf4e2769c5097d4#diff-f9d2527970d38e4a023074577b550968), which really came from a partial rebase of an old PR (https://github.com/PX4/Firmware/pull/12783).","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13528/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13526","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13526/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13526/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13526/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13526","id":525102454,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQyNzU2NjU1","number":13526,"title":"FlightTasks: pass the timestamp of the message that causes FlightTask-switch","user":{"login":"Stifael","id":13449161,"node_id":"MDQ6VXNlcjEzNDQ5MTYx","avatar_url":"https://avatars.githubusercontent.com/u/13449161?v=4","gravatar_id":"","url":"https://api.github.com/users/Stifael","html_url":"https://github.com/Stifael","followers_url":"https://api.github.com/users/Stifael/followers","following_url":"https://api.github.com/users/Stifael/following{/other_user}","gists_url":"https://api.github.com/users/Stifael/gists{/gist_id}","starred_url":"https://api.github.com/users/Stifael/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Stifael/subscriptions","organizations_url":"https://api.github.com/users/Stifael/orgs","repos_url":"https://api.github.com/users/Stifael/repos","events_url":"https://api.github.com/users/Stifael/events{/privacy}","received_events_url":"https://api.github.com/users/Stifael/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2019-11-19T15:59:57Z","updated_at":"2020-10-12T13:25:19Z","closed_at":"2020-07-03T17:16:45Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13526","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13526","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13526.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13526.patch","merged_at":null},"body":"This PR follows the issue described here https://github.com/PX4/Firmware/issues/13293.\r\n\r\nNot sure if https://github.com/PX4/Firmware/compare/px4/bugfix/pass-timestamp-into-flighttasks?expand=1#diff-fc77c3ef569029d45764664c75d4b0c1R790-R800 is correct, but given that it was `control_mode.auto before`, I suspect that this is correct. \r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13526/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13524","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13524/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13524/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13524/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13524","id":525083305,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQyNzQwNzE5","number":13524,"title":"[BACKPORT 1.10] Properly reset position control velocity derivatives","user":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":null,"comments":1,"created_at":"2019-11-19T15:30:21Z","updated_at":"2019-11-20T10:10:14Z","closed_at":"2019-11-20T10:10:10Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13524","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13524","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13524.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13524.patch","merged_at":"2019-11-20T10:10:10Z"},"body":"**Describe problem solved by this pull request**\r\n#13522 ported for 1.10. Please visit the link to read the description.\r\n\r\n**Additional context**\r\nThere was a conflict because the else case was removed in refactoring after 1.10 but the problem was present on 1.10 already and the fix stays the same.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13524/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13522","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13522/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13522/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13522/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13522","id":525068327,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQyNzI4MjQz","number":13522,"title":"Properly reset position control velocity derivatives","user":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":3,"created_at":"2019-11-19T15:06:23Z","updated_at":"2019-11-20T09:21:12Z","closed_at":"2019-11-19T21:18:02Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13522","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13522","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13522.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13522.patch","merged_at":"2019-11-19T21:18:02Z"},"body":"**Describe problem solved by this pull request**\r\n@bresch found that when switching from stabilized mode to any position controlled mode the first sample of thrust setpoint output can be a huge spike that makes the drone twitch. He also found out that it's correlated to the velocity you have when switching modes. And after digging more we realized that the derivative for the D-term of the position controller does not get reset and hence the first sample is based on the difference between velocity before switching to stabilized and after switching back to a position controlled mode.\r\n\r\n**Describe your solution**\r\nThe `BlockDerivative` class handles proper initialization but only through the constructor so I'm adding a `reset()` function to repeat that later on. When no position controlled mode is running I continuously call this `reset()` function which only sets an internal flag.\r\n\r\n**Test data / coverage**\r\nNot tested. @bresch please verify with the test you had yesterday to reproduce it.\r\n\r\n**Additional context**\r\nThis is an inportant enough issue to backport the low complexity fix to 1.10. I'll create a pr once it's verified. **EDIT:** Done here: #13524\r\n\r\nfixes https://github.com/PX4/Firmware/issues/13415","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13522/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13518","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13518/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13518/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13518/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13518","id":524966923,"node_id":"MDU6SXNzdWU1MjQ5NjY5MjM=","number":13518,"title":"USB issues on Durandal-v1","user":{"login":"bkueng","id":281593,"node_id":"MDQ6VXNlcjI4MTU5Mw==","avatar_url":"https://avatars.githubusercontent.com/u/281593?v=4","gravatar_id":"","url":"https://api.github.com/users/bkueng","html_url":"https://github.com/bkueng","followers_url":"https://api.github.com/users/bkueng/followers","following_url":"https://api.github.com/users/bkueng/following{/other_user}","gists_url":"https://api.github.com/users/bkueng/gists{/gist_id}","starred_url":"https://api.github.com/users/bkueng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bkueng/subscriptions","organizations_url":"https://api.github.com/users/bkueng/orgs","repos_url":"https://api.github.com/users/bkueng/repos","events_url":"https://api.github.com/users/bkueng/events{/privacy}","received_events_url":"https://api.github.com/users/bkueng/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"davids5","id":1945821,"node_id":"MDQ6VXNlcjE5NDU4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1945821?v=4","gravatar_id":"","url":"https://api.github.com/users/davids5","html_url":"https://github.com/davids5","followers_url":"https://api.github.com/users/davids5/followers","following_url":"https://api.github.com/users/davids5/following{/other_user}","gists_url":"https://api.github.com/users/davids5/gists{/gist_id}","starred_url":"https://api.github.com/users/davids5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davids5/subscriptions","organizations_url":"https://api.github.com/users/davids5/orgs","repos_url":"https://api.github.com/users/davids5/repos","events_url":"https://api.github.com/users/davids5/events{/privacy}","received_events_url":"https://api.github.com/users/davids5/received_events","type":"User","site_admin":false},"assignees":[{"login":"davids5","id":1945821,"node_id":"MDQ6VXNlcjE5NDU4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1945821?v=4","gravatar_id":"","url":"https://api.github.com/users/davids5","html_url":"https://github.com/davids5","followers_url":"https://api.github.com/users/davids5/followers","following_url":"https://api.github.com/users/davids5/following{/other_user}","gists_url":"https://api.github.com/users/davids5/gists{/gist_id}","starred_url":"https://api.github.com/users/davids5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davids5/subscriptions","organizations_url":"https://api.github.com/users/davids5/orgs","repos_url":"https://api.github.com/users/davids5/repos","events_url":"https://api.github.com/users/davids5/events{/privacy}","received_events_url":"https://api.github.com/users/davids5/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/32","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32/labels","id":4728829,"node_id":"MDk6TWlsZXN0b25lNDcyODgyOQ==","number":32,"title":"Release v1.11.0","description":"","creator":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"open_issues":7,"closed_issues":167,"state":"open","created_at":"2019-10-07T16:06:51Z","updated_at":"2023-04-11T12:29:40Z","due_on":"2020-04-01T07:00:00Z","closed_at":null},"comments":5,"created_at":"2019-11-19T12:04:31Z","updated_at":"2021-06-02T05:29:12Z","closed_at":"2021-06-02T05:29:12Z","author_association":"MEMBER","active_lock_reason":null,"body":"I'm experiencing issues with USB on the Durandal-v1 board with QGC.\r\nAuto-connect is unreliable, depending on the QGC version/PC, it will not connect. This is the issue I get:\r\n```\r\nopen failed \"Device or resource busy\" QSerialPort::SerialPortError(PermissionError) \"Holybro on ttyACM0 (AutoConnect)\" true\r\n```\r\nLooks like a timing issue, as adding a manual connection and connecting manually later on works.\r\n\r\nSimilar for the Firmware update: this never works (also with https://github.com/mavlink/qgroundcontrol/pull/8058), and fails with:\r\n```\r\nError: Get Board Info: Get Board Info: Get Command Response: Timeout waiting for bytes to be available\r\nUpgrade cancelled\r\n```\r\n\r\n@davids5 ","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13518/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13511","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13511/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13511/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13511/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13511","id":524737005,"node_id":"MDU6SXNzdWU1MjQ3MzcwMDU=","number":13511,"title":"Mission mode re-entry initializes TECS alt SP as last alt SP","user":{"login":"hannahdn","id":1069280,"node_id":"MDQ6VXNlcjEwNjkyODA=","avatar_url":"https://avatars.githubusercontent.com/u/1069280?v=4","gravatar_id":"","url":"https://api.github.com/users/hannahdn","html_url":"https://github.com/hannahdn","followers_url":"https://api.github.com/users/hannahdn/followers","following_url":"https://api.github.com/users/hannahdn/following{/other_user}","gists_url":"https://api.github.com/users/hannahdn/gists{/gist_id}","starred_url":"https://api.github.com/users/hannahdn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hannahdn/subscriptions","organizations_url":"https://api.github.com/users/hannahdn/orgs","repos_url":"https://api.github.com/users/hannahdn/repos","events_url":"https://api.github.com/users/hannahdn/events{/privacy}","received_events_url":"https://api.github.com/users/hannahdn/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699916,"node_id":"MDU6TGFiZWw3ODY5OTkxNg==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Fixed%20Wing%20%F0%9F%9B%A9%EF%B8%8F","name":"Fixed Wing üõ©Ô∏è","color":"009800","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-11-19T02:40:15Z","updated_at":"2020-02-17T13:58:45Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**The bug**\r\nFor a FW vehicle in auto-mission mode, it is possible for the fw position controller to be in auto mode before having a valid setpoint from the navigator. In this case, the aircraft briefly behaves as if in position mode, until it gets a valid current setpoint. \r\nWhen going in and out of mission mode however, since the last setpoint is never set as invalid by the navigator, the position controller enters directly at the altitude of the last position setpoint. This is particularly problematic when using altitude foh, where for the same mission item, the altitude setpoint could be very different depending on the plane's current altitude.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. With a valid mission, with a first waypoint at 100m for this example, arm the vehicle and take off in stabilized mode\r\n2. At altitude 1 (say 30m), enter mission mode\r\n3. Exit mission mode and climb manually to altitude 2 (say 90m)\r\n4. At altitude 2, enter mission mode again. The TECS altitude setpoint gets set below the aircraft. \r\n\r\n**Expected behavior**\r\nMaybe the aircraft should behave the same way when entering mission mode for the second time and for the first time (assume invalid waypoint until navigator sends the new one).\r\n\r\nFor this, we could force the position setpoint to be invalidated by the navigator when exiting mission mode. In `navigator/mission.cpp`, in the function `Mission::on_inactivation()` :\r\n\r\n```\r\n_navigator->get_position_setpoint_triplet()->current.valid = false;\r\n_navigator->set_position_setpoint_triplet_updated();\r\n``` \r\n\r\nAnd in `navigator/navigator_main.cpp`, force the invalid position setpoint triplets to be published (Would this break something else?).\r\n\r\n**Plot**\r\n<img width=\"1668\" alt=\"Screen Shot 2019-11-18 at 6 33 19 PM\" src=\"https://user-images.githubusercontent.com/1069280/69111280-f2b75d80-0a31-11ea-8df1-a13481c669d7.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13511/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13508","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13508/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13508/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13508/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13508","id":524647593,"node_id":"MDU6SXNzdWU1MjQ2NDc1OTM=","number":13508,"title":"EKF gps hgt timeout - reset to baro","user":{"login":"hyonlim","id":6064011,"node_id":"MDQ6VXNlcjYwNjQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/6064011?v=4","gravatar_id":"","url":"https://api.github.com/users/hyonlim","html_url":"https://github.com/hyonlim","followers_url":"https://api.github.com/users/hyonlim/followers","following_url":"https://api.github.com/users/hyonlim/following{/other_user}","gists_url":"https://api.github.com/users/hyonlim/gists{/gist_id}","starred_url":"https://api.github.com/users/hyonlim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyonlim/subscriptions","organizations_url":"https://api.github.com/users/hyonlim/orgs","repos_url":"https://api.github.com/users/hyonlim/repos","events_url":"https://api.github.com/users/hyonlim/events{/privacy}","received_events_url":"https://api.github.com/users/hyonlim/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":594107991,"node_id":"MDU6TGFiZWw1OTQxMDc5OTE=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/State%20Estimation","name":"State Estimation","color":"006b75","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-11-18T22:06:41Z","updated_at":"2020-08-31T10:50:02Z","closed_at":"2020-08-31T10:50:02Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nEKF gps hgt timeout - reset to baro problem.\r\nIt basically says GPS data is lagged because _gps_hgt_intermittent flag is on.\r\n\r\n_gps_hgt_intermittent = !((_time_last_imu - gps_init.time_us) < 2 * GPS_MAX_INTERVAL);\r\n\r\nHowever, it seems very difficult to meet this condition unless otherwise GPS has unstable connection. But it's not. It seems some timing issue.\r\n\r\n**To Reproduce**\r\nNot exactly reproducible\r\n\r\n**Expected behavior**\r\n\r\n**Log Files and Screenshots**\r\nhttps://review.px4.io/plot_app?log=d8997f75-e796-4a42-9b90-ea5c06a3d54d\r\n\r\n**Drone (please complete the following information):**\r\n- FMUv5.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13508/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13507","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13507/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13507/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13507/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13507","id":524611082,"node_id":"MDU6SXNzdWU1MjQ2MTEwODI=","number":13507,"title":"Thrust value oscillating (repeatedly dropping to 0)","user":{"login":"tomasz-lewicki","id":26127866,"node_id":"MDQ6VXNlcjI2MTI3ODY2","avatar_url":"https://avatars.githubusercontent.com/u/26127866?v=4","gravatar_id":"","url":"https://api.github.com/users/tomasz-lewicki","html_url":"https://github.com/tomasz-lewicki","followers_url":"https://api.github.com/users/tomasz-lewicki/followers","following_url":"https://api.github.com/users/tomasz-lewicki/following{/other_user}","gists_url":"https://api.github.com/users/tomasz-lewicki/gists{/gist_id}","starred_url":"https://api.github.com/users/tomasz-lewicki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tomasz-lewicki/subscriptions","organizations_url":"https://api.github.com/users/tomasz-lewicki/orgs","repos_url":"https://api.github.com/users/tomasz-lewicki/repos","events_url":"https://api.github.com/users/tomasz-lewicki/events{/privacy}","received_events_url":"https://api.github.com/users/tomasz-lewicki/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-11-18T20:49:16Z","updated_at":"2020-08-02T17:43:30Z","closed_at":"2020-08-02T17:43:30Z","author_association":"NONE","active_lock_reason":null,"body":"Hey,\r\n\r\nMy Pixhawk 4 mini hexarotor with PX4 1.9.2 release wasn't maintaining altitude while hovering, so I increased the mid throttle from 50% to 60%.\r\n\r\nWhat I got is this super odd thrust oscillation, while hovering (the thrust value is going to 0 for a short period of time -> see the logs). Even though I'm trying to land, it's only reacting to increasing the throttle, but not to not lowering -> also visible in the logs. I had to use kill switch.\r\n\r\nThe oscillations occur across all modes.\r\nAfter going back to 50% mid-throttle the problem disappears. \r\n\r\nThe battery warnings are result of the voltage sag (the actual voltage was 3.75V/cell and the default BAT_V_EMPTY is pretty high, at 3.50V/cell). \r\n\r\nLogs:\r\nhttps://logs.px4.io/plot_app?log=ececa147-2ad7-4aa7-9e0a-bcc0761c06af\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13507/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13501","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13501/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13501/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13501/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13501","id":524482098,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQyMjQ4Nzg3","number":13501,"title":"SITL: create a parameter file for each airframe + add SYS_AUTOCONFIG support","user":{"login":"jlecoeur","id":1379463,"node_id":"MDQ6VXNlcjEzNzk0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1379463?v=4","gravatar_id":"","url":"https://api.github.com/users/jlecoeur","html_url":"https://github.com/jlecoeur","followers_url":"https://api.github.com/users/jlecoeur/followers","following_url":"https://api.github.com/users/jlecoeur/following{/other_user}","gists_url":"https://api.github.com/users/jlecoeur/gists{/gist_id}","starred_url":"https://api.github.com/users/jlecoeur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlecoeur/subscriptions","organizations_url":"https://api.github.com/users/jlecoeur/orgs","repos_url":"https://api.github.com/users/jlecoeur/repos","events_url":"https://api.github.com/users/jlecoeur/events{/privacy}","received_events_url":"https://api.github.com/users/jlecoeur/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":289821422,"node_id":"MDU6TGFiZWwyODk4MjE0MjI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/sitl","name":"sitl","color":"bfd4f2","default":false,"description":"software in the loop simulation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-11-18T16:37:45Z","updated_at":"2019-11-21T15:55:55Z","closed_at":"2019-11-21T15:55:50Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13501","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13501","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13501.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13501.patch","merged_at":"2019-11-21T15:55:50Z"},"body":"Issues solved:\r\n- params were kept when changing airframes in SITL\r\n- SYS_AUTOCONFIG was ignored\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13501/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13498","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13498/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13498/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13498/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13498","id":524348507,"node_id":"MDU6SXNzdWU1MjQzNDg1MDc=","number":13498,"title":"Drone rotates towards setpoints in Precision Land flight mode in 1.9.x and 1.10.0","user":{"login":"dvornikov-aa","id":36663802,"node_id":"MDQ6VXNlcjM2NjYzODAy","avatar_url":"https://avatars.githubusercontent.com/u/36663802?v=4","gravatar_id":"","url":"https://api.github.com/users/dvornikov-aa","html_url":"https://github.com/dvornikov-aa","followers_url":"https://api.github.com/users/dvornikov-aa/followers","following_url":"https://api.github.com/users/dvornikov-aa/following{/other_user}","gists_url":"https://api.github.com/users/dvornikov-aa/gists{/gist_id}","starred_url":"https://api.github.com/users/dvornikov-aa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dvornikov-aa/subscriptions","organizations_url":"https://api.github.com/users/dvornikov-aa/orgs","repos_url":"https://api.github.com/users/dvornikov-aa/repos","events_url":"https://api.github.com/users/dvornikov-aa/events{/privacy}","received_events_url":"https://api.github.com/users/dvornikov-aa/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-11-18T12:51:10Z","updated_at":"2020-08-31T16:37:28Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Drone rotates towards setpoints and subsequently fails to land on the target if precision landing starts outside of the mission (by command `commander mode auto:precland`) . The drone yaw was always **0** in **1.8.x**. The worst part is that I can't reproduce this behavior in **SITL** or **HITL**.\r\n\r\n**Steps to reproduce the behavior:**\r\n\r\n1. Takeoff above **IR-Lock** beacon.\r\n2. Call `commander mode auto:precland`.\r\n3. Watch the precision landing process.\r\n\r\n**Expected behavior**\r\nThe drone yaw must always be constant to perform a successful precise landing.\r\n\r\n**Log Files and Screenshots**\r\n[Log](https://logs.px4.io/plot_app?log=85b20945-deca-4b19-b7d5-7cc8e6bdc2c7)\r\n\r\n![Yaw Angle](https://user-images.githubusercontent.com/36663802/69052720-c80cdb00-0a18-11ea-930b-90ee223e75bb.png)\r\n\r\n**Drone:**\r\nF450-based Quadrotor x\r\n\r\n<img src=\"https://user-images.githubusercontent.com/36663802/69053177-e1625700-0a19-11ea-87fc-fe5b8a49d399.jpg\" alt=\"photo_2019-11-18_15-39-53\" height=800px />\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13498/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13490","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13490/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13490/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13490/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13490","id":523856180,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQxNzYzNzAy","number":13490,"title":"NuttX cmake bug fixes and improvements","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":581805812,"node_id":"MDU6TGFiZWw1ODE4MDU4MTI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/NuttX%20(OS)","name":"NuttX (OS)","color":"3C33E3","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-11-16T15:09:41Z","updated_at":"2019-11-16T20:42:23Z","closed_at":"2019-11-16T20:42:20Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13490","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13490","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13490.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13490.patch","merged_at":"2019-11-16T20:42:20Z"},"body":"This is an attempt to fix the intermittent MacOS NuttX build failure in the recent upgrade (https://github.com/PX4/Firmware/pull/13065).","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13490/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13490/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13488","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13488/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13488/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13488/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13488","id":523766770,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQxNzA1NzIz","number":13488,"title":"px4io: When running HITL, don't publish actuator_outputs. Fixes #13471.","user":{"login":"langrind","id":11541631,"node_id":"MDQ6VXNlcjExNTQxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/11541631?v=4","gravatar_id":"","url":"https://api.github.com/users/langrind","html_url":"https://github.com/langrind","followers_url":"https://api.github.com/users/langrind/followers","following_url":"https://api.github.com/users/langrind/following{/other_user}","gists_url":"https://api.github.com/users/langrind/gists{/gist_id}","starred_url":"https://api.github.com/users/langrind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/langrind/subscriptions","organizations_url":"https://api.github.com/users/langrind/orgs","repos_url":"https://api.github.com/users/langrind/repos","events_url":"https://api.github.com/users/langrind/events{/privacy}","received_events_url":"https://api.github.com/users/langrind/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false}],"milestone":null,"comments":5,"created_at":"2019-11-16T01:14:43Z","updated_at":"2019-11-20T01:13:08Z","closed_at":"2019-11-17T10:19:36Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13488","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13488","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13488.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13488.patch","merged_at":"2019-11-17T10:19:36Z"},"body":"See [Issue 13471 - vehicle doesn't take off in HITL SIM](https://github.com/PX4/Firmware/issues/13471)\r\n\r\nThe reason it fails:\r\n\r\nWhen running in HITL mode, pwm_out_sim publishes actuator_outputs.\r\n\r\npx4io unconditionally publishes the uOrb actuator_outputs. When HITL\r\nis configured, the px4io copy of the uOrb has all zeros.\r\n\r\nThe result is that there are two publications, one valid, and one\r\nall-zeros. This causes the HIL_ACTUATOR_CONTROLS mavlink message\r\nto be incorrect (all-zeros) and the SERVO_OUTPUTS_RAW mavlink\r\nmessage to be inconsistent, as it takes the data from one or the\r\nother uOrb randomly each cycle.\r\n\r\nThe fix is to let px4io know that HITL is in effect when it is\r\nstarted, and modify px4io to suppress publication in this case.\r\n\r\nThis is a bigger more complicated fix than I would like, but I\r\nthink it is conceptually correct.\r\n\r\nAn alternative would be to change src/modules/mavlink/mavlink_messages.cpp so that\r\nMavlinkStreamHILActuatorControls() explicitly subscribed to instance 1 of the uOrb:\r\n\r\n         _act_sub(_mavlink->add_orb_subscription(ORB_ID(actuator_outputs), 1)), _act_time(0)\r\n\r\nThat's a one-line solution, but I think it is incorrect because nothing enforces which pub of the uOrb is instance 0 and which is instance 1. And, I just think it doesn't make sense to have two pubs.\r\n\r\n**Test data / coverage**\r\nI simply verified that the failure case in #13471 is fixed. I also verified that the Pixhawk still boots when HITL is not enabled.\r\n\r\nSigned-off-by: Nik Langrind <langrind@gmail.com>\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13488/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13483","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13483/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13483/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13483/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13483","id":523532099,"node_id":"MDU6SXNzdWU1MjM1MzIwOTk=","number":13483,"title":"Durandal: manual logger start fails","user":{"login":"mhkabir","id":5557676,"node_id":"MDQ6VXNlcjU1NTc2NzY=","avatar_url":"https://avatars.githubusercontent.com/u/5557676?v=4","gravatar_id":"","url":"https://api.github.com/users/mhkabir","html_url":"https://github.com/mhkabir","followers_url":"https://api.github.com/users/mhkabir/followers","following_url":"https://api.github.com/users/mhkabir/following{/other_user}","gists_url":"https://api.github.com/users/mhkabir/gists{/gist_id}","starred_url":"https://api.github.com/users/mhkabir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mhkabir/subscriptions","organizations_url":"https://api.github.com/users/mhkabir/orgs","repos_url":"https://api.github.com/users/mhkabir/repos","events_url":"https://api.github.com/users/mhkabir/events{/privacy}","received_events_url":"https://api.github.com/users/mhkabir/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"davids5","id":1945821,"node_id":"MDQ6VXNlcjE5NDU4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1945821?v=4","gravatar_id":"","url":"https://api.github.com/users/davids5","html_url":"https://github.com/davids5","followers_url":"https://api.github.com/users/davids5/followers","following_url":"https://api.github.com/users/davids5/following{/other_user}","gists_url":"https://api.github.com/users/davids5/gists{/gist_id}","starred_url":"https://api.github.com/users/davids5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davids5/subscriptions","organizations_url":"https://api.github.com/users/davids5/orgs","repos_url":"https://api.github.com/users/davids5/repos","events_url":"https://api.github.com/users/davids5/events{/privacy}","received_events_url":"https://api.github.com/users/davids5/received_events","type":"User","site_admin":false},"assignees":[{"login":"davids5","id":1945821,"node_id":"MDQ6VXNlcjE5NDU4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1945821?v=4","gravatar_id":"","url":"https://api.github.com/users/davids5","html_url":"https://github.com/davids5","followers_url":"https://api.github.com/users/davids5/followers","following_url":"https://api.github.com/users/davids5/following{/other_user}","gists_url":"https://api.github.com/users/davids5/gists{/gist_id}","starred_url":"https://api.github.com/users/davids5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davids5/subscriptions","organizations_url":"https://api.github.com/users/davids5/orgs","repos_url":"https://api.github.com/users/davids5/repos","events_url":"https://api.github.com/users/davids5/events{/privacy}","received_events_url":"https://api.github.com/users/davids5/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/32","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32/labels","id":4728829,"node_id":"MDk6TWlsZXN0b25lNDcyODgyOQ==","number":32,"title":"Release v1.11.0","description":"","creator":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"open_issues":7,"closed_issues":167,"state":"open","created_at":"2019-10-07T16:06:51Z","updated_at":"2023-04-11T12:29:40Z","due_on":"2020-04-01T07:00:00Z","closed_at":null},"comments":16,"created_at":"2019-11-15T15:24:34Z","updated_at":"2020-06-29T15:20:40Z","closed_at":"2020-04-17T10:30:54Z","author_association":"MEMBER","active_lock_reason":null,"body":"Starting logger on Durandal (`stm32h7_support` branch) manually from Mavlink console seems to fail:\r\n\r\n![image](https://user-images.githubusercontent.com/5557676/68954346-da291800-0791-11ea-9dde-de61bc319d64.png)\r\n\r\nIt does report that a new log file was opened, after `logger on`:\r\n![image](https://user-images.githubusercontent.com/5557676/68954439-ffb62180-0791-11ea-8ae6-95dbbb94143c.png)\r\n\r\nHowever these files are always empty:\r\n\r\n![image](https://user-images.githubusercontent.com/5557676/68954461-0e9cd400-0792-11ea-803b-420cd1aaaafa.png)\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13483/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13479","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13479/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13479/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13479/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13479","id":523295003,"node_id":"MDU6SXNzdWU1MjMyOTUwMDM=","number":13479,"title":"Unexpected Freefall druing Loiter Mode","user":{"login":"pifordi","id":13007445,"node_id":"MDQ6VXNlcjEzMDA3NDQ1","avatar_url":"https://avatars.githubusercontent.com/u/13007445?v=4","gravatar_id":"","url":"https://api.github.com/users/pifordi","html_url":"https://github.com/pifordi","followers_url":"https://api.github.com/users/pifordi/followers","following_url":"https://api.github.com/users/pifordi/following{/other_user}","gists_url":"https://api.github.com/users/pifordi/gists{/gist_id}","starred_url":"https://api.github.com/users/pifordi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pifordi/subscriptions","organizations_url":"https://api.github.com/users/pifordi/orgs","repos_url":"https://api.github.com/users/pifordi/repos","events_url":"https://api.github.com/users/pifordi/events{/privacy}","received_events_url":"https://api.github.com/users/pifordi/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":249514594,"node_id":"MDU6TGFiZWwyNDk1MTQ1OTQ=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Hybrid%20VTOL%20%F0%9F%9B%A9%EF%B8%8F%F0%9F%9A%81","name":"Hybrid VTOL üõ©Ô∏èüöÅ","color":"bfe5bf","default":false,"description":"Multirotor + Fixedwing!"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-11-15T07:07:05Z","updated_at":"2021-01-18T21:09:17Z","closed_at":"2021-01-18T21:09:17Z","author_association":"NONE","active_lock_reason":null,"body":"I have flight three times with my vtol plane two days ago. In the last flight,  during loiter mode at 280meters, the plane start to descent its altitude. I commanded RTL at 25meters and it return back to home but It still losing altitude during rtl mode. RTL altitude set to 40m but the plane did not climbout to 40m during rtl mode. I switch to manual at about 10 meters and landed the plane. Loiter mode does not appear in flight log records. I think that fw control module stops to work in air. The plane did not try to reach cruise airspeed during this period. Actually, it did not try to correct anything. \r\n\r\nAfter landing, I was able to run lifter motors, servos and pusher motor. The plane was able to take off and landing normally after landing. There was no hardware problem. You can see easily, there is long dropout on flightlog at all plots. You can watch the flight from \"Open 3D View\", the plane was flying backwards bcause of dropouts on log file.\r\n\r\nFlight log: https://review.px4.io/plot_app?log=ecc40545-1384-4185-828e-c14322655122","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13479/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13474","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13474/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13474/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13474/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13474","id":523087908,"node_id":"MDU6SXNzdWU1MjMwODc5MDg=","number":13474,"title":"ROI waypoints don't always work","user":{"login":"mwiatt","id":4399188,"node_id":"MDQ6VXNlcjQzOTkxODg=","avatar_url":"https://avatars.githubusercontent.com/u/4399188?v=4","gravatar_id":"","url":"https://api.github.com/users/mwiatt","html_url":"https://github.com/mwiatt","followers_url":"https://api.github.com/users/mwiatt/followers","following_url":"https://api.github.com/users/mwiatt/following{/other_user}","gists_url":"https://api.github.com/users/mwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/mwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwiatt/subscriptions","organizations_url":"https://api.github.com/users/mwiatt/orgs","repos_url":"https://api.github.com/users/mwiatt/repos","events_url":"https://api.github.com/users/mwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/mwiatt/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1450324872,"node_id":"MDU6TGFiZWwxNDUwMzI0ODcy","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Communication%20(MAVLink)%20%F0%9F%93%A1","name":"Communication (MAVLink) üì°","color":"f66608","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2019-11-14T20:30:04Z","updated_at":"2020-08-16T13:55:27Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nOccasionally (maybe 50% of the time) an ROI waypoint will not be processed. This bug has been present since at least 1.8.2 (when I started using PX4). When I was using 1.8.2, I was using a PWM driven gimbal hooked to the AUX port. Now, I am using 1.10.0-rc1 and experiencing the same bug with a Mavlink connected gimbal. Completely different hardware,\r\n\r\n**To Reproduce**\r\nThis behavior is intermittent and hard to regularly reproduce.\r\n\r\nSteps to reproduce the behavior:\r\n1) Create mission with a \"ROI\" waypoint and possibly a \"Cancel ROI\"\r\n2) Upload to flight controller\r\n3) Take off and fly in mission mode.\r\n\r\n**Expected behavior**\r\nThe gimbal will point at the ROI waypoint. If a \"Cancel ROI\" waypoint is issued, the gimbal will return to a neutral position.\r\n\r\n**Log Files and Screenshots**\r\nhttps://logs.px4.io/plot_app?log=566767d5-5d67-4d58-add6-fad66e1579d9\r\n\r\nFlight plan:\r\n[ROI.txt](https://github.com/PX4/Firmware/files/3848510/ROI.txt)\r\n\r\nIn the flight above an ROI waypoint is added. Sometimes the gimbal will point at the ROI waypoint as it should. On some flights it wont. Attached to the last waypoint is a \"Cancel ROI\" waypoint which doesn't always cancel the ROI. Several flights were performed as well as several reboots of the AP. The results were an inconsistent mix of everything working to nothing.\r\n\r\n**Drone (please complete the following information):**\r\n- Tarot X6 (with Tarot retracts)\r\n- Pixhawk Cube 2.1\r\n- Here2 GNSS\r\n- PX4 1.10.1rc1\r\n- QGC 3.5.5\r\n- Gremsy S1 Gimbal connected to Telem2 (Mavlink)\r\n\r\n**Additional context**\r\nI have verified the gimbal is working correctly. My MNT_MODE_IN is set to \"AUTO\" and I can always control the gimbal pointing angle via RC. The problem only occurs when a ROI waypoint is used to control the gimbal. I have verified that this behavior also exists when the MNT_MODE_IN is set to \"MAVLINK_ROI\".\r\n\r\nI am eager to do as many test flights as necessary to get this resolved. If additional logging is required, please provide instructions to enable logs. I am also willing and able to build new firmware.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13474/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13471","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13471/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13471/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13471/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13471","id":522867383,"node_id":"MDU6SXNzdWU1MjI4NjczODM=","number":13471,"title":"v1.10.0-rc quadcopter doesn't take off in HITL/jMAVsim ","user":{"login":"langrind","id":11541631,"node_id":"MDQ6VXNlcjExNTQxNjMx","avatar_url":"https://avatars.githubusercontent.com/u/11541631?v=4","gravatar_id":"","url":"https://api.github.com/users/langrind","html_url":"https://github.com/langrind","followers_url":"https://api.github.com/users/langrind/followers","following_url":"https://api.github.com/users/langrind/following{/other_user}","gists_url":"https://api.github.com/users/langrind/gists{/gist_id}","starred_url":"https://api.github.com/users/langrind/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/langrind/subscriptions","organizations_url":"https://api.github.com/users/langrind/orgs","repos_url":"https://api.github.com/users/langrind/repos","events_url":"https://api.github.com/users/langrind/events{/privacy}","received_events_url":"https://api.github.com/users/langrind/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":552258139,"node_id":"MDU6TGFiZWw1NTIyNTgxMzk=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/hitl","name":"hitl","color":"d4c5f9","default":false,"description":"hardware in the loop simulation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-11-14T13:41:58Z","updated_at":"2019-11-17T10:19:40Z","closed_at":"2019-11-17T10:19:40Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nSet up HITL simulation with jMAVsim on Ubuntu 18.04,  Pixhawk 4 with v1.10.0-rc, locally built px4_fmu-v5-multicopter. \r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Follow the recipe from [px4 website](https://dev.px4.io/v1.9.0/en/simulation/hitl.html#jmavsimgazebo-hitl-environment)\r\n2. Using Manual/Stabilized mode, arm vehicle and apply throttle\r\n3. Vehicle does not take off\r\n4. Mavlink shell (`listener` command) shows actuator_outputs_1 with *valid* values and actuator_outputs_0 with 0 values\r\n\r\n**Expected behavior**\r\nSERVO_OUTPUT_RAW or HIL_ACTUATOR_CONTROLS should follow actuator_outputs_1 and the vehicle should take off in simulation\r\n\r\n**Log Files and Screenshots**\r\n[Flight Review Link](https://review.px4.io/plot_app?log=8890b998-3b24-4a96-af5a-da4c10910bff)\r\n\r\nAdd screenshots to help explain your problem.\r\n\r\n**Drone:**\r\n- Pixhawk4 running in HITL Quad Mode\r\n- Photo of the IMU / autopilot setup if possible.\r\n![IMG_8020](https://user-images.githubusercontent.com/11541631/68861820-46d0e380-06ba-11ea-98e2-76585b3bb031.JPG)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13471/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13467","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13467/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13467/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13467/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13467","id":522742062,"node_id":"MDU6SXNzdWU1MjI3NDIwNjI=","number":13467,"title":"Rover: GPS loss leads to \"fixed bank loiter\" instead of just stopping","user":{"login":"jbeyerstedt","id":4568682,"node_id":"MDQ6VXNlcjQ1Njg2ODI=","avatar_url":"https://avatars.githubusercontent.com/u/4568682?v=4","gravatar_id":"","url":"https://api.github.com/users/jbeyerstedt","html_url":"https://github.com/jbeyerstedt","followers_url":"https://api.github.com/users/jbeyerstedt/followers","following_url":"https://api.github.com/users/jbeyerstedt/following{/other_user}","gists_url":"https://api.github.com/users/jbeyerstedt/gists{/gist_id}","starred_url":"https://api.github.com/users/jbeyerstedt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbeyerstedt/subscriptions","organizations_url":"https://api.github.com/users/jbeyerstedt/orgs","repos_url":"https://api.github.com/users/jbeyerstedt/repos","events_url":"https://api.github.com/users/jbeyerstedt/events{/privacy}","received_events_url":"https://api.github.com/users/jbeyerstedt/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":647657056,"node_id":"MDU6TGFiZWw2NDc2NTcwNTY=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Rover%20%F0%9F%9A%99","name":"Rover üöô","color":"e99695","default":false,"description":"Rovers and other UGV"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-11-14T09:50:41Z","updated_at":"2020-05-25T04:13:10Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"When the GPS position is lost during a mission, the rover switches to a \"fixed bank loiter\", which is nice for a fixed wing aircraft, but not necessary for a ground vehicle.\r\n(I just tested in SITL and not with a real rover.)\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Start rover and QCG\r\n2. create and upload a mission and start the mission\r\n3. turn off GPS in nxh with `gpssim stop` at any point in the mission\r\n4. obverse two warning messages in QGC\r\n```\r\nWARN  [commander] Failsafe enabled: no global position\r\nWARN  [navigator] Global position failure: fixed bank loiter\r\n```\r\n\r\n**Current behavior**\r\nThe vehicle outputs cruising? throttle (PWM 1665) and a zero degree steering angle (PWM 1492). The roll set point is set to 15 degrees, which has no effect on a rover.\r\n\r\n**Expected behavior**\r\nJust stop driving\r\n\r\n**Log Files and Screenshots**\r\n- Flight log: https://logs.px4.io/plot_app?log=b8a6959a-7e85-4ebb-8473-d9d930775e3e\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13467/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13467/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13466","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13466/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13466/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13466/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13466","id":522729991,"node_id":"MDU6SXNzdWU1MjI3Mjk5OTE=","number":13466,"title":"Rover: Mission with landing waypoint rejected","user":{"login":"jbeyerstedt","id":4568682,"node_id":"MDQ6VXNlcjQ1Njg2ODI=","avatar_url":"https://avatars.githubusercontent.com/u/4568682?v=4","gravatar_id":"","url":"https://api.github.com/users/jbeyerstedt","html_url":"https://github.com/jbeyerstedt","followers_url":"https://api.github.com/users/jbeyerstedt/followers","following_url":"https://api.github.com/users/jbeyerstedt/following{/other_user}","gists_url":"https://api.github.com/users/jbeyerstedt/gists{/gist_id}","starred_url":"https://api.github.com/users/jbeyerstedt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbeyerstedt/subscriptions","organizations_url":"https://api.github.com/users/jbeyerstedt/orgs","repos_url":"https://api.github.com/users/jbeyerstedt/repos","events_url":"https://api.github.com/users/jbeyerstedt/events{/privacy}","received_events_url":"https://api.github.com/users/jbeyerstedt/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":647657056,"node_id":"MDU6TGFiZWw2NDc2NTcwNTY=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Rover%20%F0%9F%9A%99","name":"Rover üöô","color":"e99695","default":false,"description":"Rovers and other UGV"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-11-14T09:29:26Z","updated_at":"2020-02-14T16:15:48Z","closed_at":"2020-02-14T16:15:48Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"A mission, that contains/ ends with a landing waypoint gets rejected:\r\n```\r\nWARN  [navigator] Mission rejected: waypoint within landing flare.\r\nERROR [navigator] mission check failed\r\n```\r\n\r\nMission Plan: [rover-landing.plan.zip](https://github.com/PX4/Firmware/files/3845650/rover-landing.plan.zip)  \r\nTested in headless gazebo SITL simulation (`HEADLESS=1 make px4_sitl_default gazebo_rover`) with the current master.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13466/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13465","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13465/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13465/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13465/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13465","id":522612749,"node_id":"MDU6SXNzdWU1MjI2MTI3NDk=","number":13465,"title":"QGC occasionally fails to load parameters when it is booted","user":{"login":"SwiftGust","id":13569579,"node_id":"MDQ6VXNlcjEzNTY5NTc5","avatar_url":"https://avatars.githubusercontent.com/u/13569579?v=4","gravatar_id":"","url":"https://api.github.com/users/SwiftGust","html_url":"https://github.com/SwiftGust","followers_url":"https://api.github.com/users/SwiftGust/followers","following_url":"https://api.github.com/users/SwiftGust/following{/other_user}","gists_url":"https://api.github.com/users/SwiftGust/gists{/gist_id}","starred_url":"https://api.github.com/users/SwiftGust/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SwiftGust/subscriptions","organizations_url":"https://api.github.com/users/SwiftGust/orgs","repos_url":"https://api.github.com/users/SwiftGust/repos","events_url":"https://api.github.com/users/SwiftGust/events{/privacy}","received_events_url":"https://api.github.com/users/SwiftGust/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1450324872,"node_id":"MDU6TGFiZWwxNDUwMzI0ODcy","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Communication%20(MAVLink)%20%F0%9F%93%A1","name":"Communication (MAVLink) üì°","color":"f66608","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-11-14T04:11:39Z","updated_at":"2020-02-27T05:20:44Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nA clear and concise description of the bug.\r\n\r\nI'm not sure it is Herelink specific issue.\r\n\r\nWhen running 3 mavlink instances on pixhawk4,\r\nOccasionally Herelink fails to load PX4 parameters, hangs on loading parameters\r\nbut other features such as RC control(joystick), start mission through Herelink still available.\r\nThis never resolved rebooting, power-cycling the vehicle & Herelink\r\n\r\nFrom message seen from QGC from laptop relayed from onboard computer through mavros,\r\nmessages are keep displayed unknown parameter:#(parameter ids)\r\n\r\n**System setup**\r\n**Instance / Baud rate / Mode /  Rate / Terminal / Description** \r\nInstance 0 / 57600 /  Normal / 0 / Herelink / Having issue with loading parameters occasionally\r\nInstance 1 / 921600 / Onboard / 800000 / Onboard Computer / using mavros to connect QGC to the laptop, never had issue with parameter loading\r\nInstance 2 / 115200 / Normal / 0 / Mavlink Gimbal / camera mount\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Random, unknown cause yet, hard to reproduce on our side.\r\n\r\n**Expected behavior**\r\nA clear and concise description of what you expected to happen.\r\n\r\nHerelink cannot load PX4 parameters while other functionalities such as joystick control, mission start, take-off, etc... are working\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13465/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13462","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13462/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13462/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13462/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13462","id":522372316,"node_id":"MDU6SXNzdWU1MjIzNzIzMTY=","number":13462,"title":"Landed state not updating in mavlink_messages.cpp","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1386282089,"node_id":"MDU6TGFiZWwxMzg2MjgyMDg5","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Uorb","name":"Uorb","color":"141672","default":false,"description":""},{"id":1450324872,"node_id":"MDU6TGFiZWwxNDUwMzI0ODcy","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Communication%20(MAVLink)%20%F0%9F%93%A1","name":"Communication (MAVLink) üì°","color":"f66608","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2019-11-13T17:38:01Z","updated_at":"2019-11-18T17:25:21Z","closed_at":"2019-11-18T17:25:20Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"While working on [testing using MAVSDK](https://github.com/PX4/Firmware/pull/13075) I ran into a problem where the landed state sent via MAVLink telemetry is not up-to-date and made the test fail. Basically on-ground was reported for too long and it didn't switch to takeoff or in-air.\r\n\r\nSome debugging showed me that the land_detector was correct and publishing but the result is not picked up in:\r\n\r\nhttps://github.com/PX4/Firmware/blob/7996ee496c5bcc0d4a5e856495a677d8455f2748/src/modules/mavlink/mavlink_messages.cpp#L4431\r\n\r\nThe update was `false`, hence not updated.\r\n\r\nI assume this is the culprit, right @dagar?\r\n\r\nhttps://github.com/PX4/Firmware/blob/7996ee496c5bcc0d4a5e856495a677d8455f2748/src/modules/uORB/Subscription.cpp#L101\r\n\r\nIf I change `(_last_generation % 100 == 0)` to `(_last_generation % 1 == 0)` it works :smile:.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13462/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13462/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13458","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13458/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13458/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13458/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13458","id":522311834,"node_id":"MDU6SXNzdWU1MjIzMTE4MzQ=","number":13458,"title":"Yaw not following ROI in mission","user":{"login":"tuloski","id":6544139,"node_id":"MDQ6VXNlcjY1NDQxMzk=","avatar_url":"https://avatars.githubusercontent.com/u/6544139?v=4","gravatar_id":"","url":"https://api.github.com/users/tuloski","html_url":"https://github.com/tuloski","followers_url":"https://api.github.com/users/tuloski/followers","following_url":"https://api.github.com/users/tuloski/following{/other_user}","gists_url":"https://api.github.com/users/tuloski/gists{/gist_id}","starred_url":"https://api.github.com/users/tuloski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tuloski/subscriptions","organizations_url":"https://api.github.com/users/tuloski/orgs","repos_url":"https://api.github.com/users/tuloski/repos","events_url":"https://api.github.com/users/tuloski/events{/privacy}","received_events_url":"https://api.github.com/users/tuloski/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1678863325,"node_id":"MDU6TGFiZWwxNjc4ODYzMzI1","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Gimbal%20%F0%9F%8E%A5","name":"Gimbal üé•","color":"c3ed89","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-11-13T15:54:48Z","updated_at":"2020-03-21T10:23:11Z","closed_at":"2020-03-21T10:23:11Z","author_association":"NONE","active_lock_reason":null,"body":"Autopilot: Pixracer\r\n\r\nFirmware: 1.9.2\r\n\r\nI tried many combinations of parameters, and different waypoint (with camera, without camera, ...) but it seems that in no way the multicopter uses the yaw to track a ROI. The yaw always points to the next waypoint.\r\nI have a gimbal with only pitch, and the pitch seems correct, but no way about the yaw.\r\nIs there a secret combo of parameters, or simply the feature got broken on 1.9.2?\r\n\r\nPS: I think the key parameter here is MIS_MNT_YAW_CTL, which according to the description should be disabled, but I tried both enabled and disabled.\r\n\r\nPS2: I'm wondering if the mixer has something to do with it","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13458/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13455","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13455/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13455/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13455/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13455","id":522236067,"node_id":"MDU6SXNzdWU1MjIyMzYwNjc=","number":13455,"title":"Preflightcheck to require valid mission broken","user":{"login":"cmic0","id":7490213,"node_id":"MDQ6VXNlcjc0OTAyMTM=","avatar_url":"https://avatars.githubusercontent.com/u/7490213?v=4","gravatar_id":"","url":"https://api.github.com/users/cmic0","html_url":"https://github.com/cmic0","followers_url":"https://api.github.com/users/cmic0/followers","following_url":"https://api.github.com/users/cmic0/following{/other_user}","gists_url":"https://api.github.com/users/cmic0/gists{/gist_id}","starred_url":"https://api.github.com/users/cmic0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmic0/subscriptions","organizations_url":"https://api.github.com/users/cmic0/orgs","repos_url":"https://api.github.com/users/cmic0/repos","events_url":"https://api.github.com/users/cmic0/events{/privacy}","received_events_url":"https://api.github.com/users/cmic0/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":289821422,"node_id":"MDU6TGFiZWwyODk4MjE0MjI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/sitl","name":"sitl","color":"bfd4f2","default":false,"description":"software in the loop simulation"}],"state":"closed","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2019-11-13T13:50:35Z","updated_at":"2020-10-12T12:24:10Z","closed_at":"2020-10-12T12:23:59Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nWhile testing this PR https://github.com/PX4/Firmware/pull/13454 in SITL, I realized I was able to take off without a mission even if `COM_ARM_MIS_REQ` was enabled. \r\n\r\nI checked  `vehicle_status_flags.condition_auto_mission_available` and seems that is always true.\r\nWith further analysis i ended up here\r\nhttps://github.com/PX4/Firmware/blob/master/src/modules/navigator/mission.cpp#L1652\r\n\r\nwhere seems  that `checkMissionFeasible` reports true.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Laungh SITL \r\n2. Clean mission from vehicle\r\n3. Set `COM_ARM_MIS_REQ`to 1\r\n4. Try to arm.\r\n\r\n**Expected behavior**\r\nArming should be denied as no mission is available on the vehicle. \r\nIn reality you can still arm\r\n\r\n\r\nThe issue is only reproducible in SITL. On a real HW works fine\r\n\r\nFYI @julianoes ","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13455/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13440","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13440/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13440/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13440/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13440","id":521223730,"node_id":"MDExOlB1bGxSZXF1ZXN0MzM5NjQ0NzE5","number":13440,"title":"fmuk66-v3:Fix hang on SDIO card removal/reinsertion","user":{"login":"davids5","id":1945821,"node_id":"MDQ6VXNlcjE5NDU4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1945821?v=4","gravatar_id":"","url":"https://api.github.com/users/davids5","html_url":"https://github.com/davids5","followers_url":"https://api.github.com/users/davids5/followers","following_url":"https://api.github.com/users/davids5/following{/other_user}","gists_url":"https://api.github.com/users/davids5/gists{/gist_id}","starred_url":"https://api.github.com/users/davids5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davids5/subscriptions","organizations_url":"https://api.github.com/users/davids5/orgs","repos_url":"https://api.github.com/users/davids5/repos","events_url":"https://api.github.com/users/davids5/events{/privacy}","received_events_url":"https://api.github.com/users/davids5/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":581805812,"node_id":"MDU6TGFiZWw1ODE4MDU4MTI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/NuttX%20(OS)","name":"NuttX (OS)","color":"3C33E3","default":false,"description":""},{"id":1047294641,"node_id":"MDU6TGFiZWwxMDQ3Mjk0NjQx","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/board:%20nxphlite","name":"board: nxphlite","color":"d0f46e","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":3,"created_at":"2019-11-11T22:31:14Z","updated_at":"2019-11-15T16:13:43Z","closed_at":"2019-11-15T16:13:40Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13440","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13440","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13440.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13440.patch","merged_at":"2019-11-15T16:13:40Z"},"body":"   The interrupt driven card detect logic was enabled\r\n   but the auto mounter was not. That interrupt was\r\n   calling mmcsd_mediachange.\r\n\r\n   There is a reentrancy issues in the kinetis callback logic.\r\n   Toplevel calls mmcsd_mediachange calls SDIO_CALLBACKENABLE\r\n   that calls kinetis_callbackenable that calls kinetis_callback\r\n   that calls mmcsd_mediachange.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13440/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13436","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13436/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13436/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13436/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13436","id":521173855,"node_id":"MDExOlB1bGxSZXF1ZXN0MzM5NjA2Mzg3","number":13436,"title":"boards: start adc in rc.board_sensors","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":10884840,"node_id":"MDU6TGFiZWwxMDg4NDg0MA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/enhancement%20(improvement)%20%F0%9F%92%A1","name":"enhancement (improvement) üí°","color":"84b6eb","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-11-11T20:36:43Z","updated_at":"2019-11-11T22:08:43Z","closed_at":"2019-11-11T22:08:25Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13436","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13436","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13436.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13436.patch","merged_at":"2019-11-11T22:08:25Z"},"body":"This will also get rid of the temporary battery_status error at startup.\r\n\r\n    ERROR [battery_status] no ADC found: /dev/adc0 (2)","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13436/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13434","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13434/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13434/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13434/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13434","id":521096234,"node_id":"MDU6SXNzdWU1MjEwOTYyMzQ=","number":13434,"title":"PX4 SITL memory leak","user":{"login":"lovettchris","id":18707114,"node_id":"MDQ6VXNlcjE4NzA3MTE0","avatar_url":"https://avatars.githubusercontent.com/u/18707114?v=4","gravatar_id":"","url":"https://api.github.com/users/lovettchris","html_url":"https://github.com/lovettchris","followers_url":"https://api.github.com/users/lovettchris/followers","following_url":"https://api.github.com/users/lovettchris/following{/other_user}","gists_url":"https://api.github.com/users/lovettchris/gists{/gist_id}","starred_url":"https://api.github.com/users/lovettchris/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lovettchris/subscriptions","organizations_url":"https://api.github.com/users/lovettchris/orgs","repos_url":"https://api.github.com/users/lovettchris/repos","events_url":"https://api.github.com/users/lovettchris/events{/privacy}","received_events_url":"https://api.github.com/users/lovettchris/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":289821422,"node_id":"MDU6TGFiZWwyODk4MjE0MjI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/sitl","name":"sitl","color":"bfd4f2","default":false,"description":"software in the loop simulation"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":16,"created_at":"2019-11-11T17:39:57Z","updated_at":"2020-02-22T09:46:53Z","closed_at":null,"author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"Leave PX4 SITL running over night and the next morning it is using 1.2 Gigabytes of RAM.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. setup Cygwin PX4 toolchain\r\n2. clone master Firmware\r\n3. make px4_sitl_default none_iris\r\n4. do nothing else for 12 hours\r\n5. bring up task manager and take a look at the process:\r\n\r\n![image](https://user-images.githubusercontent.com/18707114/68608170-2230fd80-0467-11ea-8cd7-945193a2e18b.png)\r\n\r\nIf you try and connect a simulator you get this error:\r\nERROR [simulator] Creating TCP socket failed: No buffer space available\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/18707114/68608096-f44bb900-0466-11ea-9ec1-a71b26bb46db.png)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13434/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13434/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13415","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13415/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13415/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13415/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13415","id":519461690,"node_id":"MDU6SXNzdWU1MTk0NjE2OTA=","number":13415,"title":"Violent jerk when switching from manual to position mode","user":{"login":"dakejahl","id":37091262,"node_id":"MDQ6VXNlcjM3MDkxMjYy","avatar_url":"https://avatars.githubusercontent.com/u/37091262?v=4","gravatar_id":"","url":"https://api.github.com/users/dakejahl","html_url":"https://github.com/dakejahl","followers_url":"https://api.github.com/users/dakejahl/followers","following_url":"https://api.github.com/users/dakejahl/following{/other_user}","gists_url":"https://api.github.com/users/dakejahl/gists{/gist_id}","starred_url":"https://api.github.com/users/dakejahl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakejahl/subscriptions","organizations_url":"https://api.github.com/users/dakejahl/orgs","repos_url":"https://api.github.com/users/dakejahl/repos","events_url":"https://api.github.com/users/dakejahl/events{/privacy}","received_events_url":"https://api.github.com/users/dakejahl/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":2,"created_at":"2019-11-07T19:19:27Z","updated_at":"2019-11-19T21:18:02Z","closed_at":"2019-11-19T21:18:02Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Firmware**: 1.9.2 (with #13312 and #13325)\r\n\r\n**Describe the bug**\r\nI'm seeing huge pitch/roll setpoints when switching from manual to position mode . It seems like it's the velocity controller, but I don't really understand how the velocity controller ends up demanding such large effort of the attitude controller. I've detuned the P gain on the velocity controller and am still seeing a violent jerk when switching from manual to position. Here's a log with 3 mode switch, the first one being the most violent.\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Switch from `manual` to `position` mode. The more velocity you have before the switch, the more violent the jerk.\r\n\r\n**Log Files and Screenshots**\r\nhttps://review.px4.io/plot_app?log=4fa7056e-d1bc-437f-829d-0b45e3087276\r\n![Selection_038](https://user-images.githubusercontent.com/37091262/68419559-afb6d980-0157-11ea-96b3-72665d0f29f1.png)\r\n![Selection_041](https://user-images.githubusercontent.com/37091262/68419888-5307ee80-0158-11ea-93d5-1dddd621be10.png)\r\n\r\n\r\nThe velocity setpoints are not changing dramatically, so the attitude effort should not be there.\r\n![Selection_039](https://user-images.githubusercontent.com/37091262/68419561-b1809d00-0157-11ea-9cd0-991be8fbca65.png)\r\n\r\n@bresch @mhkabir @TSC21 \r\n\r\nRelated to #12389\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13415/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13415/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13413","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13413/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13413/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13413/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13413","id":519348859,"node_id":"MDU6SXNzdWU1MTkzNDg4NTk=","number":13413,"title":"FW: vehicle stays forever in takeoff mode if airspeed fails","user":{"login":"sfuhrer","id":26798987,"node_id":"MDQ6VXNlcjI2Nzk4OTg3","avatar_url":"https://avatars.githubusercontent.com/u/26798987?v=4","gravatar_id":"","url":"https://api.github.com/users/sfuhrer","html_url":"https://github.com/sfuhrer","followers_url":"https://api.github.com/users/sfuhrer/followers","following_url":"https://api.github.com/users/sfuhrer/following{/other_user}","gists_url":"https://api.github.com/users/sfuhrer/gists{/gist_id}","starred_url":"https://api.github.com/users/sfuhrer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfuhrer/subscriptions","organizations_url":"https://api.github.com/users/sfuhrer/orgs","repos_url":"https://api.github.com/users/sfuhrer/repos","events_url":"https://api.github.com/users/sfuhrer/events{/privacy}","received_events_url":"https://api.github.com/users/sfuhrer/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699916,"node_id":"MDU6TGFiZWw3ODY5OTkxNg==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Fixed%20Wing%20%F0%9F%9B%A9%EF%B8%8F","name":"Fixed Wing üõ©Ô∏è","color":"009800","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-11-07T15:46:32Z","updated_at":"2021-02-09T10:15:17Z","closed_at":"2021-02-09T10:15:17Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"If the airspeed is invalid (eg NAN) during FW mission takeoff (runway takeoff), the take off state is never exited. \r\n\r\n![image](https://user-images.githubusercontent.com/26798987/68403081-ad1aab00-017c-11ea-8368-b965edd717d8.png)\r\n\r\nhttps://review.px4.io/plot_app?log=ce5a3aee-13a2-4ee6-bd07-8e1f9b7a497a\r\n\r\nThis will btw also not be fixed with https://github.com/PX4/Firmware/pull/12887 and the default values (fallback to ground-windspeed would need to be enabled), and is part of the reason that the SITL CI fails for this PR till now).\r\n\r\nFYI @dagar @RomanBapst \r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13413/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13410","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13410/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13410/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13410/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13410","id":519298870,"node_id":"MDU6SXNzdWU1MTkyOTg4NzA=","number":13410,"title":"VTOL: UAVCAN for servo doesn't work","user":{"login":"GigaFlopsis","id":20755845,"node_id":"MDQ6VXNlcjIwNzU1ODQ1","avatar_url":"https://avatars.githubusercontent.com/u/20755845?v=4","gravatar_id":"","url":"https://api.github.com/users/GigaFlopsis","html_url":"https://github.com/GigaFlopsis","followers_url":"https://api.github.com/users/GigaFlopsis/followers","following_url":"https://api.github.com/users/GigaFlopsis/following{/other_user}","gists_url":"https://api.github.com/users/GigaFlopsis/gists{/gist_id}","starred_url":"https://api.github.com/users/GigaFlopsis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GigaFlopsis/subscriptions","organizations_url":"https://api.github.com/users/GigaFlopsis/orgs","repos_url":"https://api.github.com/users/GigaFlopsis/repos","events_url":"https://api.github.com/users/GigaFlopsis/events{/privacy}","received_events_url":"https://api.github.com/users/GigaFlopsis/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":581916348,"node_id":"MDU6TGFiZWw1ODE5MTYzNDg=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/uavcan","name":"uavcan","color":"2201AE","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-11-07T14:25:56Z","updated_at":"2020-03-26T07:23:49Z","closed_at":"2020-03-26T07:23:49Z","author_association":"NONE","active_lock_reason":null,"body":"At the moment, not full functionality of signal publishing for uavcan actuators is implemented.\r\nIn the UAVCAN mode, the signal output for the actuators does not work, the signal goes only to the motors of the MC mode.\r\n\r\nFor example I use:\r\n - fmu: px4 master  \r\n - type: Generic Quadplane VTOL type\r\nin UAVCAN I see\r\nFW mode \"cmd: [6440, 2942, 1, 7032, 6147, 4096]\"\r\nMC mode \"cmd: [6045, 1, 6191, 4177, 6147, 4095, 1, 1]\"\r\n\r\nAs you may have noticed only 6 out of  9 —Å—Ä—Ñ—Ç—É–¥—ã are sent to the bus.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13410/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13410/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13408","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13408/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13408/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13408/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13408","id":519182347,"node_id":"MDU6SXNzdWU1MTkxODIzNDc=","number":13408,"title":"Aircraft not automatically disarming while in Land flight mode","user":{"login":"Zaposa","id":43436677,"node_id":"MDQ6VXNlcjQzNDM2Njc3","avatar_url":"https://avatars.githubusercontent.com/u/43436677?v=4","gravatar_id":"","url":"https://api.github.com/users/Zaposa","html_url":"https://github.com/Zaposa","followers_url":"https://api.github.com/users/Zaposa/followers","following_url":"https://api.github.com/users/Zaposa/following{/other_user}","gists_url":"https://api.github.com/users/Zaposa/gists{/gist_id}","starred_url":"https://api.github.com/users/Zaposa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zaposa/subscriptions","organizations_url":"https://api.github.com/users/Zaposa/orgs","repos_url":"https://api.github.com/users/Zaposa/repos","events_url":"https://api.github.com/users/Zaposa/events{/privacy}","received_events_url":"https://api.github.com/users/Zaposa/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2019-11-07T10:38:38Z","updated_at":"2020-07-25T04:24:34Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nI'm having an issue where my hexacopter will not disarm once the aircraft has landed. The aircraft was flown in Position flight mode (or Stabilize flight mode) and then changed to Land flight mode. The aircraft is able to successfully descend and touch the ground successfully. However, instead of disarming, the motors speed up, which results in the aircraft wanting to tip over and crash.\r\n\r\nI have looked on the internet and I have found that it is important to get the hover throttle percentage correct as well as  the manual minimum throttle percentage. I have adjusted these values but still no success. I also changed the parameter (COM_DISARM_LAND) to 0.1 seconds, but still no success.\r\n\r\nI know that there isn‚Äôt an issue with the actual aircraft as I have managed to successfully perform a mission using APM firmware, where it was able to land and disarm safely.\r\n\r\nIs this possibly an issue with the firmware or does someone perhaps know a solution to this problem?\r\n\r\nP.S. I have disabled the arming switch (changed parameter CBRK_IO_SAFETY from 0 to 22027)\r\n \r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Disable arming switch\r\n2. Change flight mode to Position or Stabilize\r\n3. Arm & takeoff to an altitude between (5 - 10 metres)\r\n4. Switch flight mode to Land\r\n\r\n**Expected behavior**\r\nThe aircraft should land and disarm successfully and not want to tip over and crash.\r\n\r\n**Log Files and Screenshots**\r\nhttps://logs.px4.io/plot_app?log=bc0410c1-4285-4781-bf1b-b6ddee3b120d\r\n\r\n**Drone**\r\nDJI F550 Flame Wheel (hexacopter)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13408/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13402","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13402/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13402/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13402/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13402","id":518553766,"node_id":"MDExOlB1bGxSZXF1ZXN0MzM3NDI3NjA4","number":13402,"title":"sensors: ensure angular velocity publication on selected sensor update","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-11-06T15:40:53Z","updated_at":"2019-11-07T08:53:48Z","closed_at":"2019-11-07T08:53:45Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13402","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13402","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13402.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13402.patch","merged_at":"2019-11-07T08:53:45Z"},"body":"During `SensorCorrectionsUpdate()` each sensor message is copied to check the device id.\r\n\r\nhttps://github.com/PX4/Firmware/blob/02271a471d7cd202fae39af99f20956b650caca9/src/modules/sensors/vehicle_angular_velocity/VehicleAngularVelocity.cpp#L152\r\n\r\nThen back in `Run()` the update() fails because we've just copied the latest data.\r\n\r\nhttps://github.com/PX4/Firmware/blob/02271a471d7cd202fae39af99f20956b650caca9/src/modules/sensors/vehicle_angular_velocity/VehicleAngularVelocity.cpp#L219","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13402/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13402/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13393","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13393/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13393/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13393/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13393","id":517836415,"node_id":"MDExOlB1bGxSZXF1ZXN0MzM2ODI5NzIz","number":13393,"title":"ADIS IMU drivers cleanup and standardize main","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":803319897,"node_id":"MDU6TGFiZWw4MDMzMTk4OTc=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/cleanup%20(housekeeping)%20%F0%9F%A7%B9","name":"cleanup (housekeeping) üßπ","color":"aefcbd","default":false,"description":""},{"id":1442874742,"node_id":"MDU6TGFiZWwxNDQyODc0NzQy","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Drivers%20%F0%9F%94%A7","name":"Drivers üîß","color":"5d3ebc","default":false,"description":"Sensors, Actuators, etc"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-11-05T15:15:24Z","updated_at":"2019-11-05T16:59:07Z","closed_at":"2019-11-05T16:58:45Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13393","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13393","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13393.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13393.patch","merged_at":"2019-11-05T16:58:45Z"},"body":"This fixes a few minor issues in the frontends of these drivers and makes them consistent.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13393/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13388","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13388/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13388/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13388/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13388","id":517685573,"node_id":"MDU6SXNzdWU1MTc2ODU1NzM=","number":13388,"title":"Land detection not working in descend/land mode","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-11-05T10:31:32Z","updated_at":"2019-11-05T13:35:39Z","closed_at":"2019-11-05T13:35:39Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"There have been logs and remarks that the land detection has been broken recently in master (e.g. 4ff4f5c77f):\r\n\r\nhttps://github.com/PX4/Firmware/pull/13294#issuecomment-549458739\r\nhttps://github.com/PX4/Firmware/pull/13321#issuecomment-549264477\r\n\r\nFYI @MaEtUgR @bresch \r\n\r\nMight be related to #13231.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13388/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13381","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13381/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13381/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13381/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13381","id":517330205,"node_id":"MDExOlB1bGxSZXF1ZXN0MzM2NDIwMTU3","number":13381,"title":"Fix thrust cut when landed","user":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""},{"id":174161208,"node_id":"MDU6TGFiZWwxNzQxNjEyMDg=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/priority-critical","name":"priority-critical","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2019-11-04T18:37:49Z","updated_at":"2019-11-07T09:39:19Z","closed_at":"2019-11-05T12:05:19Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13381","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13381","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13381.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13381.patch","merged_at":"2019-11-05T12:05:19Z"},"body":"**Describe problem solved by this pull request**\r\nLand detector issues became more frequent and thanks a lot to @RomanBapst for finding the following problems:\r\n1. cutting the thrust when landing is broken and reported\r\n1. the attitude setpoint plots generated from the log are incomplete even though the topic is published\r\n\r\n**Describe your solution**\r\n1. I realized I did a mistake in https://github.com/PX4/Firmware/pull/13262/files#diff-fc77c3ef569029d45764664c75d4b0c1R688 and fix it in the first commit of this pr.\r\n   Commit message:\r\n   ```\r\n   The problem was that before the input to the attitude setpoint generation\r\n   was adjusted to generate a level attitude with zero thrust keeping the\r\n   heading. I refactored the PositionControl class in #13262 to directly\r\n   generate the attitude setpoint output. So here I'm adjusting the attitude\r\n   setpoint to do the exact same thing as before but without interleaving\r\n   with the PositionControl logic.\r\n   ```\r\n1. I realized (thanks to @bkueng's input) that I did a mistake in https://github.com/PX4/Firmware/pull/13262/files#diff-fc77c3ef569029d45764664c75d4b0c1R692-R693 and fix it in the second commit of this pr.\r\n   Commit message:\r\n   ```\r\n   The plot of the attitude setpoint in the log did not show any values\r\n   because the message timestamp that the position control module sets\r\n   was overwritten by the PositionControl attitude generation.\r\n   ```\r\n\r\n**Test data / coverage**\r\nSITL tested with very close attention to the logged values of thrust cutting and attitude setpoint when landing with an odd heading.\r\n\r\n**Additional context**\r\nFYI @nicovanduijn \r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13381/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13378","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13378/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13378/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13378/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13378","id":517228516,"node_id":"MDU6SXNzdWU1MTcyMjg1MTY=","number":13378,"title":"FMUK66 - compass calibration inconsistent error","user":{"login":"igalloway","id":10509054,"node_id":"MDQ6VXNlcjEwNTA5MDU0","avatar_url":"https://avatars.githubusercontent.com/u/10509054?v=4","gravatar_id":"","url":"https://api.github.com/users/igalloway","html_url":"https://github.com/igalloway","followers_url":"https://api.github.com/users/igalloway/followers","following_url":"https://api.github.com/users/igalloway/following{/other_user}","gists_url":"https://api.github.com/users/igalloway/gists{/gist_id}","starred_url":"https://api.github.com/users/igalloway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/igalloway/subscriptions","organizations_url":"https://api.github.com/users/igalloway/orgs","repos_url":"https://api.github.com/users/igalloway/repos","events_url":"https://api.github.com/users/igalloway/events{/privacy}","received_events_url":"https://api.github.com/users/igalloway/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1366212567,"node_id":"MDU6TGFiZWwxMzY2MjEyNTY3","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/nxp-hovergames","name":"nxp-hovergames","color":"8ee2ff","default":false,"description":"NXP HoverGames drone coding competition"},{"id":1442874742,"node_id":"MDU6TGFiZWwxNDQyODc0NzQy","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Drivers%20%F0%9F%94%A7","name":"Drivers üîß","color":"5d3ebc","default":false,"description":"Sensors, Actuators, etc"},{"id":1575732465,"node_id":"MDU6TGFiZWwxNTc1NzMyNDY1","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/processor:%20nxp-rddrone-fmuk66","name":"processor: nxp-rddrone-fmuk66","color":"006b75","default":false,"description":"NXP HoverGames FMU w/K66 processor"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-11-04T15:31:17Z","updated_at":"2020-05-20T07:02:49Z","closed_at":"2020-05-20T07:02:49Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nThis issue was reported directly, i'm cc'ing here. \r\n\r\n> \"Thanks for your great work, i got everything work of my RDDRONE-FMUK66 but not the Compass.\r\n> \r\n> Missionplanner shows \"bad compass health\" and all compass settings are unavailable.\r\n> QGroundControl shows \"compass calibration inconsistent\". \r\n> \r\n> FMUK66, holybro pixhawk4 m8n gps.\r\n>  \r\n> Compass calibration worked in QGroundcontrol but no effect, still \"compass calibration error\".\r\n> P.s.: No Loiter or nogps flightmodes selectable. \r\n>  \r\n> i was searching through a lot communities, without success.\"\r\n\r\n**Additional context**\r\nThe Compass inconsistent problem was introduced maybe 6 months ago. I believe many users disabled their second onboard compass as a result.\r\nIt is not clear to me if this issue is considered resolved now or not.\r\n\r\nIn any case - how can we best get useful data to understand this \"compass calibration inconsistent\" message? What should i ask the user to do or to report?\r\nThanks\r\n-iain\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13378/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13377","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13377/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13377/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13377/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13377","id":517185966,"node_id":"MDU6SXNzdWU1MTcxODU5NjY=","number":13377,"title":"[SITL] Headless Gazebo simulation broken","user":{"login":"ThomasRigi","id":48206725,"node_id":"MDQ6VXNlcjQ4MjA2NzI1","avatar_url":"https://avatars.githubusercontent.com/u/48206725?v=4","gravatar_id":"","url":"https://api.github.com/users/ThomasRigi","html_url":"https://github.com/ThomasRigi","followers_url":"https://api.github.com/users/ThomasRigi/followers","following_url":"https://api.github.com/users/ThomasRigi/following{/other_user}","gists_url":"https://api.github.com/users/ThomasRigi/gists{/gist_id}","starred_url":"https://api.github.com/users/ThomasRigi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThomasRigi/subscriptions","organizations_url":"https://api.github.com/users/ThomasRigi/orgs","repos_url":"https://api.github.com/users/ThomasRigi/repos","events_url":"https://api.github.com/users/ThomasRigi/events{/privacy}","received_events_url":"https://api.github.com/users/ThomasRigi/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":289821422,"node_id":"MDU6TGFiZWwyODk4MjE0MjI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/sitl","name":"sitl","color":"bfd4f2","default":false,"description":"software in the loop simulation"}],"state":"closed","locked":false,"assignee":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"assignees":[{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false}],"milestone":null,"comments":2,"created_at":"2019-11-04T14:24:40Z","updated_at":"2019-11-05T14:33:16Z","closed_at":"2019-11-05T14:33:16Z","author_association":"MEMBER","active_lock_reason":null,"body":"**Describe the bug**\r\nRunning Gazebo in headless mode works only once per PC start. After that, the following error occurs:\r\n```\r\n[Err] [gazebo_mavlink_interface.cpp:1155] poll timeout\r\nTrying to exit with Ctrl-C throws:\r\n^CERROR [px4] Startup script returned with return value: 2\r\n```\r\nProblem is observed on v1.10.0-beta4 and current master. I'm on Ubuntu 18.04, @dogmaphobic experienced the same issue on macOS and @RicardoM17 encountered it too.\r\n\r\nRunning Gazebo with GUI still works, also after experiencing the error with headless mode.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Start any Gazebo SITL simulation in headless mode, e.g. `HEADLESS=1 make px4_sitl gazebo_standard_vtol`. At the latest after the second time running the command the error appears.\r\n2. See error\r\n\r\n**Expected behavior**\r\nNo error\r\n\r\n**Log Files and Screenshots**\r\nComplete console output:\r\n\r\n```\r\n(base) thomas@thomas-N56VZ:~/src/Firmware$ HEADLESS=1 make px4_sitl gazebo_standard_vtol\r\n[0/4] Performing build step for 'sitl_gazebo'\r\nninja: no work to do.\r\n[3/4] cd /home/thomas/src/Firmware/bui...as/src/Firmware/build/px4_sitl_default\r\nSITL ARGS\r\nsitl_bin: /home/thomas/src/Firmware/build/px4_sitl_default/bin/px4\r\ndebugger: none\r\nprogram: gazebo\r\nmodel: standard_vtol\r\nsrc_path: /home/thomas/src/Firmware\r\nbuild_path: /home/thomas/src/Firmware/build/px4_sitl_default\r\nGAZEBO_PLUGIN_PATH :/home/thomas/Master_Thesis/PdM_Firmware/build/px4_sitl_default/build_gazebo:/home/thomas/src/Firmware/build/px4_sitl_default/build_gazebo\r\nGAZEBO_MODEL_PATH :/home/thomas/Master_Thesis/PdM_Firmware/Tools/sitl_gazebo/models:/home/thomas/src/Firmware/Tools/sitl_gazebo/models\r\nLD_LIBRARY_PATH :/home/thomas/Master_Thesis/PdM_Firmware/build/px4_sitl_default/build_gazebo:/home/thomas/src/Firmware/build/px4_sitl_default/build_gazebo\r\nnot running gazebo gui\r\nSITL COMMAND: \"/home/thomas/src/Firmware/build/px4_sitl_default/bin/px4\" \"/home/thomas/src/Firmware\"/ROMFS/px4fmu_common -s etc/init.d-posix/rcS -t \"/home/thomas/src/Firmware\"/test_data\r\nINFO  [px4] Creating symlink /home/thomas/src/Firmware/ROMFS/px4fmu_common -> /home/thomas/src/Firmware/build/px4_sitl_default/tmp/rootfs/etc\r\n0 WARNING: setRealtimeSched failed (not run as root?)\r\n\r\n______  __   __    ___ \r\n| ___ \\ \\ \\ / /   /   |\r\n| |_/ /  \\ V /   / /| |\r\n|  __/   /   \\  / /_| |\r\n| |     / /^\\ \\ \\___  |\r\n\\_|     \\/   \\/     |_/\r\n\r\npx4 starting.\r\n\r\nINFO  [px4] Calling startup script: /bin/sh etc/init.d-posix/rcS 0\r\n  SYS_AUTOSTART: curr: 0 -> new: 1040\r\n  BAT_N_CELLS: curr: 0 -> new: 3\r\n  CAL_ACC0_ID: curr: 0 -> new: 1311244\r\n  CAL_ACC_PRIME: curr: 0 -> new: 1311244\r\n  CAL_GYRO0_ID: curr: 0 -> new: 2294028\r\n  CAL_GYRO_PRIME: curr: 0 -> new: 2294028\r\n  CAL_MAG0_ID: curr: 0 -> new: 197388\r\n  CAL_MAG_PRIME: curr: 0 -> new: 197388\r\n  CAL_BARO_PRIME: curr: 0 -> new: 6620172\r\n  COM_DISARM_LAND: curr: 2.0000 -> new: 0.1000\r\n  COM_OBL_ACT: curr: 0 -> new: 2\r\n  COM_OF_LOSS_T: curr: 0.0000 -> new: 5.0000\r\n  COM_RC_IN_MODE: curr: 0 -> new: 1\r\n  EKF2_ANGERR_INIT: curr: 0.1000 -> new: 0.0100\r\n  EKF2_GBIAS_INIT: curr: 0.1000 -> new: 0.0100\r\n  EKF2_REQ_GPS_H: curr: 10.0000 -> new: 0.5000\r\n  MC_PITCH_P: curr: 6.5000 -> new: 6.0000\r\n  MC_PITCHRATE_P: curr: 0.1500 -> new: 0.2000\r\n  MC_ROLL_P: curr: 6.5000 -> new: 6.0000\r\n  MC_ROLLRATE_P: curr: 0.1500 -> new: 0.2000\r\n  MPC_HOLD_MAX_Z: curr: 0.6000 -> new: 2.0000\r\n  MPC_Z_VEL_I: curr: 0.1000 -> new: 0.1500\r\n  MPC_Z_VEL_P: curr: 0.2000 -> new: 0.6000\r\n  MPC_XY_P: curr: 0.9500 -> new: 0.8000\r\n  MPC_XY_VEL_P: curr: 0.0900 -> new: 0.2000\r\n  MPC_XY_VEL_D: curr: 0.0100 -> new: 0.0160\r\n  MPC_JERK_MIN: curr: 8.0000 -> new: 10.0000\r\n  MPC_ACC_HOR_MAX: curr: 5.0000 -> new: 3.0000\r\n  NAV_ACC_RAD: curr: 10.0000 -> new: 2.0000\r\n  NAV_DLL_ACT: curr: 0 -> new: 2\r\n  RTL_DESCEND_ALT: curr: 30.0000 -> new: 5.0000\r\n  RTL_LAND_DELAY: curr: -1.0000 -> new: 5.0000\r\n  RTL_RETURN_ALT: curr: 60.0000 -> new: 30.0000\r\n  SDLOG_MODE: curr: 0 -> new: 1\r\n  SDLOG_PROFILE: curr: 3 -> new: 131\r\n  SDLOG_DIRS_MAX: curr: 0 -> new: 7\r\n  SENS_BOARD_X_OFF: curr: 0.0000 -> new: 0.0000\r\n  SENS_DPRES_OFF: curr: 0.0000 -> new: 0.0010\r\n  TRIG_INTERFACE: curr: 4 -> new: 3\r\n  IMU_GYRO_RATEMAX: curr: 0 -> new: 400\r\n  MIS_TAKEOFF_ALT: curr: 2.5000 -> new: 20.0000\r\n  MIS_YAW_TMT: curr: -1.0000 -> new: 10.0000\r\n* MPC_ACC_HOR_MAX: curr: 3.0000 -> new: 2.0000\r\n  MPC_TKO_SPEED: curr: 1.5000 -> new: 1.0000\r\n  MPC_VEL_MANUAL: curr: 10.0000 -> new: 3.0000\r\n  MPC_XY_CRUISE: curr: 5.0000 -> new: 3.0000\r\n  MPC_XY_VEL_MAX: curr: 12.0000 -> new: 4.0000\r\n  MPC_Z_VEL_MAX_DN: curr: 1.0000 -> new: 1.5000\r\n* NAV_ACC_RAD: curr: 2.0000 -> new: 3.0000\r\n* RTL_LAND_DELAY: curr: 5.0000 -> new: 0.0000\r\n  RTL_TYPE: curr: 0 -> new: 1\r\n  WV_EN: curr: 0 -> new: 1\r\n  FW_AIRSPD_MAX: curr: 20.0000 -> new: 25.0000\r\n  FW_AIRSPD_MIN: curr: 10.0000 -> new: 14.0000\r\n  FW_AIRSPD_TRIM: curr: 15.0000 -> new: 16.0000\r\n* MC_ROLLRATE_P: curr: 0.2000 -> new: 0.3000\r\n  MIS_LTRMIN_ALT: curr: -1.0000 -> new: 10.0000\r\n* MIS_TAKEOFF_ALT: curr: 20.0000 -> new: 10.0000\r\n  MPC_THR_MIN: curr: 0.1200 -> new: 0.1000\r\n* MPC_XY_VEL_D: curr: 0.0160 -> new: 0.0050\r\n  MPC_XY_VEL_I: curr: 0.0200 -> new: 0.2000\r\n* MPC_XY_VEL_P: curr: 0.2000 -> new: 0.1500\r\n* NAV_ACC_RAD: curr: 3.0000 -> new: 5.0000\r\n  NAV_LOITER_RAD: curr: 50.0000 -> new: 80.0000\r\n  VT_F_TRANS_THR: curr: 1.0000 -> new: 0.7500\r\n  VT_ARSP_TRANS: curr: 10.0000 -> new: 16.0000\r\n  VT_MOT_ID: curr: 0 -> new: 1234\r\n  VT_FW_MOT_OFFID: curr: 0 -> new: 1234\r\nGazebo multi-robot simulator, version 9.11.0\r\nCopyright (C) 2012 Open Source Robotics Foundation.\r\nReleased under the Apache 2 License.\r\nhttp://gazebosim.org\r\n\r\n  VT_TYPE: curr: 0 -> new: 2\r\n[Msg] Waiting for master.\r\n[Msg] Connected to gazebo master @ http://127.0.0.1:11345\r\n[Msg] Publicized address: 192.168.178.77\r\nINFO  [dataman] Unknown restart, data manager file './dataman' size is 11798680 bytes\r\nINFO  [simulator] Waiting for simulator to connect on TCP port 4560\r\n[Wrn] [gazebo_barometer_plugin.cpp:66] [gazebo_barometer_plugin] Using default home altitude of 488 m\r\n[Dbg] [gazebo_mavlink_interface.cpp:129] joint [rotor_0_joint] found for channel[0] joint control active for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:129] joint [rotor_1_joint] found for channel[1] joint control active for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:129] joint [rotor_2_joint] found for channel[2] joint control active for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:129] joint [rotor_3_joint] found for channel[3] joint control active for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:129] joint [rotor_puller_joint] found for channel[4] joint control active for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:129] joint [left_elevon_joint] found for channel[5] joint control active for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:129] joint [right_elevon_joint] found for channel[6] joint control active for this channel.\r\n[Dbg] [gazebo_mavlink_interface.cpp:129] joint [elevator_joint] found for channel[7] joint control active for this channel.\r\n[Msg] Connecting to PX4 SITL using TCP\r\n[Msg] Lockstep is enabled\r\n[Msg] Speed factor set to: 1\r\nINFO  [simulator] Simulator connected on TCP port 4560.\r\n[Msg] Using MAVLink protocol v2.0\r\n  MAV_TYPE: curr: 2 -> new: 22\r\nINFO  [init] Mixer: etc/mixers-sitl/standard_vtol_sitl.main.mix on /dev/pwm_output0\r\n[Err] [gazebo_mavlink_interface.cpp:1155] poll timeout\r\n[Err] [gazebo_mavlink_interface.cpp:1155] poll timeout\r\n^CERROR [px4] Startup script returned with return value: 2\r\npxh> \r\n```\r\n\r\n**Additional context**\r\nAdd any other context about the problem here.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13377/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13376","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13376/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13376/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13376/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13376","id":517157019,"node_id":"MDU6SXNzdWU1MTcxNTcwMTk=","number":13376,"title":"Arbitrary vertical velocity update takeoff threshold used for offboard mode","user":{"login":"M-J-Murray","id":13166228,"node_id":"MDQ6VXNlcjEzMTY2MjI4","avatar_url":"https://avatars.githubusercontent.com/u/13166228?v=4","gravatar_id":"","url":"https://api.github.com/users/M-J-Murray","html_url":"https://github.com/M-J-Murray","followers_url":"https://api.github.com/users/M-J-Murray/followers","following_url":"https://api.github.com/users/M-J-Murray/following{/other_user}","gists_url":"https://api.github.com/users/M-J-Murray/gists{/gist_id}","starred_url":"https://api.github.com/users/M-J-Murray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/M-J-Murray/subscriptions","organizations_url":"https://api.github.com/users/M-J-Murray/orgs","repos_url":"https://api.github.com/users/M-J-Murray/repos","events_url":"https://api.github.com/users/M-J-Murray/events{/privacy}","received_events_url":"https://api.github.com/users/M-J-Murray/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1442618266,"node_id":"MDU6TGFiZWwxNDQyNjE4MjY2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Offboard","name":"Offboard","color":"d8954e","default":false,"description":"Offboard mode control"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-11-04T13:36:18Z","updated_at":"2020-05-06T02:11:51Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"body":"When flying a drone in offboard mode, the drone will not take off unless it receives a vertical velocity less than -0.3 m/s. I first thought it was being caused by the EKF accuracy, however after digging through the code it seems the \"FlightTask.cpp\" file specifies at line 195 that:\r\n```\r\nvelocity_triggered_takeoff = _velocity_setpoint(2) < -0.3f;\r\n```\r\nThis arbitrary constant of \"-0.3\" should be a configurable parameter.\r\nWhat this means is that if you are attempting to send constant velocity updates in offboard mode, your first velocity has to be less than \"-0.3\", otherwise your drone will just sit there. And in most cases if you are regulating the drones acceleration, then drone will not take off, as the velocity updates will be too small.\r\n\r\nThe current work around is to just set your initial velocity beyond the threshold, and then go back to your normal velocity updates.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13376/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13374","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13374/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13374/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13374/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13374","id":517085095,"node_id":"MDU6SXNzdWU1MTcwODUwOTU=","number":13374,"title":"Overshoot on waypoints which should be stopped at, when using smoothing","user":{"login":"jkflying","id":1746276,"node_id":"MDQ6VXNlcjE3NDYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1746276?v=4","gravatar_id":"","url":"https://api.github.com/users/jkflying","html_url":"https://github.com/jkflying","followers_url":"https://api.github.com/users/jkflying/followers","following_url":"https://api.github.com/users/jkflying/following{/other_user}","gists_url":"https://api.github.com/users/jkflying/gists{/gist_id}","starred_url":"https://api.github.com/users/jkflying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkflying/subscriptions","organizations_url":"https://api.github.com/users/jkflying/orgs","repos_url":"https://api.github.com/users/jkflying/repos","events_url":"https://api.github.com/users/jkflying/events{/privacy}","received_events_url":"https://api.github.com/users/jkflying/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"jkflying","id":1746276,"node_id":"MDQ6VXNlcjE3NDYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1746276?v=4","gravatar_id":"","url":"https://api.github.com/users/jkflying","html_url":"https://github.com/jkflying","followers_url":"https://api.github.com/users/jkflying/followers","following_url":"https://api.github.com/users/jkflying/following{/other_user}","gists_url":"https://api.github.com/users/jkflying/gists{/gist_id}","starred_url":"https://api.github.com/users/jkflying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkflying/subscriptions","organizations_url":"https://api.github.com/users/jkflying/orgs","repos_url":"https://api.github.com/users/jkflying/repos","events_url":"https://api.github.com/users/jkflying/events{/privacy}","received_events_url":"https://api.github.com/users/jkflying/received_events","type":"User","site_admin":false},"assignees":[{"login":"jkflying","id":1746276,"node_id":"MDQ6VXNlcjE3NDYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/1746276?v=4","gravatar_id":"","url":"https://api.github.com/users/jkflying","html_url":"https://github.com/jkflying","followers_url":"https://api.github.com/users/jkflying/followers","following_url":"https://api.github.com/users/jkflying/following{/other_user}","gists_url":"https://api.github.com/users/jkflying/gists{/gist_id}","starred_url":"https://api.github.com/users/jkflying/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jkflying/subscriptions","organizations_url":"https://api.github.com/users/jkflying/orgs","repos_url":"https://api.github.com/users/jkflying/repos","events_url":"https://api.github.com/users/jkflying/events{/privacy}","received_events_url":"https://api.github.com/users/jkflying/received_events","type":"User","site_admin":false},{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/32","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32/labels","id":4728829,"node_id":"MDk6TWlsZXN0b25lNDcyODgyOQ==","number":32,"title":"Release v1.11.0","description":"","creator":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"open_issues":7,"closed_issues":167,"state":"open","created_at":"2019-10-07T16:06:51Z","updated_at":"2023-04-11T12:29:40Z","due_on":"2020-04-01T07:00:00Z","closed_at":null},"comments":1,"created_at":"2019-11-04T11:14:21Z","updated_at":"2019-11-05T13:57:32Z","closed_at":"2019-11-05T13:57:31Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nCurrently, AutoLineSmoothVel is not aware if a waypoint should be stopped at, or if it should be continued 'through'. Thus, if Navigator does not update the waypoint to the next waypoint when AutoLineSmoothVel could have maintained speed through the waypoint, AutoLineSmoothVel will overshoot the waypoint since it will arrive at a speed to go through, rather than stop.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Make a mission with several waypoints in a straight line, spaced apart.\r\n2. Have a 'hold' specified at one of the middle waypoints for several seconds.\r\n\r\n**Expected behavior**\r\nThe vehicle should smoothly stop at the middle waypoint specified. Instead, it will overshoot this waypoint by arriving too fast, then have to backtrack back to the waypoint.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13374/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13358","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13358/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13358/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13358/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13358","id":516602949,"node_id":"MDExOlB1bGxSZXF1ZXN0MzM1ODM5MjYy","number":13358,"title":"SITL MacOs bugfix","user":{"login":"FlavioTonelli","id":9391950,"node_id":"MDQ6VXNlcjkzOTE5NTA=","avatar_url":"https://avatars.githubusercontent.com/u/9391950?v=4","gravatar_id":"","url":"https://api.github.com/users/FlavioTonelli","html_url":"https://github.com/FlavioTonelli","followers_url":"https://api.github.com/users/FlavioTonelli/followers","following_url":"https://api.github.com/users/FlavioTonelli/following{/other_user}","gists_url":"https://api.github.com/users/FlavioTonelli/gists{/gist_id}","starred_url":"https://api.github.com/users/FlavioTonelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FlavioTonelli/subscriptions","organizations_url":"https://api.github.com/users/FlavioTonelli/orgs","repos_url":"https://api.github.com/users/FlavioTonelli/repos","events_url":"https://api.github.com/users/FlavioTonelli/events{/privacy}","received_events_url":"https://api.github.com/users/FlavioTonelli/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-11-02T14:00:27Z","updated_at":"2019-11-03T14:04:45Z","closed_at":"2019-11-03T14:04:04Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13358","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13358","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13358.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13358.patch","merged_at":"2019-11-03T14:04:04Z"},"body":"Px4 work queue fails to set stack size when running on MacOs system.\r\nReproducing the bug is as simple as running jmavsim. The console always output the set of errors shown in the below picture\r\n<img width=\"626\" alt=\"Schermata 2019-11-02 alle 14 04 54\" src=\"https://user-images.githubusercontent.com/9391950/68071910-d48a0600-fd7f-11e9-9451-6d2c5dee5dec.png\">\r\nThis apparently happens because the function pthread_attr_setstacksize() fails when the stacksize is not a multiple of the system page size.\r\n\r\nThe proposed solution does round up the stack size to the nearest multiplier when the firmware runs on an posix system.\r\nI tested the solution on my macOS system and here are the results of the rounding operation\r\n\r\n> name:wq:hp_default , stacksize: 14264 , rounded: 16384\r\nname:wq:att_pos_ctrl , stacksize: 24464 , rounded: 24576\r\nname:wq:rate_ctrl , stacksize: 14464 , rounded: 16384\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13358/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13352","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13352/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13352/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13352/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13352","id":516116753,"node_id":"MDU6SXNzdWU1MTYxMTY3NTM=","number":13352,"title":"Hard-fault produced when GPS is driver is started in-flight","user":{"login":"nicovanduijn","id":14265408,"node_id":"MDQ6VXNlcjE0MjY1NDA4","avatar_url":"https://avatars.githubusercontent.com/u/14265408?v=4","gravatar_id":"","url":"https://api.github.com/users/nicovanduijn","html_url":"https://github.com/nicovanduijn","followers_url":"https://api.github.com/users/nicovanduijn/followers","following_url":"https://api.github.com/users/nicovanduijn/following{/other_user}","gists_url":"https://api.github.com/users/nicovanduijn/gists{/gist_id}","starred_url":"https://api.github.com/users/nicovanduijn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicovanduijn/subscriptions","organizations_url":"https://api.github.com/users/nicovanduijn/orgs","repos_url":"https://api.github.com/users/nicovanduijn/repos","events_url":"https://api.github.com/users/nicovanduijn/events{/privacy}","received_events_url":"https://api.github.com/users/nicovanduijn/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1442874742,"node_id":"MDU6TGFiZWwxNDQyODc0NzQy","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Drivers%20%F0%9F%94%A7","name":"Drivers üîß","color":"5d3ebc","default":false,"description":"Sensors, Actuators, etc"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-11-01T13:36:50Z","updated_at":"2020-12-02T06:35:05Z","closed_at":"2020-12-02T06:35:05Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nThis may not be a regular use-case, but while testing to reproduce #13350, I had a bad crash, which turns out was a hard-fault.\r\n\r\n**Steps taken**\r\nSteps to reproduce the behavior:\r\n1. Drone with optical flow (pmw3901), GPS actively used. Commanded via MAVLink\r\n2. Stopped the GPS driver\r\n3. Take-off\r\n4. `gps start -b 115200`\r\n5. BOOM\r\n\r\n**Elaboration**\r\nI mention that the vehicle was commanded via MAVLink because I did the exact same test again immediately afterwards, with the only difference that I was using an RC and it did not hard-fault. I was scared to attempt to reproduce... Joysticks don't let you map a kill switch!\r\n\r\n**Log Files and Screenshots**\r\n[Log](https://review.px4.io/plot_app?log=b3af87ef-bc79-4795-be5e-6c99e36557a9)\r\n[Hard-fault file](https://drive.google.com/file/d/1IxdO0bjZCKV5n7AkUgmThaM9rMiLva93/view?usp=sharing)\r\n[ELF file](https://drive.google.com/file/d/1P0VStSh6af39KoXZ0IefE6NJOosAE7jF/view?usp=sharing)","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13352/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13334","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13334/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13334/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13334/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13334","id":515551966,"node_id":"MDU6SXNzdWU1MTU1NTE5NjY=","number":13334,"title":"SITL tests safe landing intermittent failure","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null},{"id":1598294845,"node_id":"MDU6TGFiZWwxNTk4Mjk0ODQ1","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/CI%20%F0%9F%A4%96","name":"CI ü§ñ","color":"3b0dc4","default":false,"description":"Continuous Integration"}],"state":"closed","locked":false,"assignee":{"login":"TSC21","id":5048656,"node_id":"MDQ6VXNlcjUwNDg2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5048656?v=4","gravatar_id":"","url":"https://api.github.com/users/TSC21","html_url":"https://github.com/TSC21","followers_url":"https://api.github.com/users/TSC21/followers","following_url":"https://api.github.com/users/TSC21/following{/other_user}","gists_url":"https://api.github.com/users/TSC21/gists{/gist_id}","starred_url":"https://api.github.com/users/TSC21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TSC21/subscriptions","organizations_url":"https://api.github.com/users/TSC21/orgs","repos_url":"https://api.github.com/users/TSC21/repos","events_url":"https://api.github.com/users/TSC21/events{/privacy}","received_events_url":"https://api.github.com/users/TSC21/received_events","type":"User","site_admin":false},"assignees":[{"login":"TSC21","id":5048656,"node_id":"MDQ6VXNlcjUwNDg2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5048656?v=4","gravatar_id":"","url":"https://api.github.com/users/TSC21","html_url":"https://github.com/TSC21","followers_url":"https://api.github.com/users/TSC21/followers","following_url":"https://api.github.com/users/TSC21/following{/other_user}","gists_url":"https://api.github.com/users/TSC21/gists{/gist_id}","starred_url":"https://api.github.com/users/TSC21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TSC21/subscriptions","organizations_url":"https://api.github.com/users/TSC21/orgs","repos_url":"https://api.github.com/users/TSC21/repos","events_url":"https://api.github.com/users/TSC21/events{/privacy}","received_events_url":"https://api.github.com/users/TSC21/received_events","type":"User","site_admin":false},{"login":"mrivi","id":15078736,"node_id":"MDQ6VXNlcjE1MDc4NzM2","avatar_url":"https://avatars.githubusercontent.com/u/15078736?v=4","gravatar_id":"","url":"https://api.github.com/users/mrivi","html_url":"https://github.com/mrivi","followers_url":"https://api.github.com/users/mrivi/followers","following_url":"https://api.github.com/users/mrivi/following{/other_user}","gists_url":"https://api.github.com/users/mrivi/gists{/gist_id}","starred_url":"https://api.github.com/users/mrivi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mrivi/subscriptions","organizations_url":"https://api.github.com/users/mrivi/orgs","repos_url":"https://api.github.com/users/mrivi/repos","events_url":"https://api.github.com/users/mrivi/events{/privacy}","received_events_url":"https://api.github.com/users/mrivi/received_events","type":"User","site_admin":false}],"milestone":null,"comments":16,"created_at":"2019-10-31T16:01:20Z","updated_at":"2020-06-02T09:38:54Z","closed_at":"2020-06-02T09:38:54Z","author_association":"MEMBER","active_lock_reason":null,"body":" - http://ci.px4.io:8080/blue/organizations/jenkins/PX4_misc%2FFirmware-SITL_tests_ASan/detail/master/878/pipeline\r\n\r\n![image](https://user-images.githubusercontent.com/84712/67964165-3149bd00-fbd6-11e9-9aa1-663f6250572d.png)\r\n\r\n\r\n\r\nI'll add more examples and output as these appear.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13334/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13329","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13329/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13329/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13329/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13329","id":515304050,"node_id":"MDU6SXNzdWU1MTUzMDQwNTA=","number":13329,"title":"CUAV GPS V5 mag not detected","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1442874742,"node_id":"MDU6TGFiZWwxNDQyODc0NzQy","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Drivers%20%F0%9F%94%A7","name":"Drivers üîß","color":"5d3ebc","default":false,"description":"Sensors, Actuators, etc"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":19,"created_at":"2019-10-31T10:01:36Z","updated_at":"2020-02-04T14:44:30Z","closed_at":"2020-02-04T14:44:30Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nThe CUAV GPS V5 magnetometer connected to a Drotek Pixhawk 3 Pro or a Pixracer does not seem to get detected.\r\n\r\n**To Reproduce**\r\n1. Connect GPS/mag to a Pixracer.\r\n2. Check `listener sensor_mag` to check if the device shows up.\r\n\r\n**Log Files and Screenshots**\r\n\r\n```\r\n[boot] Fault Log info File No 4 Length 3177 flags:0x01 state:1\r\n[boot] Fault Log is Armed\r\nsercon: Registering CDC/ACM serial driver\r\nsercon: Successfully registered the CDC/ACM serial driver\r\nHW arch: PX4_FMU_V4\r\nFW git-hash: a6a88774637c745ee069c6482a79b7d4b3cc8b12\r\nFW version: 1.10.0 80 (17432704)\r\nFW git-branch: master\r\nOS: NuttX\r\nOS version: Release 7.29.0 (119341311)\r\nOS git-hash: d8da511082646d83a54c6905daca13f0a1a609f0\r\nBuild datetime: Oct 31 2019 10:59:45\r\nBuild uri: localhost\r\nToolchain: GNU GCC, 7.2.1 20170904 (release) [ARM/embedded-7-branch revision 255204]\r\nPX4GUID: 000100000000303833363335510d00300041\r\nMCU: STM32F42x, rev. 3\r\nnsh: mount: mount failed: No such device\r\nnsh: mkfatfs: mkfatfs failed: No such device\r\nINFO  [param] selected parameter default file /fs/mtd_params\r\nINFO  [tune_control] Publishing standard tune 16\r\nBoard defaults: /etc/init.d/rc.board_defaults\r\nWARN  [safety_button] disabled by CBRK_IO_SAFETY, exiting\r\nERROR [safety_button] Task start failed (-1)\r\nWARN  [dataman] Could not open data manager file /fs/microsd/dataman\r\nERROR [dataman] dataman start failed\r\nWARN  [rgbled] no RGB led on bus #1\r\nWARN  [rgbled_ncp5623c] no RGB led on bus #1\r\nnsh: rgbled_pwm: command not found\r\nBoard sensors: /etc/init.d/rc.board_sensors\r\nreset done, 50 ms\r\nWARN  [hmc5883] no device on bus 1 (type: 2)\r\nWARN  [lis3mdl] no device on bus 2\r\nINFO  [ist8310] no device on bus 1\r\nBMP280_I2C on I2C bus 1 at 0x76 (bus: 100 KHz, max: 100 KHz)\r\nWARN  [bmp280] id of your baro is not: 0x58\r\nWARN  [bmp280] bus option number is 2\r\nERROR [bmp280] driver start failed\r\nWARN  [qmc5883] no device on bus 1 (type: 2)\r\nBMM150 on I2C bus 1 at 0x10 (bus: 100 KHz, max: 100 KHz)\r\nWARN  [bmm150] id of magnetometer is not: 0x32\r\nERROR [bmm150] driver start failed\r\nMS5611_SPI on SPI bus 2 at 3 (20000 KHz)\r\nHMC5883_SPI on SPI bus 1 at 5 (11000 KHz)\r\nWARN  [hmc5883] no device on bus 1 (type: 3)\r\nWARN  [lis3mdl] no device on bus 2\r\nLIS3MDL_SPI on SPI bus 1 at 7 (11000 KHz)\r\nWARN  [lis3mdl] no device on bus 3\r\nWARN  [bmi055] No BMI055 gyro found\r\nWARN  [mpu6000] no device on bus #3 (SPI1)\r\nWARN  [mpu6000] no device on bus #3 (SPI1)\r\nWARN  [bmi055] No BMI055 accel found\r\nINFO  [mpu9250] Bus probed: 3\r\nMPU9250 on SPI bus 1 at 4 (1000 KHz)\r\nERROR [battery_status] no ADC found: /dev/adc0 (2)\r\nBoard extras: /etc/init.d/rc.board_mavlink\r\nINFO  [mavlink] mode: Config, data rate: 800000 B/s on /dev/ttyACM0 @ 57600B\r\nERROR [mavlink] DM_KEY_MISSION_STATE lock failed\r\nERROR [mavlink] offboard mission init failed (-1)\r\nINFO  [mavlink] mode: Normal, data rate: 20000 B/s on /dev/ttyS0 @ 921600B\r\nWARN  [mavlink] hardware flow control not supported\r\nStarting MAVLink on /dev/ttyS1\r\nINFO  [mavlink] mode: Normal, data rate: 1200 B/s on /dev/ttyS1 @ 57600B\r\nINFO  [init] Mixer: /etc/mixers/quad_x.main.mix on /dev/pwm_output0\r\nBoard extras: /etc/init.d/rc.board_extras\r\nINFO  [logger] logger started (mode=all)\r\nINFO  [logger] log root dir created: /fs/microsd/log\r\n\r\nNuttShell (NSH)\r\nnsh> INFO  [ecl/EKF] EKF aligned, (pressure height, IMU buf: 22, OBS buf: 14)\r\nINFO  [frsky_telemetry] Scanning timeout: exiting\r\n```\r\n\r\n```\r\nnsh> listener sensor_mag\r\n\r\nTOPIC: sensor_mag\r\n sensor_mag_s\r\n        timestamp: 264700518  (0.000555 seconds ago)\r\n        error_count: 0\r\n        device_id: 263178 (Type: 0x04, SPI:1 (0x04)) \r\n        x: 0.3280\r\n        y: 0.3280\r\n        z: 0.2557\r\n        temperature: 45.1921\r\n        scaling: 0.0015\r\n        x_raw: 186\r\n        y_raw: -186\r\n        z_raw: 150\r\n        is_external: False\r\n```\r\n\r\nPX4 version: a6a88774637c745ee069c6482a79b7d4b3cc8b12","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13329/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13326","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13326/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13326/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13326/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13326","id":515132452,"node_id":"MDExOlB1bGxSZXF1ZXN0MzM0NjQxMjYy","number":13326,"title":"mc_pos_control.cpp:Fix forced update parameters","user":{"login":"xdwgood","id":24932258,"node_id":"MDQ6VXNlcjI0OTMyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/24932258?v=4","gravatar_id":"","url":"https://api.github.com/users/xdwgood","html_url":"https://github.com/xdwgood","followers_url":"https://api.github.com/users/xdwgood/followers","following_url":"https://api.github.com/users/xdwgood/following{/other_user}","gists_url":"https://api.github.com/users/xdwgood/gists{/gist_id}","starred_url":"https://api.github.com/users/xdwgood/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xdwgood/subscriptions","organizations_url":"https://api.github.com/users/xdwgood/orgs","repos_url":"https://api.github.com/users/xdwgood/repos","events_url":"https://api.github.com/users/xdwgood/events{/privacy}","received_events_url":"https://api.github.com/users/xdwgood/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-10-31T03:23:58Z","updated_at":"2019-11-01T01:06:20Z","closed_at":"2019-10-31T14:15:26Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13326","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13326","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13326.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13326.patch","merged_at":"2019-10-31T14:15:26Z"},"body":"The problem is generated here: https://github.com/PX4/Firmware/pull/12572","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13326/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13313","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13313/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13313/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13313/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13313","id":514383286,"node_id":"MDU6SXNzdWU1MTQzODMyODY=","number":13313,"title":"MC Landing Gear Don't Deploy at Correct Altitude at End of Mission","user":{"login":"mwiatt","id":4399188,"node_id":"MDQ6VXNlcjQzOTkxODg=","avatar_url":"https://avatars.githubusercontent.com/u/4399188?v=4","gravatar_id":"","url":"https://api.github.com/users/mwiatt","html_url":"https://github.com/mwiatt","followers_url":"https://api.github.com/users/mwiatt/followers","following_url":"https://api.github.com/users/mwiatt/following{/other_user}","gists_url":"https://api.github.com/users/mwiatt/gists{/gist_id}","starred_url":"https://api.github.com/users/mwiatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mwiatt/subscriptions","organizations_url":"https://api.github.com/users/mwiatt/orgs","repos_url":"https://api.github.com/users/mwiatt/repos","events_url":"https://api.github.com/users/mwiatt/events{/privacy}","received_events_url":"https://api.github.com/users/mwiatt/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-10-30T04:00:38Z","updated_at":"2020-09-18T08:05:45Z","closed_at":"2020-09-18T08:05:45Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nLanding gear are enabled via a mixer to AUX1. Landing gear properly retract upon takeoff. When landing, the gear do not start to deploy until the copter is around 1m above the ground.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Power on and wait for GPS lock\r\n2. Uploaded mission. Mission End is set to \"Return to Launch\" [gear-test.txt](https://github.com/PX4/Firmware/files/3786802/gear-test.txt)\r\n3. Took off in mission mode\r\n4. Verified during testing at two locations, 4 flights each.\r\n\r\n**Expected behavior**\r\nDuring the landing phase, landing gear should be commanded to deploy when RTL_DECEND_ALT, LAND_ALT_1, or LAND_ALT_2 is reached though I am not sure which it is (but would like to know). \r\n\r\n**Log Files and Screenshots**\r\nFlight Log showing a very quick flight with one waypoint:\r\nhttps://logs.px4.io/plot_app?log=c57c04e0-a6bd-4f04-9fe2-eb986cbcc1b4\r\n\r\n**Drone (please complete the following information):**\r\n- Tarot X6 (with Tarot retracts)\r\n- Pixhawk Cube 2.1\r\n- Here2 GNSS\r\n- PX4 1.9.2\r\n- QGC 3.5.5\r\n\r\n**Additional context**\r\nA file named lgear.aux.mix is placed in /fs/microsd/etc/mixers. This Tarot landing gear controller requires an PWM output of less than 1520 for the gear to retract and greater that 1520 for the gear to extend which is the reason for the (-) scaling. It has the following content:\r\n```\r\nM: 1\r\nS: 0 7 -10000 -10000 0 -10000 10000\r\n```\r\nA file named config.txt is placed in /fs/microsd/etc with the following content:\r\n```\r\nset MIXER_AUX lgear\r\nset PWM_AUX_OUT 1234\r\nset PWM_AUX_DISARMED 1500\r\nset PWM_AUX_MIN 1000\r\nset PWM_AUX_MAX 2000\r\nset PWM_AUX_RATE 50\r\n```\r\nThe gear are working properly in mission mode on takeoff as well as manual mode using an RC channel assigned by RC_MAP_GEAR_SW.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13313/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13313/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13312","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13312/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13312/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13312/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13312","id":514246578,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMzODk0NTMz","number":13312,"title":"Removed lidar lite reset after intialization","user":{"login":"dakejahl","id":37091262,"node_id":"MDQ6VXNlcjM3MDkxMjYy","avatar_url":"https://avatars.githubusercontent.com/u/37091262?v=4","gravatar_id":"","url":"https://api.github.com/users/dakejahl","html_url":"https://github.com/dakejahl","followers_url":"https://api.github.com/users/dakejahl/followers","following_url":"https://api.github.com/users/dakejahl/following{/other_user}","gists_url":"https://api.github.com/users/dakejahl/gists{/gist_id}","starred_url":"https://api.github.com/users/dakejahl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dakejahl/subscriptions","organizations_url":"https://api.github.com/users/dakejahl/orgs","repos_url":"https://api.github.com/users/dakejahl/repos","events_url":"https://api.github.com/users/dakejahl/events{/privacy}","received_events_url":"https://api.github.com/users/dakejahl/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"assignees":[{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":3,"created_at":"2019-10-29T21:47:48Z","updated_at":"2019-11-03T19:08:19Z","closed_at":"2019-11-03T19:07:28Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13312","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13312","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13312.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13312.patch","merged_at":"2019-11-03T19:07:28Z"},"body":"**Describe problem solved by this pull request**\r\nLidar Lite V3 on i2c fails to initialize.\r\n\r\n Must start from the shell `ll40ls start` and even then it fails a few times before actually functioning. Related to\r\n#12604\r\n#12278\r\nhttps://discuss.px4.io/t/lidarlite-v3-driver-does-not-automatically-start-with-i2c/10783\r\n![lidar_lite](https://user-images.githubusercontent.com/37091262/67811809-35090280-fa63-11e9-83b4-63c3033e0384.png)\r\n\r\nThe driver is resetting the device after reading the device ID. I do not have hardware, however removing this reset solved the issue for someone I was helping who is using a V3.\r\n\r\n**From the datasheet:**\r\n _On power-up or reset, the device performs a self-test sequence and initializes all registers with default values_\r\n\r\nThis makes me think the reset after discovery is unnecessary, as the driver has not written to any registers at this point. \r\n\r\n**Test data / coverage**\r\nCan some others who have hardware please verify this works (with LidarLite v1/2/3)\r\n@mcsauder \r\n@cmic0 \r\n@TSC21 \r\n\r\n\r\n\r\n- [x] V3HP\r\n- [x] V3\r\n- [ ] V2\r\n- [ ] V1","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13312/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13311","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13311/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13311/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13311/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13311","id":514171815,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMzODMwNDkx","number":13311,"title":"NuttX/nuttx with SDIO fixes","user":{"login":"davids5","id":1945821,"node_id":"MDQ6VXNlcjE5NDU4MjE=","avatar_url":"https://avatars.githubusercontent.com/u/1945821?v=4","gravatar_id":"","url":"https://api.github.com/users/davids5","html_url":"https://github.com/davids5","followers_url":"https://api.github.com/users/davids5/followers","following_url":"https://api.github.com/users/davids5/following{/other_user}","gists_url":"https://api.github.com/users/davids5/gists{/gist_id}","starred_url":"https://api.github.com/users/davids5/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davids5/subscriptions","organizations_url":"https://api.github.com/users/davids5/orgs","repos_url":"https://api.github.com/users/davids5/repos","events_url":"https://api.github.com/users/davids5/events{/privacy}","received_events_url":"https://api.github.com/users/davids5/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":581805812,"node_id":"MDU6TGFiZWw1ODE4MDU4MTI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/NuttX%20(OS)","name":"NuttX (OS)","color":"3C33E3","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":7,"created_at":"2019-10-29T19:35:38Z","updated_at":"2019-11-04T09:49:57Z","closed_at":"2019-10-31T15:55:17Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13311","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13311","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13311.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13311.patch","merged_at":"2019-10-31T15:55:17Z"},"body":"This PR addressees hangs when the SD card is removed while writing.\r\n\r\nFixes PX4/Firmware#12071 (comment)\r\nFixes PX4/Firmware#13087 (comment)\r\n\r\n@PX4/testflights - Please test on FMUv4 and FMUv5","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13311/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13311/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13309","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13309/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13309/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13309/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13309","id":513823751,"node_id":"MDU6SXNzdWU1MTM4MjM3NTE=","number":13309,"title":"Commander mode offboard triggers PX4 freeze","user":{"login":"prothen","id":15078119,"node_id":"MDQ6VXNlcjE1MDc4MTE5","avatar_url":"https://avatars.githubusercontent.com/u/15078119?v=4","gravatar_id":"","url":"https://api.github.com/users/prothen","html_url":"https://github.com/prothen","followers_url":"https://api.github.com/users/prothen/followers","following_url":"https://api.github.com/users/prothen/following{/other_user}","gists_url":"https://api.github.com/users/prothen/gists{/gist_id}","starred_url":"https://api.github.com/users/prothen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prothen/subscriptions","organizations_url":"https://api.github.com/users/prothen/orgs","repos_url":"https://api.github.com/users/prothen/repos","events_url":"https://api.github.com/users/prothen/events{/privacy}","received_events_url":"https://api.github.com/users/prothen/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":289821422,"node_id":"MDU6TGFiZWwyODk4MjE0MjI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/sitl","name":"sitl","color":"bfd4f2","default":false,"description":"software in the loop simulation"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-10-29T10:29:15Z","updated_at":"2019-10-29T13:53:40Z","closed_at":"2019-10-29T13:53:40Z","author_association":"NONE","active_lock_reason":null,"body":"**Describe the bug**\r\nUsing px4_sitl_default together with gazebo and sending set_actuator_control_target via pymavlink successfully establishes a mavlink connection and actuator commands are received on the px4 stack and uorb topic offboard_control_mode is published. When using the system console and sending `commander mode offboard` the stack freezes. No uorb topics are published and no mavlink messages are received (gazebo plugin correspondingly outputs `[Err] [gazebo_mavlink_interface.cpp:1155] poll timeout` in the mavlink poll function). The pxh system console remains responsive but commands to any module (e.g. commander, uorb) have no effect and hence indicating the system wide freeze. No error message from PX4 is shown and gdb debugger catches no signals.\r\n\r\n**To Reproduce**\r\n- run `px4_sitl_default gazebo`\r\n- send mavlink messages via pymavlink `c.mav.set_actuator_control_target_send(0, 0, 0, 0, controls)`\r\n- switch to offboard mode using `commander mode offboard`\r\n\r\n**Expected behavior**\r\nPx4 was expected to switch `vehicle_control_mode` into offboard mode.\r\n\r\n**Log Files and Screenshots**\r\n- https://review.px4.io/plot_app?log=86db944d-af82-456a-bb6c-79e8e5b223dd\r\n\r\n**Additional context**\r\n- PX4 firmware (v1.9.2)\r\n- mavlink (release/kinetic/mavlink/2019.10.10-1)\r\n- mavros (0.33.0)\r\n- Approaches so far:\r\n  - PX4_INFO() print outputs showed that commander reaches publishing in run() loop\r\n  - gdb info variables and inspecting last variables gave no further insights\r\n\r\nThe freeze presumably happens after the system console arguments are parsed and published in the commander run loop. It could also be that the crash happens earlier and all modules get stuck at the file descriptor polling. Maybe a problem from global variables causing a race condition with the main commander thread? Maybe I am missing something but it does not seem that variable access is coordinated when parsing the mode argument.\r\n\r\nAny advice on how to approach or debug this problem are very much appreciated!","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13309/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13299","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13299/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13299/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13299/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13299","id":513377453,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMzMTc2NDA5","number":13299,"title":"sensors: own BAT_V_DIV and BAT_A_PER_V params","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-10-28T15:26:46Z","updated_at":"2019-10-28T20:03:09Z","closed_at":"2019-10-28T20:03:06Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13299","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13299","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13299.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13299.patch","merged_at":"2019-10-28T20:03:06Z"},"body":" - this is currently necessary for the QGC Power setup gui, but should\r\nbe reverted in the future\r\n - fixes #13292\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13299/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13294","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13294/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13294/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13294/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13294","id":513206765,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMzMDM4MjQ1","number":13294,"title":"commander: fix battery failsafe without GPS","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1143459324,"node_id":"MDU6TGFiZWwxMTQzNDU5MzI0","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/flight-testing","name":"flight-testing","color":"7ae8a4","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":16,"created_at":"2019-10-28T10:04:32Z","updated_at":"2019-11-05T15:04:08Z","closed_at":"2019-11-05T09:40:32Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13294","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13294","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13294.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13294.patch","merged_at":"2019-11-05T09:40:32Z"},"body":"This fixes the battery failsafe for the following corner cases:\r\n- Battery failsafe set to Return but we can't do RTL because we don't have a global position or home position. In this case we now switch to   Land. Land might end up in Descend in the failsafe state machine later.\r\n- Battery failsafe set to Land but we can't land because we don't have a   local position. In this case we switch to land anyway and then fall back to descend in the failsafe state machine later.\r\n\r\nThe \"fix\" involves ignoring using the main_state_transition and implementing the guards in place. This is a hack for now but should cover the corner case until a more thorough refactor.\r\n\r\nThe different failsafe state machines have involved over time from requirements and learnings based on developed solutions and products. The implementations in various places will need to get consolidated in the future.\r\n\r\nTested in SITL for Return and Land with and without GPS.\r\n\r\nFixes #13291.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13294/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13294/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13292","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13292/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13292/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13292/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13292","id":513165299,"node_id":"MDU6SXNzdWU1MTMxNjUyOTk=","number":13292,"title":"BAT_A_PER_V und BAT_V_DIV missing","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":174161208,"node_id":"MDU6TGFiZWwxNzQxNjEyMDg=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/priority-critical","name":"priority-critical","color":"e11d21","default":false,"description":null},{"id":289821422,"node_id":"MDU6TGFiZWwyODk4MjE0MjI=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/sitl","name":"sitl","color":"bfd4f2","default":false,"description":"software in the loop simulation"}],"state":"closed","locked":false,"assignee":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false}],"milestone":null,"comments":6,"created_at":"2019-10-28T08:36:09Z","updated_at":"2019-10-28T20:07:16Z","closed_at":"2019-10-28T20:03:06Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nWhen I open the Power Tab in QGC 3.5.4 against PX4 SITL (8f910f84358b0da6ad79231080c63f3542408bc1) I get the warning:\r\n\r\n\"Parameters are missing from firmware. You may be running a version of firmware QGC does not work correctly with or your firmware has a bug in it. Missing params: -1:BAT_A_PER_V, -1:BAT_V_DIV\"\r\n\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Start SITL\r\n2. Open QGC and go to Settings -> Power tab.\r\n\r\n**Expected behavior**\r\nNo warning should be displayed.\r\n\r\n**Log Files and Screenshots**\r\n\r\n![Selection_059](https://user-images.githubusercontent.com/1419688/67663622-386a9400-f966-11e9-938e-34b9a8474e9f.png)","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13292/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13291","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13291/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13291/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13291/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13291","id":513145322,"node_id":"MDU6SXNzdWU1MTMxNDUzMjI=","number":13291,"title":"Battery failsafe does not cause DESCEND if local position not available","user":{"login":"RomanBapst","id":7610489,"node_id":"MDQ6VXNlcjc2MTA0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/7610489?v=4","gravatar_id":"","url":"https://api.github.com/users/RomanBapst","html_url":"https://github.com/RomanBapst","followers_url":"https://api.github.com/users/RomanBapst/followers","following_url":"https://api.github.com/users/RomanBapst/following{/other_user}","gists_url":"https://api.github.com/users/RomanBapst/gists{/gist_id}","starred_url":"https://api.github.com/users/RomanBapst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RomanBapst/subscriptions","organizations_url":"https://api.github.com/users/RomanBapst/orgs","repos_url":"https://api.github.com/users/RomanBapst/repos","events_url":"https://api.github.com/users/RomanBapst/events{/privacy}","received_events_url":"https://api.github.com/users/RomanBapst/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":174161208,"node_id":"MDU6TGFiZWwxNzQxNjEyMDg=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/priority-critical","name":"priority-critical","color":"e11d21","default":false,"description":null},{"id":1443093719,"node_id":"MDU6TGFiZWwxNDQzMDkzNzE5","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Failsafe","name":"Failsafe","color":"1f7c00","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"assignees":[{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-10-28T07:46:08Z","updated_at":"2019-11-05T09:40:32Z","closed_at":"2019-11-05T09:40:32Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Bug description**\nOnce the battery level reaches critical value the system tries to execute an RTL or LANDING, whichever is configured. The same process is repeated once the battery level reaches emergency level.\nHowever, if no local position is available (altitude is available) then no failsafe will be executed, even if the battery is totally drained.\nhttps://github.com/PX4/Firmware/blob/master/src/modules/commander/state_machine_helper.cpp#L343\n\n**Alternative**\nHow about handling this case similar to when the vehicle loses RC signal and no local position is available (altitude is available)? In that case the system does a controlled descend.\n\n**Screenshot from SITL testing on lastest master**\n- allowed SITL to drain battery to 0\n- enabled low battery failsafe (land)\n- stopped gpssim such that only altitude but not xy position is valid\n\n![image](https://user-images.githubusercontent.com/7610489/67660508-3cdf7e80-f95f-11e9-8914-19777ba98cad.png)","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13291/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13291/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13284","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13284/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13284/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13284/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13284","id":512980973,"node_id":"MDU6SXNzdWU1MTI5ODA5NzM=","number":13284,"title":"FW enhancements to review","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":10884840,"node_id":"MDU6TGFiZWwxMDg4NDg0MA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/enhancement%20(improvement)%20%F0%9F%92%A1","name":"enhancement (improvement) üí°","color":"84b6eb","default":false,"description":""},{"id":78699916,"node_id":"MDU6TGFiZWw3ODY5OTkxNg==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Fixed%20Wing%20%F0%9F%9B%A9%EF%B8%8F","name":"Fixed Wing üõ©Ô∏è","color":"009800","default":false,"description":""},{"id":249514594,"node_id":"MDU6TGFiZWwyNDk1MTQ1OTQ=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Hybrid%20VTOL%20%F0%9F%9B%A9%EF%B8%8F%F0%9F%9A%81","name":"Hybrid VTOL üõ©Ô∏èüöÅ","color":"bfe5bf","default":false,"description":"Multirotor + Fixedwing!"},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"open","locked":false,"assignee":{"login":"RomanBapst","id":7610489,"node_id":"MDQ6VXNlcjc2MTA0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/7610489?v=4","gravatar_id":"","url":"https://api.github.com/users/RomanBapst","html_url":"https://github.com/RomanBapst","followers_url":"https://api.github.com/users/RomanBapst/followers","following_url":"https://api.github.com/users/RomanBapst/following{/other_user}","gists_url":"https://api.github.com/users/RomanBapst/gists{/gist_id}","starred_url":"https://api.github.com/users/RomanBapst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RomanBapst/subscriptions","organizations_url":"https://api.github.com/users/RomanBapst/orgs","repos_url":"https://api.github.com/users/RomanBapst/repos","events_url":"https://api.github.com/users/RomanBapst/events{/privacy}","received_events_url":"https://api.github.com/users/RomanBapst/received_events","type":"User","site_admin":false},"assignees":[{"login":"RomanBapst","id":7610489,"node_id":"MDQ6VXNlcjc2MTA0ODk=","avatar_url":"https://avatars.githubusercontent.com/u/7610489?v=4","gravatar_id":"","url":"https://api.github.com/users/RomanBapst","html_url":"https://github.com/RomanBapst","followers_url":"https://api.github.com/users/RomanBapst/followers","following_url":"https://api.github.com/users/RomanBapst/following{/other_user}","gists_url":"https://api.github.com/users/RomanBapst/gists{/gist_id}","starred_url":"https://api.github.com/users/RomanBapst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RomanBapst/subscriptions","organizations_url":"https://api.github.com/users/RomanBapst/orgs","repos_url":"https://api.github.com/users/RomanBapst/repos","events_url":"https://api.github.com/users/RomanBapst/events{/privacy}","received_events_url":"https://api.github.com/users/RomanBapst/received_events","type":"User","site_admin":false},{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false},{"login":"sfuhrer","id":26798987,"node_id":"MDQ6VXNlcjI2Nzk4OTg3","avatar_url":"https://avatars.githubusercontent.com/u/26798987?v=4","gravatar_id":"","url":"https://api.github.com/users/sfuhrer","html_url":"https://github.com/sfuhrer","followers_url":"https://api.github.com/users/sfuhrer/followers","following_url":"https://api.github.com/users/sfuhrer/following{/other_user}","gists_url":"https://api.github.com/users/sfuhrer/gists{/gist_id}","starred_url":"https://api.github.com/users/sfuhrer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sfuhrer/subscriptions","organizations_url":"https://api.github.com/users/sfuhrer/orgs","repos_url":"https://api.github.com/users/sfuhrer/repos","events_url":"https://api.github.com/users/sfuhrer/events{/privacy}","received_events_url":"https://api.github.com/users/sfuhrer/received_events","type":"User","site_admin":false}],"milestone":null,"comments":3,"created_at":"2019-10-27T15:28:18Z","updated_at":"2020-04-26T08:22:36Z","closed_at":null,"author_association":"MEMBER","active_lock_reason":null,"body":"These PRs from @almaaro need to reopened in fresh PRs due to technical issues with the CI system and the original repo being deleted.\r\n\r\n - https://github.com/PX4/Firmware/pull/11099 - Getting precise landings with a low-range sonar \r\n - https://github.com/PX4/Firmware/pull/11067 - Feature: go-around patterns for missions\r\n - https://github.com/PX4/Firmware/pull/11063 - Fix to first order altitude hold gradient calculation","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13284/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13282","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13282/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13282/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13282/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13282","id":512964349,"node_id":"MDU6SXNzdWU1MTI5NjQzNDk=","number":13282,"title":"In RTL mode camera triggering does not stoped","user":{"login":"moreba1","id":14200369,"node_id":"MDQ6VXNlcjE0MjAwMzY5","avatar_url":"https://avatars.githubusercontent.com/u/14200369?v=4","gravatar_id":"","url":"https://api.github.com/users/moreba1","html_url":"https://github.com/moreba1","followers_url":"https://api.github.com/users/moreba1/followers","following_url":"https://api.github.com/users/moreba1/following{/other_user}","gists_url":"https://api.github.com/users/moreba1/gists{/gist_id}","starred_url":"https://api.github.com/users/moreba1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moreba1/subscriptions","organizations_url":"https://api.github.com/users/moreba1/orgs","repos_url":"https://api.github.com/users/moreba1/repos","events_url":"https://api.github.com/users/moreba1/events{/privacy}","received_events_url":"https://api.github.com/users/moreba1/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":1589020676,"node_id":"MDU6TGFiZWwxNTg5MDIwNjc2","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/stale","name":"stale","color":"ffffff","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2019-10-27T13:12:15Z","updated_at":"2020-12-22T20:53:54Z","closed_at":"2020-12-22T20:53:54Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nWhen flight mode changes from mission to RTL mode camera triggering does not stoped.\r\n\r\n**Expected behavior**\r\nWhen flight mode changes from mission to other modes a stop triggering command must send to vehicle , also when vehicle comes in mission line again camera triggering must be started.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13282/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13280","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13280/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13280/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13280/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13280","id":512922858,"node_id":"MDU6SXNzdWU1MTI5MjI4NTg=","number":13280,"title":"LL40LS driver cause crash","user":{"login":"hyonlim","id":6064011,"node_id":"MDQ6VXNlcjYwNjQwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/6064011?v=4","gravatar_id":"","url":"https://api.github.com/users/hyonlim","html_url":"https://github.com/hyonlim","followers_url":"https://api.github.com/users/hyonlim/followers","following_url":"https://api.github.com/users/hyonlim/following{/other_user}","gists_url":"https://api.github.com/users/hyonlim/gists{/gist_id}","starred_url":"https://api.github.com/users/hyonlim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hyonlim/subscriptions","organizations_url":"https://api.github.com/users/hyonlim/orgs","repos_url":"https://api.github.com/users/hyonlim/repos","events_url":"https://api.github.com/users/hyonlim/events{/privacy}","received_events_url":"https://api.github.com/users/hyonlim/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"assignees":[{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},{"login":"mcsauder","id":2497951,"node_id":"MDQ6VXNlcjI0OTc5NTE=","avatar_url":"https://avatars.githubusercontent.com/u/2497951?v=4","gravatar_id":"","url":"https://api.github.com/users/mcsauder","html_url":"https://github.com/mcsauder","followers_url":"https://api.github.com/users/mcsauder/followers","following_url":"https://api.github.com/users/mcsauder/following{/other_user}","gists_url":"https://api.github.com/users/mcsauder/gists{/gist_id}","starred_url":"https://api.github.com/users/mcsauder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcsauder/subscriptions","organizations_url":"https://api.github.com/users/mcsauder/orgs","repos_url":"https://api.github.com/users/mcsauder/repos","events_url":"https://api.github.com/users/mcsauder/events{/privacy}","received_events_url":"https://api.github.com/users/mcsauder/received_events","type":"User","site_admin":false}],"milestone":null,"comments":4,"created_at":"2019-10-27T05:25:28Z","updated_at":"2019-10-27T16:15:41Z","closed_at":"2019-10-27T16:15:40Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nWith current master & Pixhawk4 combo, when LL40LS app started command line interface stopped. If LL40LS app is set to started during boot, nsh command is not working.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Flash master\r\n2. Connect LL40LS to i2c\r\n3. Set SENS_EN_LL40LS Enabled\r\n4. See console output (via console cable)\r\n\r\n**Expected behavior**\r\nWhen type a command on nsh, command should work.\r\n\r\n**Log Files and Screenshots**\r\nAttached.\r\n![Screenshot from 2019-10-27 14-21-24](https://user-images.githubusercontent.com/6064011/67630114-972c0100-f8c5-11e9-9c43-ff4a776d42fa.png)\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13280/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13272","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13272/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13272/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13272/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13272","id":512403975,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMyNDIwMjc5","number":13272,"title":"AutoLineSmoothVel: fix constrain priority for autocontinue.","user":{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false},"assignees":[{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":0,"created_at":"2019-10-25T09:22:51Z","updated_at":"2019-10-30T16:10:21Z","closed_at":"2019-10-26T06:34:31Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13272","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13272","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13272.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13272.patch","merged_at":"2019-10-26T06:34:31Z"},"body":"The constrainAbs function was not prioritizing the minimum value that produces the autocontinue behavior. This caused zig-zag paths when the waypoints were almost -but not exactly- aligned.\r\n\r\nBefore this PR:\r\nhttps://logs.px4.io/plot_app?log=96749225-635d-4861-811c-53edc4fe03b0\r\n![bokeh_plot(27)](https://user-images.githubusercontent.com/14822839/67559392-27791300-f719-11e9-9a5c-c8002d2d0db2.png)\r\n\r\nAfter this PR:\r\nhttps://logs.px4.io/plot_app?log=74073a91-dccb-4624-96fc-de09e16bbb4f\r\n![bokeh_plot(28)](https://user-images.githubusercontent.com/14822839/67559398-2c3dc700-f719-11e9-9875-8d3e3a5b8f2f.png)\r\n\r\nFYI @mrivi \r\n\r\nI also made `const` the function that don't modify member variables and `static` the functions that don't use member variables.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13272/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13272/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13267","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13267/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13267/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13267/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13267","id":512052895,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMyMTM3MjU0","number":13267,"title":"Fix heading not stable issue 2","user":{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":174161208,"node_id":"MDU6TGFiZWwxNzQxNjEyMDg=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/priority-critical","name":"priority-critical","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-10-24T16:28:23Z","updated_at":"2019-10-24T16:33:59Z","closed_at":"2019-10-24T16:33:56Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13267","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13267","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13267.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13267.patch","merged_at":"2019-10-24T16:33:56Z"},"body":"","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13267/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13261","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13261/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13261/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13261/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13261","id":511802843,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMxOTMxMjE2","number":13261,"title":"ekf2: Fix heading not stable issue","user":{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":174161208,"node_id":"MDU6TGFiZWwxNzQxNjEyMDg=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/priority-critical","name":"priority-critical","color":"e11d21","default":false,"description":null}],"state":"closed","locked":false,"assignee":{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false},"assignees":[{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":0,"created_at":"2019-10-24T08:54:26Z","updated_at":"2019-10-24T09:27:42Z","closed_at":"2019-10-24T09:27:37Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13261","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13261","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13261.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13261.patch","merged_at":"2019-10-24T09:27:37Z"},"body":"The problem was that a large dt could drive the alpha filter crazy because of the small dt\r\napproximation during the computation of the coefficient.\r\n\r\nUnrelated change:\r\n- Remove unused bitmask packing of the innovation checks\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13261/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13257","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13257/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13257/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13257/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13257","id":511376758,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMxNTg2MTYz","number":13257,"title":"UAVCAN: Optical Flow: Bug fix missing integration_timespan field","user":{"login":"JacobCrabill","id":5885545,"node_id":"MDQ6VXNlcjU4ODU1NDU=","avatar_url":"https://avatars.githubusercontent.com/u/5885545?v=4","gravatar_id":"","url":"https://api.github.com/users/JacobCrabill","html_url":"https://github.com/JacobCrabill","followers_url":"https://api.github.com/users/JacobCrabill/followers","following_url":"https://api.github.com/users/JacobCrabill/following{/other_user}","gists_url":"https://api.github.com/users/JacobCrabill/gists{/gist_id}","starred_url":"https://api.github.com/users/JacobCrabill/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JacobCrabill/subscriptions","organizations_url":"https://api.github.com/users/JacobCrabill/orgs","repos_url":"https://api.github.com/users/JacobCrabill/repos","events_url":"https://api.github.com/users/JacobCrabill/events{/privacy}","received_events_url":"https://api.github.com/users/JacobCrabill/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":581916348,"node_id":"MDU6TGFiZWw1ODE5MTYzNDg=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/uavcan","name":"uavcan","color":"2201AE","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":6,"created_at":"2019-10-23T14:49:34Z","updated_at":"2019-10-25T11:21:04Z","closed_at":"2019-10-25T11:21:04Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13257","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13257","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13257.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13257.patch","merged_at":"2019-10-25T11:21:04Z"},"body":"‚Ä¶optical_flow topic).\r\n\r\n\r\nThis is pretty straightforward.  The uORB topic `optical_flow` includes a field `integration_timespan`, which is used within EKF2 (after being copied to the `dt` field of a `flowSample` object) for a number of calculations, including for the variable `flow_innov`.  The UAVCAN sensor driver for optical flow devices (HereFlow) did not copy this field to the topic before publishing (but it does exist in the CAN message frame).  This resulted in `flow_innov` always being 0.  The fix: copy the field (ensuring consistent units).","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13257/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13257/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13252","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13252/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13252/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13252/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13252","id":511214945,"node_id":"MDU6SXNzdWU1MTEyMTQ5NDU=","number":13252,"title":"Throttle issue","user":{"login":"pifordi","id":13007445,"node_id":"MDQ6VXNlcjEzMDA3NDQ1","avatar_url":"https://avatars.githubusercontent.com/u/13007445?v=4","gravatar_id":"","url":"https://api.github.com/users/pifordi","html_url":"https://github.com/pifordi","followers_url":"https://api.github.com/users/pifordi/followers","following_url":"https://api.github.com/users/pifordi/following{/other_user}","gists_url":"https://api.github.com/users/pifordi/gists{/gist_id}","starred_url":"https://api.github.com/users/pifordi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pifordi/subscriptions","organizations_url":"https://api.github.com/users/pifordi/orgs","repos_url":"https://api.github.com/users/pifordi/repos","events_url":"https://api.github.com/users/pifordi/events{/privacy}","received_events_url":"https://api.github.com/users/pifordi/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":249514594,"node_id":"MDU6TGFiZWwyNDk1MTQ1OTQ=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Hybrid%20VTOL%20%F0%9F%9B%A9%EF%B8%8F%F0%9F%9A%81","name":"Hybrid VTOL üõ©Ô∏èüöÅ","color":"bfe5bf","default":false,"description":"Multirotor + Fixedwing!"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-10-23T10:01:52Z","updated_at":"2019-11-11T13:13:56Z","closed_at":"2019-11-11T13:13:56Z","author_association":"NONE","active_lock_reason":null,"body":"deleted topic","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13252/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13244","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13244/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13244/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13244/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13244","id":510474988,"node_id":"MDU6SXNzdWU1MTA0NzQ5ODg=","number":13244,"title":"flight termination circuit braker not working","user":{"login":"dk7xe","id":3907200,"node_id":"MDQ6VXNlcjM5MDcyMDA=","avatar_url":"https://avatars.githubusercontent.com/u/3907200?v=4","gravatar_id":"","url":"https://api.github.com/users/dk7xe","html_url":"https://github.com/dk7xe","followers_url":"https://api.github.com/users/dk7xe/followers","following_url":"https://api.github.com/users/dk7xe/following{/other_user}","gists_url":"https://api.github.com/users/dk7xe/gists{/gist_id}","starred_url":"https://api.github.com/users/dk7xe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dk7xe/subscriptions","organizations_url":"https://api.github.com/users/dk7xe/orgs","repos_url":"https://api.github.com/users/dk7xe/repos","events_url":"https://api.github.com/users/dk7xe/events{/privacy}","received_events_url":"https://api.github.com/users/dk7xe/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false},"assignees":[{"login":"bresch","id":14822839,"node_id":"MDQ6VXNlcjE0ODIyODM5","avatar_url":"https://avatars.githubusercontent.com/u/14822839?v=4","gravatar_id":"","url":"https://api.github.com/users/bresch","html_url":"https://github.com/bresch","followers_url":"https://api.github.com/users/bresch/followers","following_url":"https://api.github.com/users/bresch/following{/other_user}","gists_url":"https://api.github.com/users/bresch/gists{/gist_id}","starred_url":"https://api.github.com/users/bresch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bresch/subscriptions","organizations_url":"https://api.github.com/users/bresch/orgs","repos_url":"https://api.github.com/users/bresch/repos","events_url":"https://api.github.com/users/bresch/events{/privacy}","received_events_url":"https://api.github.com/users/bresch/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/25","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/25/labels","id":2491597,"node_id":"MDk6TWlsZXN0b25lMjQ5MTU5Nw==","number":25,"title":"Release v1.10.0","description":"","creator":{"login":"LorenzMeier","id":1208119,"node_id":"MDQ6VXNlcjEyMDgxMTk=","avatar_url":"https://avatars.githubusercontent.com/u/1208119?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzMeier","html_url":"https://github.com/LorenzMeier","followers_url":"https://api.github.com/users/LorenzMeier/followers","following_url":"https://api.github.com/users/LorenzMeier/following{/other_user}","gists_url":"https://api.github.com/users/LorenzMeier/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzMeier/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzMeier/subscriptions","organizations_url":"https://api.github.com/users/LorenzMeier/orgs","repos_url":"https://api.github.com/users/LorenzMeier/repos","events_url":"https://api.github.com/users/LorenzMeier/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzMeier/received_events","type":"User","site_admin":false},"open_issues":15,"closed_issues":157,"state":"closed","created_at":"2017-05-01T13:31:10Z","updated_at":"2023-07-28T12:48:24Z","due_on":"2019-09-01T07:00:00Z","closed_at":"2020-03-02T09:02:17Z"},"comments":3,"created_at":"2019-10-22T07:23:05Z","updated_at":"2019-10-22T08:37:29Z","closed_at":"2019-10-22T08:11:35Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nAs reported by Michael as well on https://discuss.px4.io/t/pixhawk-2-px4-fd-fail-flight-termination-not-working/13281 the CBRK_FLIGHTTERM seems not to work.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. set CBRK_FLIGHTTERM to 0 to enable circuit breaker\r\n2. set one of the PWM_MAIN_FAIL to 2000us and connect e.g. servo to that PWM port.\r\n3. arm drone and take off\r\n4. force drone to exeed the max roll/pitch angle of the default 60¬∞ (FD_FAIL_P and FD_FAIL_R)\r\n5. motors DO NOT stop now and a programmed PWM_MAIN_FAIL is not set (servo not moving)\r\n\r\n**Expected behavior**\r\nangle of more than 60 degrees should be detected. Motors to be stopped and PWM_MAIN_FAIL settings to become active.\r\n\r\n**Log Files and Screenshots**\r\nhttps://logs.px4.io/plot_app?log=58de9b83-0cf3-4e7f-9a0e-55df674bfdbf\r\n\r\nAdd screenshots to help explain your problem.\r\n![grafik](https://user-images.githubusercontent.com/3907200/67264491-7de11a00-f4ab-11e9-9c98-ef1a5ebd57f7.png)\r\n![grafik](https://user-images.githubusercontent.com/3907200/67264500-83d6fb00-f4ab-11e9-9aa8-f41c602c23b9.png)\r\n\r\n**Drone (please complete the following information):**\r\n- LJI500S test drone with NXP FMUK66 revC\r\n- Red flash light connected to PWM6 port (flash light starts blinking at >1500us) to indicate status of PWM output.\r\n- CBRK_FLIGHTTERM set to 0\r\n- PWM_MAIN_DIS6 set to 900us\r\n- PWM_MAIN_FAIL6 set to 2000us\r\n\r\n**Additional context**\r\nTesting of the PWM_MAIN_FAIL6 settings was previously done by setting RC loss Failsave to \"Terminate\". With this configuration and by swithing off the RC transmitter motors were shut down and PWM_MAIN_FAIL6 set to 2000us got active. So the issue seems to be related to the CBRK_FLIGHTTERM (FD_FAIL_P and FD_FAIL_R) behaviour only.\r\n\r\nTest was executed without propellers! Drone was armed at ground floor and throttle value was set to 50%. Drone was carried up to 5th floor of building and flipped over (upside down).\r\n\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13244/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13242","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13242/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13242/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13242/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13242","id":510302402,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMwNzAwNjEw","number":13242,"title":"generate_listener.py don't use message length","user":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-10-21T21:24:03Z","updated_at":"2019-10-22T07:22:22Z","closed_at":"2019-10-22T07:19:19Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13242","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13242","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13242.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13242.patch","merged_at":"2019-10-22T07:19:19Z"},"body":"In current master things like `listener actuator_controls_0` aren't working because it's matching with actuator_controls first.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13242/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13235","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13235/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13235/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13235/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13235","id":509497029,"node_id":"MDExOlB1bGxSZXF1ZXN0MzMwMDQ4NzU5","number":13235,"title":"microRTPS: templates: only decode ros2_distro when possible and nedeed","user":{"login":"TSC21","id":5048656,"node_id":"MDQ6VXNlcjUwNDg2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5048656?v=4","gravatar_id":"","url":"https://api.github.com/users/TSC21","html_url":"https://github.com/TSC21","followers_url":"https://api.github.com/users/TSC21/followers","following_url":"https://api.github.com/users/TSC21/following{/other_user}","gists_url":"https://api.github.com/users/TSC21/gists{/gist_id}","starred_url":"https://api.github.com/users/TSC21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TSC21/subscriptions","organizations_url":"https://api.github.com/users/TSC21/orgs","repos_url":"https://api.github.com/users/TSC21/repos","events_url":"https://api.github.com/users/TSC21/events{/privacy}","received_events_url":"https://api.github.com/users/TSC21/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":661334604,"node_id":"MDU6TGFiZWw2NjEzMzQ2MDQ=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/rtps%20(depreciated)","name":"rtps (depreciated)","color":"0087B3","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"TSC21","id":5048656,"node_id":"MDQ6VXNlcjUwNDg2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5048656?v=4","gravatar_id":"","url":"https://api.github.com/users/TSC21","html_url":"https://github.com/TSC21","followers_url":"https://api.github.com/users/TSC21/followers","following_url":"https://api.github.com/users/TSC21/following{/other_user}","gists_url":"https://api.github.com/users/TSC21/gists{/gist_id}","starred_url":"https://api.github.com/users/TSC21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TSC21/subscriptions","organizations_url":"https://api.github.com/users/TSC21/orgs","repos_url":"https://api.github.com/users/TSC21/repos","events_url":"https://api.github.com/users/TSC21/events{/privacy}","received_events_url":"https://api.github.com/users/TSC21/received_events","type":"User","site_admin":false},"assignees":[{"login":"TSC21","id":5048656,"node_id":"MDQ6VXNlcjUwNDg2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5048656?v=4","gravatar_id":"","url":"https://api.github.com/users/TSC21","html_url":"https://github.com/TSC21","followers_url":"https://api.github.com/users/TSC21/followers","following_url":"https://api.github.com/users/TSC21/following{/other_user}","gists_url":"https://api.github.com/users/TSC21/gists{/gist_id}","starred_url":"https://api.github.com/users/TSC21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TSC21/subscriptions","organizations_url":"https://api.github.com/users/TSC21/orgs","repos_url":"https://api.github.com/users/TSC21/repos","events_url":"https://api.github.com/users/TSC21/events{/privacy}","received_events_url":"https://api.github.com/users/TSC21/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2019-10-19T19:11:02Z","updated_at":"2019-10-20T15:08:37Z","closed_at":"2019-10-20T15:08:33Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13235","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13235","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13235.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13235.patch","merged_at":"2019-10-20T15:08:33Z"},"body":"Aims to fix http://ci.px4.io:8080/blue/organizations/jenkins/PX4%2Fcontainers/detail/PR-205/2/pipeline/#step-78-log-252. Seems to be something only present in Python 3.7.","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13235/timeline","performed_via_github_app":null,"state_reason":null},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13231","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13231/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13231/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13231/events","html_url":"https://github.com/PX4/PX4-Autopilot/issues/13231","id":509121415,"node_id":"MDU6SXNzdWU1MDkxMjE0MTU=","number":13231,"title":"Land detector edge case in descend mode","user":{"login":"julianoes","id":1419688,"node_id":"MDQ6VXNlcjE0MTk2ODg=","avatar_url":"https://avatars.githubusercontent.com/u/1419688?v=4","gravatar_id":"","url":"https://api.github.com/users/julianoes","html_url":"https://github.com/julianoes","followers_url":"https://api.github.com/users/julianoes/followers","following_url":"https://api.github.com/users/julianoes/following{/other_user}","gists_url":"https://api.github.com/users/julianoes/gists{/gist_id}","starred_url":"https://api.github.com/users/julianoes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianoes/subscriptions","organizations_url":"https://api.github.com/users/julianoes/orgs","repos_url":"https://api.github.com/users/julianoes/repos","events_url":"https://api.github.com/users/julianoes/events{/privacy}","received_events_url":"https://api.github.com/users/julianoes/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":78699954,"node_id":"MDU6TGFiZWw3ODY5OTk1NA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/Multirotor%20%F0%9F%9B%B8","name":"Multirotor üõ∏","color":"0052cc","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false},"assignees":[{"login":"MaEtUgR","id":4668506,"node_id":"MDQ6VXNlcjQ2Njg1MDY=","avatar_url":"https://avatars.githubusercontent.com/u/4668506?v=4","gravatar_id":"","url":"https://api.github.com/users/MaEtUgR","html_url":"https://github.com/MaEtUgR","followers_url":"https://api.github.com/users/MaEtUgR/followers","following_url":"https://api.github.com/users/MaEtUgR/following{/other_user}","gists_url":"https://api.github.com/users/MaEtUgR/gists{/gist_id}","starred_url":"https://api.github.com/users/MaEtUgR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MaEtUgR/subscriptions","organizations_url":"https://api.github.com/users/MaEtUgR/orgs","repos_url":"https://api.github.com/users/MaEtUgR/repos","events_url":"https://api.github.com/users/MaEtUgR/events{/privacy}","received_events_url":"https://api.github.com/users/MaEtUgR/received_events","type":"User","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32","html_url":"https://github.com/PX4/PX4-Autopilot/milestone/32","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/milestones/32/labels","id":4728829,"node_id":"MDk6TWlsZXN0b25lNDcyODgyOQ==","number":32,"title":"Release v1.11.0","description":"","creator":{"login":"dagar","id":84712,"node_id":"MDQ6VXNlcjg0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/84712?v=4","gravatar_id":"","url":"https://api.github.com/users/dagar","html_url":"https://github.com/dagar","followers_url":"https://api.github.com/users/dagar/followers","following_url":"https://api.github.com/users/dagar/following{/other_user}","gists_url":"https://api.github.com/users/dagar/gists{/gist_id}","starred_url":"https://api.github.com/users/dagar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dagar/subscriptions","organizations_url":"https://api.github.com/users/dagar/orgs","repos_url":"https://api.github.com/users/dagar/repos","events_url":"https://api.github.com/users/dagar/events{/privacy}","received_events_url":"https://api.github.com/users/dagar/received_events","type":"User","site_admin":false},"open_issues":7,"closed_issues":167,"state":"open","created_at":"2019-10-07T16:06:51Z","updated_at":"2023-04-11T12:29:40Z","due_on":"2020-04-01T07:00:00Z","closed_at":null},"comments":4,"created_at":"2019-10-18T14:35:10Z","updated_at":"2021-06-02T05:30:47Z","closed_at":"2021-06-02T05:30:47Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"body":"**Describe the bug**\r\nThe land detector seems to detect ground contact in Descend mode (RC land failsafe without GPS).\r\n\r\n1. `vertical_movement` to be `false`: https://github.com/PX4/Firmware/blob/95dc522b99688a08402ac6462ad28f5dfd338eda/src/modules/land_detector/MulticopterLandDetector.cpp#L154\r\n2. `hit_ground` to be `true`: https://github.com/PX4/Firmware/blob/95dc522b99688a08402ac6462ad28f5dfd338eda/src/modules/land_detector/MulticopterLandDetector.cpp#L165\r\n\r\nThis happens because the z controller only reacts slowly to the new setpoint so the z velocity down is much less than the z velocity setpoint here:\r\nhttps://github.com/PX4/Firmware/blob/95dc522b99688a08402ac6462ad28f5dfd338eda/src/modules/land_detector/MulticopterLandDetector.cpp#L151-L154\r\n\r\nOne observation of the descend case is that the velocity setpoint jumps to the land speed instead of gradually reaching it like in Land (with GPS) mode.\r\n\r\n![bokeh_plot(1)](https://user-images.githubusercontent.com/1419688/67103273-14b88880-f1c5-11e9-932a-827e357f7cc7.png)\r\n\r\n\r\n**To Reproduce**\r\nThis is hard to reproduce in SITL because the drone seems to follow the setpoint quicker.\r\n\r\n**Expected behavior**\r\nIt should not detect ground contact until actually landed.\r\n\r\n**Log Files and Screenshots**\r\n\r\nThis happened in a failsafe descend test:\r\nhttps://review.px4.io/plot_app?log=3104d449-dd29-473f-9055-354984ff8afa\r\n\r\nThis does **not** happen in normal landing:\r\nhttps://review.px4.io/plot_app?log=2ea6423f-b232-45c9-8c40-32e775118359\r\n\r\nMore info in https://github.com/PX4/Firmware/pull/13143#issuecomment-543682487.\r\n\r\nFYI @bresch @MaEtUgR \r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13231/timeline","performed_via_github_app":null,"state_reason":"completed"},{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13211","repository_url":"https://api.github.com/repos/PX4/PX4-Autopilot","labels_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13211/labels{/name}","comments_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13211/comments","events_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13211/events","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13211","id":507915989,"node_id":"MDExOlB1bGxSZXF1ZXN0MzI4ODEzMzQ0","number":13211,"title":"microRTPS bridge: templates: do not change naming of topics based on the fasrtpsgen version","user":{"login":"TSC21","id":5048656,"node_id":"MDQ6VXNlcjUwNDg2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5048656?v=4","gravatar_id":"","url":"https://api.github.com/users/TSC21","html_url":"https://github.com/TSC21","followers_url":"https://api.github.com/users/TSC21/followers","following_url":"https://api.github.com/users/TSC21/following{/other_user}","gists_url":"https://api.github.com/users/TSC21/gists{/gist_id}","starred_url":"https://api.github.com/users/TSC21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TSC21/subscriptions","organizations_url":"https://api.github.com/users/TSC21/orgs","repos_url":"https://api.github.com/users/TSC21/repos","events_url":"https://api.github.com/users/TSC21/events{/privacy}","received_events_url":"https://api.github.com/users/TSC21/received_events","type":"User","site_admin":false},"labels":[{"id":10884838,"node_id":"MDU6TGFiZWwxMDg4NDgzOA==","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/bug","name":"bug","color":"fc2929","default":true,"description":null},{"id":661334604,"node_id":"MDU6TGFiZWw2NjEzMzQ2MDQ=","url":"https://api.github.com/repos/PX4/PX4-Autopilot/labels/rtps%20(depreciated)","name":"rtps (depreciated)","color":"0087B3","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"TSC21","id":5048656,"node_id":"MDQ6VXNlcjUwNDg2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5048656?v=4","gravatar_id":"","url":"https://api.github.com/users/TSC21","html_url":"https://github.com/TSC21","followers_url":"https://api.github.com/users/TSC21/followers","following_url":"https://api.github.com/users/TSC21/following{/other_user}","gists_url":"https://api.github.com/users/TSC21/gists{/gist_id}","starred_url":"https://api.github.com/users/TSC21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TSC21/subscriptions","organizations_url":"https://api.github.com/users/TSC21/orgs","repos_url":"https://api.github.com/users/TSC21/repos","events_url":"https://api.github.com/users/TSC21/events{/privacy}","received_events_url":"https://api.github.com/users/TSC21/received_events","type":"User","site_admin":false},"assignees":[{"login":"TSC21","id":5048656,"node_id":"MDQ6VXNlcjUwNDg2NTY=","avatar_url":"https://avatars.githubusercontent.com/u/5048656?v=4","gravatar_id":"","url":"https://api.github.com/users/TSC21","html_url":"https://github.com/TSC21","followers_url":"https://api.github.com/users/TSC21/followers","following_url":"https://api.github.com/users/TSC21/following{/other_user}","gists_url":"https://api.github.com/users/TSC21/gists{/gist_id}","starred_url":"https://api.github.com/users/TSC21/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TSC21/subscriptions","organizations_url":"https://api.github.com/users/TSC21/orgs","repos_url":"https://api.github.com/users/TSC21/repos","events_url":"https://api.github.com/users/TSC21/events{/privacy}","received_events_url":"https://api.github.com/users/TSC21/received_events","type":"User","site_admin":false}],"milestone":null,"comments":0,"created_at":"2019-10-16T15:09:54Z","updated_at":"2019-10-16T15:16:15Z","closed_at":"2019-10-16T15:16:12Z","author_association":"MEMBER","active_lock_reason":null,"draft":false,"pull_request":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/pulls/13211","html_url":"https://github.com/PX4/PX4-Autopilot/pull/13211","diff_url":"https://github.com/PX4/PX4-Autopilot/pull/13211.diff","patch_url":"https://github.com/PX4/PX4-Autopilot/pull/13211.patch","merged_at":"2019-10-16T15:16:12Z"},"body":"This makes sure that all topics are consistent between all Pub/Subs in the different Fast-RTPS and ROS2 versions.\r\n","reactions":{"url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PX4/PX4-Autopilot/issues/13211/timeline","performed_via_github_app":null,"state_reason":null},